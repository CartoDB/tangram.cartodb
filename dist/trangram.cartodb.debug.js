(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.TangramCarto = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){
(function (global){
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.CCSS=e()}}(function(){var define,module,exports;return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof _dereq_&&_dereq_;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t){function n(e,t){return d.isUndefined(t)?""+t:d.isNumber(t)&&!isFinite(t)?t.toString():d.isFunction(t)||d.isRegExp(t)?t.toString():t}function r(e,t){return d.isString(e)?e.length<t?e:e.slice(0,t):e}function i(e){return r(JSON.stringify(e.actual,n),128)+" "+e.operator+" "+r(JSON.stringify(e.expected,n),128)}function o(e,t,n,r,i){throw new m.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function a(e,t){e||o(e,!0,t,"==",m.ok)}function s(e,t){if(e===t)return!0;if(d.isBuffer(e)&&d.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return d.isDate(e)&&d.isDate(t)?e.getTime()===t.getTime():d.isRegExp(e)&&d.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:d.isObject(e)||d.isObject(t)?u(e,t):e==t}function l(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function u(e,t){if(d.isNullOrUndefined(e)||d.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(d.isPrimitive(e)||d.isPrimitive(t))return e===t;var n=l(e),r=l(t);if(n&&!r||!n&&r)return!1;if(n)return e=h.call(e),t=h.call(t),s(e,t);var i,o,a=g(e),u=g(t);if(a.length!=u.length)return!1;for(a.sort(),u.sort(),o=a.length-1;o>=0;o--)if(a[o]!=u[o])return!1;for(o=a.length-1;o>=0;o--)if(i=a[o],!s(e[i],t[i]))return!1;return!0}function c(e,t){return e&&t?"[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t?!0:t.call({},e)===!0?!0:!1:!1}function f(e,t,n,r){var i;d.isString(n)&&(r=n,n=null);try{t()}catch(a){i=a}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&o(i,n,"Missing expected exception"+r),!e&&c(i,n)&&o(i,n,"Got unwanted exception"+r),e&&i&&n&&!c(i,n)||!e&&i)throw i}var d=e("util/"),h=Array.prototype.slice,p=Object.prototype.hasOwnProperty,m=t.exports=a;m.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=i(this),this.generatedMessage=!0);var t=e.stackStartFunction||o;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,a=t.name,s=r.indexOf("\n"+a);if(s>=0){var l=r.indexOf("\n",s+1);r=r.substring(l+1)}this.stack=r}}},d.inherits(m.AssertionError,Error),m.fail=o,m.ok=a,m.equal=function(e,t,n){e!=t&&o(e,t,n,"==",m.equal)},m.notEqual=function(e,t,n){e==t&&o(e,t,n,"!=",m.notEqual)},m.deepEqual=function(e,t,n){s(e,t)||o(e,t,n,"deepEqual",m.deepEqual)},m.notDeepEqual=function(e,t,n){s(e,t)&&o(e,t,n,"notDeepEqual",m.notDeepEqual)},m.strictEqual=function(e,t,n){e!==t&&o(e,t,n,"===",m.strictEqual)},m.notStrictEqual=function(e,t,n){e===t&&o(e,t,n,"!==",m.notStrictEqual)},m.throws=function(){f.apply(this,[!0].concat(h.call(arguments)))},m.doesNotThrow=function(){f.apply(this,[!1].concat(h.call(arguments)))},m.ifError=function(e){if(e)throw e};var g=Object.keys||function(e){var t=[];for(var n in e)p.call(e,n)&&t.push(n);return t}},{"util/":45}],2:[function(){},{}],3:[function(e){!function(e){function t(t){return e.functions.hsla(t.h,t.s,t.l,t.a)}function n(t){return t instanceof e.Dimension?parseFloat("%"==t.unit?t.value/100:t.value):"number"==typeof t?t:0/0}function r(e){return Math.min(1,Math.max(0,e))}e.functions={rgb:function(e,t,n){return this.rgba(e,t,n,1)},rgba:function(t,r,i,o){var a=[t,r,i].map(function(e){return n(e)});return o=n(o),a.some(isNaN)||isNaN(o)?null:new e.Color(a,o)},stop:function(e){var t,n;return arguments.length>1&&(t=arguments[1]),arguments.length>2&&(n=arguments[2]),{is:"tag",val:e,color:t,mode:n,toString:function(r){return'\n	<stop value="'+e.ev(r)+'"'+(t?' color="'+t.ev(r)+'" ':"")+(n?' mode="'+n.ev(r)+'" ':"")+"/>"}}},hsl:function(e,t,n){return this.hsla(e,t,n,1)},hsla:function(e,t,r,i){function o(e){return e=0>e?e+1:e>1?e-1:e,1>6*e?s+(a-s)*e*6:1>2*e?a:2>3*e?s+(a-s)*(2/3-e)*6:s}if(e=n(e)%360/360,t=n(t),r=n(r),i=n(i),[e,t,r,i].some(isNaN))return null;var a=.5>=r?r*(t+1):r+t-r*t,s=2*r-a;return this.rgba(255*o(e+1/3),255*o(e),255*o(e-1/3),i)},hue:function(t){return"toHSL"in t?new e.Dimension(Math.round(t.toHSL().h)):null},saturation:function(t){return"toHSL"in t?new e.Dimension(Math.round(100*t.toHSL().s),"%"):null},lightness:function(t){return"toHSL"in t?new e.Dimension(Math.round(100*t.toHSL().l),"%"):null},alpha:function(t){return"toHSL"in t?new e.Dimension(t.toHSL().a):null},saturate:function(e,n){if(!("toHSL"in e))return null;var i=e.toHSL();return i.s+=n.value/100,i.s=r(i.s),t(i)},desaturate:function(e,n){if(!("toHSL"in e))return null;var i=e.toHSL();return i.s-=n.value/100,i.s=r(i.s),t(i)},lighten:function(e,n){if(!("toHSL"in e))return null;var i=e.toHSL();return i.l+=n.value/100,i.l=r(i.l),t(i)},darken:function(e,n){if(!("toHSL"in e))return null;var i=e.toHSL();return i.l-=n.value/100,i.l=r(i.l),t(i)},fadein:function(e,n){if(!("toHSL"in e))return null;var i=e.toHSL();return i.a+=n.value/100,i.a=r(i.a),t(i)},fadeout:function(e,n){if(!("toHSL"in e))return null;var i=e.toHSL();return i.a-=n.value/100,i.a=r(i.a),t(i)},spin:function(e,n){if(!("toHSL"in e))return null;var r=e.toHSL(),i=(r.h+n.value)%360;return r.h=0>i?360+i:i,t(r)},replace:function(e,t,n){return"field"===e.is?e.toString+".replace("+t.toString()+", "+n.toString()+")":e.replace(t,n)},mix:function(t,n,r){var i=r.value/100,o=2*i-1,a=t.toHSL().a-n.toHSL().a,s=((o*a==-1?o:(o+a)/(1+o*a))+1)/2,l=1-s,u=[t.rgb[0]*s+n.rgb[0]*l,t.rgb[1]*s+n.rgb[1]*l,t.rgb[2]*s+n.rgb[2]*l],c=t.alpha*i+n.alpha*(1-i);return new e.Color(u,c)},greyscale:function(t){return this.desaturate(t,new e.Dimension(100))},"%":function(t){for(var n=Array.prototype.slice.call(arguments,1),r=t.value,i=0;i<n.length;i++)r=r.replace(/%s/,n[i].value).replace(/%[da]/,n[i].toString());return r=r.replace(/%%/g,"%"),new e.Quoted(r)}};for(var i=["emboss","blur","gray","sobel","edge-detect","x-gradient","y-gradient","sharpen"],o=0;o<i.length;o++){var a=i[o];e.functions[a]=function(t){return function(){return new e.ImageFilter(t)}}(a)}e.functions["agg-stack-blur"]=function(t,n){return new e.ImageFilter("agg-stack-blur",[t,n])},e.functions["scale-hsla"]=function(t,n,r,i,o,a,s,l){return new e.ImageFilter("scale-hsla",[t,n,r,i,o,a,s,l])}}(e("./tree"))},{"./tree":9}],4:[function(e,t,n){(function(t,r){function i(){if(t.browser)return e("../../package.json").version.split(".");if(parseInt(t.version.split(".")[1],10)>4)return e("../../package.json").version.split(".");var n=JSON.parse(s.readFileSync(l.join(r,"../../package.json")));return n.version.split(".")}function o(e,t){var n={bold:[1,22],inverse:[7,27],underline:[4,24],yellow:[33,39],green:[32,39],red:[31,39],grey:[90,39]};return"["+n[t][0]+"m"+e+"["+n[t][1]+"m"}var a=e("util"),s=e("fs"),l=e("path"),u={version:i(),Parser:e("./parser").Parser,Renderer:e("./renderer").Renderer,tree:e("./tree"),RendererJS:e("./renderer_js"),default_reference:e("./torque-reference"),writeError:function(e,t){var n="",r=e.extract,i=[];if(t=t||{},!t.silent){if(t.indent=t.indent||"",!("index"in e&&r))return a.error(t.indent+(e.stack||e.message));"string"==typeof r[0]&&i.push(o(e.line-1+" "+r[0],"grey")),""===r[1]&&"undefined"==typeof r[2]&&(r[1]="Â¶"),i.push(e.line+" "+r[1].slice(0,e.column)+o(o(r[1][e.column],"bold")+r[1].slice(e.column+1),"yellow")),"string"==typeof r[2]&&i.push(o(e.line+1+" "+r[2],"grey")),i=t.indent+i.join("\n"+t.indent)+"[0m\n",n=t.indent+n+o(e.message,"red"),e.filename&&(n+=o(" in ","red")+e.filename),a.error(n,i),e.callLine&&(a.error(o("from ","red")+(e.filename||"")),a.error(o(e.callLine,"grey")+" "+e.callExtract)),e.stack&&a.error(o(e.stack,"red"))}}};e("./tree/call"),e("./tree/color"),e("./tree/comment"),e("./tree/definition"),e("./tree/dimension"),e("./tree/element"),e("./tree/expression"),e("./tree/filterset"),e("./tree/filter"),e("./tree/field"),e("./tree/keyword"),e("./tree/layer"),e("./tree/literal"),e("./tree/operation"),e("./tree/quoted"),e("./tree/imagefilter"),e("./tree/reference"),e("./tree/rule"),e("./tree/ruleset"),e("./tree/selector"),e("./tree/style"),e("./tree/url"),e("./tree/value"),e("./tree/variable"),e("./tree/zoom"),e("./tree/invalid"),e("./tree/fontset"),e("./tree/frame_offset"),e("./functions");for(var c in u)n[c]=u[c]}).call(this,e("_process"),"/node_modules/carto/lib/carto")},{"../../package.json":38,"./functions":3,"./parser":5,"./renderer":6,"./renderer_js":7,"./torque-reference":8,"./tree":9,"./tree/call":10,"./tree/color":11,"./tree/comment":12,"./tree/definition":13,"./tree/dimension":14,"./tree/element":15,"./tree/expression":16,"./tree/field":17,"./tree/filter":18,"./tree/filterset":19,"./tree/fontset":20,"./tree/frame_offset":21,"./tree/imagefilter":22,"./tree/invalid":23,"./tree/keyword":24,"./tree/layer":25,"./tree/literal":26,"./tree/operation":27,"./tree/quoted":28,"./tree/reference":29,"./tree/rule":30,"./tree/ruleset":31,"./tree/selector":32,"./tree/style":33,"./tree/url":34,"./tree/value":35,"./tree/variable":36,"./tree/zoom":37,_process:41,fs:2,path:40,util:45}],5:[function(e,t,n){(function(t){var r=n,i=e("./tree"),o=t._||e("underscore");r.Parser=function(e){function t(){h=g[d],p=f,v=f}function n(){g[d]=h,f=p,v=f}function r(){f>v&&(g[d]=g[d].slice(f-v),v=f)}function a(e){var t,n,i,o;if(e instanceof Function)return e.call(y.parsers);if("string"==typeof e)t=c.charAt(f)===e?e:null,n=1,r();else{if(r(),t=e.exec(g[d]),!t)return null;n=t[0].length}if(t){var a=f+=n;for(o=f+g[d].length-n;o>f&&(i=c.charCodeAt(f),32===i||10===i||9===i);)f++;return g[d]=g[d].slice(n+(f-a)),v=f,0===g[d].length&&d<g.length-1&&d++,"string"==typeof t?t:1===t.length?t[0]:t}}function s(e){return"string"==typeof e?c.charAt(f)===e:!!e.test(g[d])}function l(e,t){return(e.slice(0,t).match(/\n/g)||"").length+1}function u(t){var n,r;o.defaults(t,{index:m,filename:e.filename,message:"Parse error.",line:0,column:-1}),n=t.filename&&b.env.inputs&&b.env.inputs[t.filename]?b.env.inputs[t.filename]:c,t.line=l(n,t.index);for(var i=t.index;i>=0&&"\n"!==n.charAt(i);i--)t.column++;return r=o.template("<%=filename%>:<%=line%>:<%=column%> <%=message%>"),new Error(r(t))}var c,f,d,h,p,m,g,v,y,b=this;return this.env=e=e||{},this.env.filename=this.env.filename||null,this.env.inputs=this.env.inputs||{},y={extractErrorLine:l,parse:function(t){var n,r=null;f=d=v=m=0,g=[],c=t.replace(/\r\n/g,"\n"),e.filename&&(b.env.inputs[e.filename]=c);if(g=function(e){for(var t,n,i,o,a=0,s=/(?:@\{[\w-]+\}|[^"'`\{\}\/\(\)\\])+/g,l=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,u=/"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`]|\\.)*)`/g,f=0,d=e[0],h=0;h<c.length;)if(s.lastIndex=h,(t=s.exec(c))&&t.index===h&&(h+=t[0].length,d.push(t[0])),i=c.charAt(h),l.lastIndex=u.lastIndex=h,(t=u.exec(c))&&t.index===h)h+=t[0].length,d.push(t[0]);else if(n||"/"!==i||(o=c.charAt(h+1),"/"!==o&&"*"!==o||!(t=l.exec(c))||t.index!==h)){switch(i){case"{":if(!n){f++,d.push(i);break}case"}":if(!n){f--,d.push(i),e[++a]=d=[];break}case"(":if(!n){n=!0,d.push(i);break}case")":if(n){n=!1,d.push(i);break}default:d.push(i)}h++}else h+=t[0].length,d.push(t[0]);return 0!==f&&(r={index:h-1,type:"Parse",message:f>0?"missing closing `}`":"missing opening `{`"}),e.map(function(e){return e.join("")})}([[]]),r)throw u(r);n=new i.Ruleset([],a(this.parsers.primary)),n.root=!0,n.toList=function(){return function(e){e.error=function(t){e.errors||(e.errors=new Error("")),e.errors.message?e.errors.message+="\n"+u(t).message:e.errors.message=u(t).message},e.frames=e.frames||[];var t=this.flatten([],[],e);return t.sort(o),t}}();var o=function(e,t){var n=e.specificity,r=t.specificity;return n[0]!=r[0]?r[0]-n[0]:n[1]!=r[1]?r[1]-n[1]:n[2]!=r[2]?r[2]-n[2]:r[3]-n[3]};return n},parsers:{primary:function(){for(var e,t=[];(e=a(this.rule)||a(this.ruleset)||a(this.comment))||a(/^[\s\n]+/)||(e=a(this.invalid));)e&&t.push(e);return t},invalid:function(){var e=a(/^[^;\n]*[;\n]/);return e?new i.Invalid(e,p):void 0},comment:function(){var e;if("/"===c.charAt(f))return"/"===c.charAt(f+1)?new i.Comment(a(/^\/\/.*/),!0):(e=a(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/))?new i.Comment(e):void 0},entities:{quoted:function(){if('"'===c.charAt(f)||"'"===c.charAt(f)){var e=a(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/);return e?new i.Quoted(e[1]||e[2]):void 0}},field:function(){if(a("[")){var e=a(/(^[^\]]+)/);if(a("]"))return e?new i.Field(e[1]):void 0}},comparison:function(){var e=a(/^=~|=|!=|<=|>=|<|>/);return e?e:void 0},keyword:function(){var e=a(/^[A-Za-z-]+[A-Za-z-0-9_]*/);return e?new i.Keyword(e):void 0},call:function(){var e,t;if(e=/^([\w\-]+|%)\(/.exec(g[d])){if(e=e[1],"url"===e)return null;if(f+=e.length,a("("),t=a(this.entities.arguments),a(")"))return e?new i.Call(e,t,f):void 0}},arguments:function(){for(var e,t=[];(e=a(this.expression))&&(t.push(e),a(",")););return t},literal:function(){return a(this.entities.dimension)||a(this.entities.keywordcolor)||a(this.entities.hexcolor)||a(this.entities.quoted)},url:function(){var e;if("u"===c.charAt(f)&&a(/^url\(/))return e=a(this.entities.quoted)||a(this.entities.variable)||a(/^[\-\w%@$\/.&=:;#+?~]+/)||"",a(")")?new i.URL("undefined"!=typeof e.value||e instanceof i.Variable?e:new i.Quoted(e)):new i.Invalid(e,p,"Missing closing ) in URL.")},variable:function(){var t,n=f;return"@"===c.charAt(f)&&(t=a(/^@[\w-]+/))?new i.Variable(t,n,e.filename):void 0},hexcolor:function(){var e;return"#"===c.charAt(f)&&(e=a(/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})/))?new i.Color(e[1]):void 0},keywordcolor:function(){var e=g[d].match(/^[a-z]+/);return e&&e[0]in i.Reference.data.colors?new i.Color(i.Reference.data.colors[a(/^[a-z]+/)]):void 0},dimension:function(){var e=c.charCodeAt(f);if(!(e>57||45>e||47===e)){var t=a(/^(-?\d*\.?\d+(?:[eE][-+]?\d+)?)(\%|\w+)?/);return t?new i.Dimension(t[1],t[2],p):void 0}}},variable:function(){var e;return"@"===c.charAt(f)&&(e=a(/^(@[\w-]+)\s*:/))?e[1]:void 0},entity:function(){return a(this.entities.call)||a(this.entities.literal)||a(this.entities.field)||a(this.entities.variable)||a(this.entities.url)||a(this.entities.keyword)},end:function(){return a(";")||s("}")},element:function(){var e=a(/^(?:[.#][\w\-]+|\*|Map)/);return e?new i.Element(e):void 0},attachment:function(){var e=a(/^::([\w\-]+(?:\/[\w\-]+)*)/);return e?e[1]:void 0},selector:function(){var e,t,n,r,o,s=[],l=new i.Filterset,d=[],h=i.FrameOffset.none;for(segments=0,conditions=0;(n=a(this.element))||(o=a(this.zoom))||(fo=a(this.frame_offset))||(r=a(this.filter))||(e=a(this.attachment));){if(segments++,n)s.push(n);else if(o)d.push(o),conditions++;else if(fo)h=fo,conditions++;else if(r){var m=l.add(r);if(m)throw u({message:m,index:f-1});conditions++}else{if(t)throw u({message:"Encountered second attachment name.",index:f-1});t=e}var g=c.charAt(f);if("{"===g||"}"===g||";"===g||","===g)break}return segments?new i.Selector(l,d,h,s,t,conditions,p):void 0},filter:function(){t();var n,r,o;if(a("[")&&(n=a(/^[a-zA-Z0-9\-_]+/)||a(this.entities.quoted)||a(this.entities.variable)||a(this.entities.keyword)||a(this.entities.field))&&(n instanceof i.Quoted&&(n=new i.Field(n.toString())),(r=a(this.entities.comparison))&&(o=a(this.entities.quoted)||a(this.entities.variable)||a(this.entities.dimension)||a(this.entities.keyword)||a(this.entities.field)))){if(!a("]"))throw u({message:"Missing closing ] of filter.",index:p-1});return n.is||(n=new i.Field(n)),new i.Filter(n,r,o,p,e.filename)}},frame_offset:function(){t();var e,n;return a(/^\[\s*frame-offset/g)&&(e=a(this.entities.comparison))&&(n=a(/^\d+/))&&a("]")?i.FrameOffset(e,n,p):void 0},zoom:function(){t();var e,r;return a(/^\[\s*zoom/g)&&(e=a(this.entities.comparison))&&(r=a(this.entities.variable)||a(this.entities.dimension))&&a("]")?new i.Zoom(e,r,p):void n()},block:function(){var e;return a("{")&&(e=a(this.primary))&&a("}")?e:void 0},ruleset:function(){var e,r,o=[];for(t();e=a(this.selector);){for(o.push(e);a(this.comment););if(!a(","))break;for(;a(this.comment););}if(e)for(;a(this.comment););if(o.length>0&&(r=a(this.block))){if(1===o.length&&o[0].elements.length&&"Map"===o[0].elements[0].value){var s=new i.Ruleset(o,r);return s.isMap=!0,s}return new i.Ruleset(o,r)}n()},rule:function(){var r,o,s=c.charAt(f);if(t(),"."!==s&&"#"!==s&&(r=a(this.variable)||a(this.property))){if(o=a(this.value),o&&a(this.end))return new i.Rule(r,o,p,e.filename);m=f,n()}},font:function(){for(var e,t=[],n=[];e=a(this.entity);)n.push(e);if(t.push(new i.Expression(n)),a(","))for(;(e=a(this.expression))&&(t.push(e),a(",")););return new i.Value(t)},value:function(){for(var e,t=[];(e=a(this.expression))&&(t.push(e),a(",")););return t.length>1?new i.Value(t.map(function(e){return e.value[0]})):1===t.length?new i.Value(t):void 0},sub:function(){var e,t=[];if(a("(")){for(;(e=a(this.expression))&&(t.push(e),a(",")););a(")")}return t.length>1?new i.Value(t.map(function(e){return e.value[0]})):1===t.length?new i.Value(t):void 0},multiplication:function(){var e,t,n,r;if(e=a(this.operand)){for(;(n=a("/")||a("*")||a("%"))&&(t=a(this.operand));)r=new i.Operation(n,[r||e,t],p);return r||e}},addition:function(){var e,t,n,r;if(e=a(this.multiplication)){for(;(n=a(/^[-+]\s+/)||" "!=c.charAt(f-1)&&(a("+")||a("-")))&&(t=a(this.multiplication));)r=new i.Operation(n,[r||e,t],p);return r||e}},operand:function(){return a(this.sub)||a(this.entity)},expression:function(){for(var e,t=[];e=a(this.addition)||a(this.entity);)t.push(e);return t.length>0?new i.Expression(t):void 0},property:function(){var e=a(/^(([a-z][-a-z_0-9]*\/)?\*?-?[-a-z_0-9]+)\s*:/);return e?e[1]:void 0}}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./tree":9,underscore:42}],6:[function(e,t){(function(n){function r(e,t,n){for(var r,i,o,a=t.filters,s=t.rules,l=0;l<e.length;l++)r=e[l].filters.cloneWith(a),r?(o=n[r],o?o.addRules(s):(i=e[l].clone(r),i.addRules(s)&&(n[r]=i,e.splice(l,0,i),l++))):null===r&&(e[l]=e[l].clone(),e[l].addRules(s));return e}function i(e,t){var n,i,o=+new Date,a={},s={},l=[];e.forEach(function(e){e.filters.ev(t)});for(var u=0;u<e.length;u++){i=e[u].attachment,n=[e[u]],a[i]||(a[i]=[],a[i].attachment=i,s[i]={},l.push(a[i]));for(var c=u+1;c<e.length;c++)e[c].attachment===i&&(n=r(n,e[c],s[i],t));for(var f=0;f<n.length;f++)s[i][n[f].filters]=n[f],a[i].push(n[f])}return t.benchmark&&console.warn("Inheritance time: "+(new Date-o)+"ms"),l}function o(e,t){return t.index-e.index}function a(e){for(var t=0;t<e.length;t++){var n=e[t];n.index=1/0;for(var r=0;r<n.length;r++)for(var i=n[r].rules,a=0;a<i.length;a++){var s=i[a];s.index<n.index&&(n.index=s.index)}}var l=e.slice();return l.sort(o),l}function s(e,t,n){var r={},i=u.tree.Reference.data.symbolizers.map;return l(e).each(function(e,t){t in i&&(r[t]=t+'="'+e+'"')}),t.filter(function(e){return"Map"===e.elements.join("")}).forEach(function(e){for(var t=0;t<e.rules.length;t++){var o=e.rules[t].name;o in i||n.error({message:"Rule "+o+" not allowed for Map.",index:e.rules[t].index}),r[o]=e.rules[t].ev(n).toXML(n)}}),r}var l=n._||e("underscore"),u=e("./index");u.Renderer=function(e,t){this.env=e||{},this.options=t||{},this.options.mapnik_version=this.options.mapnik_version||"3.0.0"},u.Renderer.prototype.renderMSS=function(e){var t=l.defaults(this.env,{benchmark:!1,validation_data:!1,effects:[]});if(!u.tree.Reference.setVersion(this.options.mapnik_version))throw new Error("Could not set mapnik version to "+this.options.mapnik_version);var n=[],r=[];t.benchmark&&console.time("Parsing MSS");var o=u.Parser(t).parse(e);t.benchmark&&console.timeEnd("Parsing MSS"),t.benchmark&&console.time("Rule generation");var s=o.toList(t);t.benchmark&&console.timeEnd("Rule generation"),t.benchmark&&console.time("Rule inheritance");var c=i(s,t);t.benchmark&&console.timeEnd("Rule inheritance"),t.benchmark&&console.time("Style sort");var f=a(c,t);t.benchmark&&console.timeEnd("Style sort"),t.benchmark&&console.time("Total Style generation");for(var d,h,p=0;p<f.length;p++){d=f[p],h="style"+("__default__"!==d.attachment?"-"+d.attachment:""),r.push(h);var m='	Style "'+h+'" (#'+p+") toXML";t.benchmark&&console.time(m),n.push(u.tree.StyleXML(h,d.attachment,d,t)),t.benchmark&&console.timeEnd(m)}if(t.benchmark&&console.timeEnd("Total Style generation"),t.errors)throw t.errors;return n.join("\n")},u.Renderer.prototype.render=function(e){function t(e,t){return function(e){return e.appliesTo(o.name,t)}}var n=l.defaults(this.env,{benchmark:!1,validation_data:!1,effects:[],ppi:90.714});if(!u.tree.Reference.setVersion(this.options.mapnik_version))throw new Error("Could not set mapnik version to "+this.options.mapnik_version);for(var r,o,c,f,d,h,p=[],m=l.chain(e.Stylesheet).map(function(e){if("string"==typeof e)throw new Error("Stylesheet object is expected not a string: '"+e+"'");n=l.extend(n,{filename:e.id});var t=+new Date,r=u.Parser(n).parse(e.data);return n.benchmark&&console.warn("Parsing time: "+(new Date-t)+"ms"),r.toList(n)}).flatten().value(),g=0;g<e.Layer.length;g++){o=e.Layer[g],r=[],c={},n.benchmark&&console.warn("processing layer: "+o.id);for(var v=(o["class"]||"").split(/\s+/g),y=0;y<v.length;y++)c[v[y]]=!0;h=m.filter(t(o.name,c)),f=i(h,n),d=a(f,n);for(var b,w,x=0;x<d.length;x++){b=d[x],w=o.name+("__default__"!==b.attachment?"-"+b.attachment:"");var k=u.tree.StyleXML(w,b.attachment,b,n);k&&(p.push(k),r.push(w))}p.push(u.tree.LayerXML(o,r))}p.unshift(n.effects.map(function(e){return e.toXML(n)}).join("\n"));var S=s(e,m,n);if(n.errors)throw n.errors;var z=l.reduce(e,function(e,t,n){if(!t&&0!==t)return e;switch(n){case"srs":case"Layer":case"Stylesheet":break;case"bounds":case"center":case"minzoom":case"maxzoom":case"version":e.push('  <Parameter name="'+n+'">'+t+"</Parameter>");break;case"name":case"description":case"legend":case"attribution":case"template":e.push('  <Parameter name="'+n+'"><![CDATA['+t+"]]></Parameter>");break;case"format":e.push('  <Parameter name="'+n+'">'+t+"</Parameter>");break;case"interactivity":e.push('  <Parameter name="interactivity_layer">'+t.layer+"</Parameter>"),e.push('  <Parameter name="interactivity_fields">'+t.fields+"</Parameter>");break;default:"string"==typeof t?e.push('  <Parameter name="'+n+'"><![CDATA['+t+"]]></Parameter>"):"number"==typeof t?e.push('  <Parameter name="'+n+'">'+t+"</Parameter>"):"boolean"==typeof t&&e.push('  <Parameter name="'+n+'">'+t+"</Parameter>")}return e},[]);z.length&&p.unshift("<Parameters>\n"+z.join("\n")+"\n</Parameters>\n");var _=l.map(S,function(e){return" "+e}).join("");return p.unshift('<?xml version="1.0" encoding="utf-8"?>\n<!DOCTYPE Map[]>\n<Map'+_+">\n"),p.push("</Map>"),p.join("\n")},t.exports=u,t.exports.addRules=r,t.exports.inheritDefinitions=i,t.exports.sortStyles=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./index":4,underscore:42}],7:[function(_dereq_,module,exports){(function(global){!function(carto){function CartoCSS(e,t){this.options=t||{},this.imageURLs=[],e&&this.setStyle(e)}var tree=_dereq_("./tree"),_=global._||_dereq_("underscore");CartoCSS.Layer=function(e,t){this.options=t,this.shader=e},CartoCSS.Layer.prototype={fullName:function(){return this.shader.attachment},name:function(){return this.fullName().split("::")[0]},frames:function(){return this.shader.frames},attachment:function(){return this.fullName().split("::")[1]},eval:function(e){var t=this.shader[e];if(t&&t.style)return t.style({},{zoom:0,"frame-offset":0})},getStyle:function(e,t){var n={};for(var r in this.shader)"attachment"!==r&&"zoom"!==r&&"frames"!==r&&"symbolizers"!==r&&(n[r]=this.shader[r].style(e,t));return n},getSymbolizers:function(){return this.shader.symbolizers},isVariable:function(){for(var e in this.shader)if("attachment"!==e&&"zoom"!==e&&"frames"!==e&&"symbolizers"!==e&&!this.shader[e].constant)return!0;return!1},getShader:function(){return this.shader},filter:function(e,t,n){for(var r in this.shader){var i=this.shader[r](t,n);if(i)return!0}return!1},transformGeometry:function(e){return e},transformGeometries:function(e){return e}},CartoCSS.prototype={setStyle:function(e){var t=this.parse(e);if(!t)throw new Error(this.parse_env.errors);this.layers=t.map(function(e){return new CartoCSS.Layer(e)})},getLayers:function(){return this.layers},getDefault:function(){return this.findLayer({attachment:"__default__"})},findLayer:function(e){return _.find(this.layers,function(t){for(var n in e){var r=t[n];if("function"==typeof r&&(r=r.call(t)),e[n]!==r)return!1}return!0})},_createFn:function(e){var t=e.join("\n");return this.options.debug&&console.log(t),Function("data","ctx","var _value = null; "+t+"; return _value; ")},_compile:function(shader){"string"==typeof shader&&(shader=eval("(function() { return "+shader+"; })()")),this.shader_src=shader;for(var attr in shader){var c=mapper[attr];c&&(this.compiled[c]=eval("(function() { return shader[attr]; })();"))}},getImageURLs:function(){return this.imageURLs},parse:function(e){function t(e){return e.elements[0]+"::"+e.attachment}var n={frames:[],errors:[],error:function(e){this.errors.push(e)}};this.parse_env=n;var r=null;try{r=new carto.Parser(n).parse(e)}catch(i){return void n.errors.push(i.message)}if(r){var o=r.toList(n);o.reverse();for(var a={},s=0;s<o.length;++s){for(var l=o[s],u=t(l),c=a[u]=a[u]||{symbolizers:[]},f=0;f<l.rules.length;f++)if("marker-file"===l.rules[f].name||"point-file"===l.rules[f].name){var d=l.rules[f].value.value[0].value[0].value.value;this.imageURLs.push(d)}c.frames=[],c.zoom=tree.Zoom.all;var h=l.toJS(n);this.options.debug&&console.log("props",h);for(var p in h){var m=c[p]=c[p]||{constant:!1,symbolizer:null,js:[],index:0};m.js.push(h[p].map(function(e){return e.js}).join("\n")),m.symbolizer=_.first(h[p].map(function(e){return e.symbolizer})),m.index=_.max(h[p].map(function(e){return e.index}).concat(m.index)),m.constant=!_.any(h[p].map(function(e){return!e.constant}))}}var g=[];this.options.debug&&console.log(a);for(var v={},s=0;s<o.length;++s){var l=o[s],y=t(l),c=a[y];if(!v[y]){this.options.debug&&console.log("**",y);for(var b in c)"zoom"!==b&&"frames"!==b&&"symbolizers"!==b&&(this.options.debug&&console.log("*",b),c[b].style=this._createFn(c[b].js),c.symbolizers.push(c[b].symbolizer),c.symbolizers=_.uniq(c.symbolizers));c.attachment=y,g.push(c),v[y]=!0}c.zoom|=l.zoom,c.frames.push(l.frame_offset)}for(s=0;s<g.length;++s)g[s].frames=_.uniq(g[s].frames);return g}return null}},carto.RendererJS=function(e){this.options=e||{},this.options.mapnik_version=this.options.mapnik_version||"latest"},carto.RendererJS.prototype.render=function(e){var t=_dereq_("./torque-reference");return tree.Reference.setData(t.version.latest),new CartoCSS(e,this.options)},"undefined"!=typeof module&&(module.exports=carto.RendererJS)}(_dereq_("../carto"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../carto":4,"./torque-reference":8,"./tree":9,underscore:42}],8:[function(e,t){var n={version:"2.1.1",style:{"filter-mode":{type:["all","first"],doc:"Control the processing behavior of Rule filters within a Style. If 'all' is used then all Rules are processed sequentially independent of whether any previous filters matched. If 'first' is used then it means processing ends after the first match (a positive filter evaluation) and no further Rules in the Style are processed ('first' is usually the default for CSS implementations on top of Mapnik to simplify translation from CSS to Mapnik XML)","default-value":"all","default-meaning":"All Rules in a Style are processed whether they have filters or not and whether or not the filter conditions evaluate to true."},"image-filters":{css:"image-filters","default-value":"none","default-meaning":"no filters",type:"functions",functions:[["agg-stack-blur",2],["emboss",0],["blur",0],["gray",0],["sobel",0],["edge-detect",0],["x-gradient",0],["y-gradient",0],["invert",0],["sharpen",0],["colorize-alpha",-1],["color-to-alpha",1],["scale-hsla",8]],doc:"A list of image filters."},"comp-op":{css:"comp-op","default-value":"src-over","default-meaning":"add the current layer on top of other layers",doc:"Composite operation. This defines how this layer should behave relative to layers atop or below it.",type:["clear","src","dst","src-over","source-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","lighter","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]},opacity:{css:"opacity",type:"float",doc:"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)","default-value":1,"default-meaning":"no separate buffer will be used and no alpha will be applied to the style after rendering"}},layer:{name:{"default-value":"",type:"string",required:!0,"default-meaning":"No layer name has been provided",doc:"The name of a layer. Can be anything you wish and is not strictly validated, but ideally unique  in the map"},srs:{"default-value":"",type:"string","default-meaning":"No srs value is provided and the value will be inherited from the Map's srs",doc:"The spatial reference system definition for the layer, aka the projection. Can either be a proj4 literal string like '+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs' or, if the proper proj4 epsg/nad/etc identifier files are installed, a string that uses an id like: '+init=epsg:4326'"},status:{"default-value":!0,type:"boolean","default-meaning":"This layer will be marked as active and available for processing",doc:"A property that can be set to false to disable this layer from being processed"},minzoom:{"default-value":"0",type:"float","default-meaning":"The layer will be visible at the minimum possible scale",doc:"The minimum scale denominator that this layer will be visible at. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6"},maxzoom:{"default-value":"1.79769e+308",type:"float","default-meaning":"The layer will be visible at the maximum possible scale",doc:"The maximum scale denominator that this layer will be visible at. The default is the numeric limit of the C++ double type, which may vary slightly by system, but is likely a massive number like 1.79769e+308 and ensures that this layer will always be visible unless the value is reduced. A layer's visibility is determined by whether its status is true and if the Map scale >= minzoom - 1e-6 and scale < maxzoom + 1e-6"},queryable:{"default-value":!1,type:"boolean","default-meaning":"The layer will not be available for the direct querying of data values",doc:"This property was added for GetFeatureInfo/WMS compatibility and is rarely used. It is off by default meaning that in a WMS context the layer will not be able to be queried unless the property is explicitly set to true"},"clear-label-cache":{"default-value":!1,type:"boolean","default-meaning":"The renderer's collision detector cache (used for avoiding duplicate labels and overlapping markers) will not be cleared immediately before processing this layer",doc:"This property, by default off, can be enabled to allow a user to clear the collision detector cache before a given layer is processed. This may be desirable to ensure that a given layers data shows up on the map even if it normally would not because of collisions with previously rendered labels or markers"},"group-by":{"default-value":"",type:"string","default-meaning":"No special layer grouping will be used during rendering",doc:"https://github.com/mapnik/mapnik/wiki/Grouped-rendering"},"buffer-size":{"default-value":"0",type:"float","default-meaning":"No buffer will be used",doc:"Extra tolerance around the Layer extent (in pixels) used to when querying and (potentially) clipping the layer data during rendering"},"maximum-extent":{"default-value":"none",type:"bbox","default-meaning":"No clipping extent will be used",doc:"An extent to be used to limit the bounds used to query this specific layer data during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Layer."}},symbolizers:{"*":{"image-filters":{css:"image-filters","default-value":"none","default-meaning":"no filters",type:"functions",functions:[["agg-stack-blur",2],["emboss",0],["blur",0],["gray",0],["sobel",0],["edge-detect",0],["x-gradient",0],["y-gradient",0],["invert",0],["sharpen",0],["colorize-alpha",-1],["color-to-alpha",1],["scale-hsla",8],["buckets",-1],["category",-1],["equal",-1],["headtails",-1],["jenks",-1],["quantiles",-1],["cartocolor",-1],["colorbrewer",-1],["range",-1],["ramp",-1]],doc:"A list of image filters."},"comp-op":{css:"comp-op","default-value":"src-over","default-meaning":"add the current layer on top of other layers",doc:"Composite operation. This defines how this layer should behave relative to layers atop or below it.",type:["clear","src","dst","src-over","source-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","lighter","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]},opacity:{css:"opacity",type:"float",doc:"An alpha value for the style (which means an alpha applied to all features in separate buffer and then composited back to main buffer)","default-value":1,"default-meaning":"no separate buffer will be used and no alpha will be applied to the style after rendering"}},map:{"background-color":{css:"background-color","default-value":"none","default-meaning":"transparent",type:"color",doc:"Map Background color"},"background-image":{css:"background-image",type:"uri","default-value":"","default-meaning":"transparent",doc:"An image that is repeated below all features on a map as a background.",description:"Map Background image"},srs:{css:"srs",type:"string","default-value":"+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs","default-meaning":"The proj4 literal of EPSG:4326 is assumed to be the Map's spatial reference and all data from layers within this map will be plotted using this coordinate system. If any layers do not declare an srs value then they will be assumed to be in the same srs as the Map and not transformations will be needed to plot them in the Map's coordinate space",doc:"Map spatial reference (proj4 string)"},"buffer-size":{css:"buffer-size","default-value":"0",type:"float","default-meaning":"No buffer will be used",doc:'Extra tolerance around the map (in pixels) used to ensure labels crossing tile boundaries are equally rendered in each tile (e.g. cut in each tile). Not intended to be used in combination with "avoid-edges".'},"maximum-extent":{css:"","default-value":"none",type:"bbox","default-meaning":"No clipping extent will be used",doc:"An extent to be used to limit the bounds used to query all layers during rendering. Should be minx, miny, maxx, maxy in the coordinates of the Map."},base:{css:"base","default-value":"","default-meaning":"This base path defaults to an empty string meaning that any relative paths to files referenced in styles or layers will be interpreted relative to the application process.",type:"string",doc:"Any relative paths used to reference files will be understood as relative to this directory path if the map is loaded from an in memory object rather than from the filesystem. If the map is loaded from the filesystem and this option is not provided it will be set to the directory of the stylesheet."},"paths-from-xml":{css:"","default-value":!0,"default-meaning":"Paths read from XML will be interpreted from the location of the XML",type:"boolean",doc:"value to control whether paths in the XML will be interpreted from the location of the XML or from the working directory of the program that calls load_map()"},"minimum-version":{css:"","default-value":"none","default-meaning":"Mapnik version will not be detected and no error will be thrown about compatibility",type:"string",doc:"The minumum Mapnik version (e.g. 0.7.2) needed to use certain functionality in the stylesheet"},"font-directory":{css:"font-directory",type:"uri","default-value":"none","default-meaning":"No map-specific fonts will be registered",doc:"Path to a directory which holds fonts which should be registered when the Map is loaded (in addition to any fonts that may be automatically registered)."}},polygon:{fill:{css:"polygon-fill",type:"color","default-value":"rgba(128,128,128,1)","default-meaning":"gray and fully opaque (alpha = 1), same as rgb(128,128,128)",doc:"Fill color to assign to a polygon",expression:!0},"fill-opacity":{css:"polygon-opacity",type:"float",doc:"The opacity of the polygon","default-value":1,"default-meaning":"opaque"},gamma:{css:"polygon-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of polygon edges"},"gamma-method":{css:"polygon-gamma-method",type:["power","linear","none","threshold","multiply"],"default-value":"power","default-meaning":"pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA",doc:"An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h"},clip:{css:"polygon-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"polygon-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"polygon-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"polygon-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},line:{stroke:{css:"line-color","default-value":"rgba(0,0,0,1)",type:"color","default-meaning":"black and fully opaque (alpha = 1), same as rgb(0,0,0)",doc:"The color of a drawn line",expression:!0},"stroke-width":{css:"line-width","default-value":1,type:"float",doc:"The width of a line in pixels",expression:!0},"stroke-opacity":{css:"line-opacity","default-value":1,type:"float","default-meaning":"opaque",doc:"The opacity of a line"},"stroke-linejoin":{css:"line-join","default-value":"miter",type:["miter","round","bevel"],doc:"The behavior of lines when joining"},"stroke-linecap":{css:"line-cap","default-value":"butt",type:["butt","round","square"],doc:"The display of line endings"},"stroke-gamma":{css:"line-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of stroke line"},"stroke-gamma-method":{css:"line-gamma-method",type:["power","linear","none","threshold","multiply"],"default-value":"power","default-meaning":"pow(x,gamma) is used to calculate pixel gamma, which produces slightly smoother line and polygon antialiasing than the 'linear' method, while other methods are usually only used to disable AA",doc:"An Antigrain Geometry specific rendering hint to control the quality of antialiasing. Under the hood in Mapnik this method is used in combination with the 'gamma' value (which defaults to 1). The methods are in the AGG source at https://github.com/mapnik/mapnik/blob/master/deps/agg/include/agg_gamma_functions.h"},"stroke-dasharray":{css:"line-dasharray",type:"numbers",doc:"A pair of length values [a,b], where (a) is the dash length and (b) is the gap length respectively. More than two values are supported for more complex patterns.","default-value":"none","default-meaning":"solid line"},"stroke-dashoffset":{css:"line-dash-offset",type:"numbers",doc:"valid parameter but not currently used in renderers (only exists for experimental svg support in Mapnik which is not yet enabled)","default-value":"none","default-meaning":"solid line"},"stroke-miterlimit":{css:"line-miterlimit",type:"float",doc:"The limit on the ratio of the miter length to the stroke-width. Used to automatically convert miter joins to bevel joins for sharp angles to avoid the miter extending beyond the thickness of the stroking path. Normally will not need to be set, but a larger value can sometimes help avoid jaggy artifacts.","default-value":4,"default-meaning":"Will auto-convert miters to bevel line joins when theta is less than 29 degrees as per the SVG spec: 'miterLength / stroke-width = 1 / sin ( theta / 2 )'"},clip:{css:"line-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"line-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},offset:{css:"line-offset",type:"float","default-value":0,"default-meaning":"no offset",doc:"Offsets a line a number of pixels parallel to its actual path. Postive values move the line left, negative values move it right (relative to the directionality of the line)."},rasterizer:{css:"line-rasterizer",type:["full","fast"],"default-value":"full",doc:"Exposes an alternate AGG rendering method that sacrifices some accuracy for speed."},"geometry-transform":{css:"line-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"line-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},markers:{file:{css:"marker-file",doc:"An SVG file that this marker shows at each placement. If no file is given, the marker will show an ellipse.","default-value":"","default-meaning":"An ellipse or circle, if width equals height",type:"uri"},opacity:{css:"marker-opacity",doc:"The overall opacity of the marker, if set, overrides both the opacity of both the fill and stroke","default-value":1,"default-meaning":"The stroke-opacity and fill-opacity will be used",type:"float"},"fill-opacity":{css:"marker-fill-opacity",doc:"The fill opacity of the marker","default-value":1,"default-meaning":"opaque",type:"float"},stroke:{css:"marker-line-color",doc:"The color of the stroke around a marker shape.","default-value":"black",type:"color"},"stroke-width":{css:"marker-line-width",doc:"The width of the stroke around a marker shape, in pixels. This is positioned on the boundary, so high values can cover the area itself.",type:"float"},"stroke-opacity":{css:"marker-line-opacity","default-value":1,"default-meaning":"opaque",doc:"The opacity of a line",type:"float"},placement:{css:"marker-placement",type:["point","line","interior"],"default-value":"point","default-meaning":"Place markers at the center point (centroid) of the geometry",doc:"Attempt to place markers on a point, in the center of a polygon, or if markers-placement:line, then multiple times along a line. 'interior' placement can be used to ensure that points placed on polygons are forced to be inside the polygon interior"},"multi-policy":{css:"marker-multi-policy",type:["each","whole","largest"],"default-value":"each","default-meaning":"If a feature contains multiple geometries and the placement type is either point or interior then a marker will be rendered for each",doc:"A special setting to allow the user to control rendering behavior for 'multi-geometries' (when a feature contains multiple geometries). This setting does not apply to markers placed along lines. The 'each' policy is default and means all geometries will get a marker. The 'whole' policy means that the aggregate centroid between all geometries will be used. The 'largest' policy means that only the largest (by bounding box areas) feature will get a rendered marker (this is how text labeling behaves by default)."},"marker-type":{css:"marker-type",type:["arrow","ellipse","rectangle"],"default-value":"ellipse",doc:"The default marker-type. If a SVG file is not given as the marker-file parameter, the renderer provides either an arrow or an ellipse (a circle if height is equal to width)"},width:{css:"marker-width","default-value":10,doc:"The width of the marker, if using one of the default types.",type:"float",expression:!0},height:{css:"marker-height","default-value":10,doc:"The height of the marker, if using one of the default types.",type:"float",expression:!0},fill:{css:"marker-fill","default-value":"blue",doc:"The color of the area of the marker.",type:"color",expression:!0},"allow-overlap":{css:"marker-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping markers are shown or hidden.","default-meaning":"Do not allow makers to overlap with each other - overlapping markers will not be shown."},"ignore-placement":{css:"marker-ignore-placement",type:"boolean","default-value":!1,"default-meaning":"do not store the bbox of this geometry in the collision detector cache",doc:"value to control whether the placement of the feature will prevent the placement of other features"},spacing:{css:"marker-spacing",doc:"Space between repeated labels","default-value":100,type:"float"},"max-error":{css:"marker-max-error",type:"float","default-value":.2,doc:"The maximum difference between actual marker placement and the marker-spacing parameter. Setting a high value can allow the renderer to try to resolve placement conflicts with other symbolizers."},transform:{css:"marker-transform",type:"functions",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]],"default-value":"","default-meaning":"No transformation",doc:"SVG transformation definition"},clip:{css:"marker-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"marker-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"marker-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"marker-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},shield:{name:{css:"shield-name",type:"string",expression:!0,serialization:"content",doc:'Value to use for a shield"s text label. Data columns are specified using brackets like [column_name]'},file:{css:"shield-file",required:!0,type:"uri","default-value":"none",doc:"Image file to render behind the shield text"},"face-name":{css:"shield-face-name",type:"string",validate:"font",doc:"Font name and style to use for the shield text","default-value":"",required:!0},"unlock-image":{css:"shield-unlock-image",type:"boolean",doc:"This parameter should be set to true if you are trying to position text beside rather than on top of the shield image","default-value":!1,"default-meaning":"text alignment relative to the shield image uses the center of the image as the anchor for text positioning."},size:{css:"shield-size",type:"float",doc:"The size of the shield text in pixels"},fill:{css:"shield-fill",type:"color",doc:"The color of the shield text"},placement:{css:"shield-placement",type:["point","line","vertex","interior"],"default-value":"point",doc:"How this shield should be placed. Point placement attempts to place it on top of points, line places along lines multiple times per feature, vertex places on the vertexes of polygons, and interior attempts to place inside of polygons."},"avoid-edges":{css:"shield-avoid-edges",doc:"Tell positioning algorithm to avoid labeling near intersection edges.",type:"boolean","default-value":!1},"allow-overlap":{css:"shield-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping shields are shown or hidden.","default-meaning":"Do not allow shields to overlap with other map elements already placed."},"minimum-distance":{css:"shield-min-distance",type:"float","default-value":0,doc:"Minimum distance to the next shield symbol, not necessarily the same shield."},spacing:{css:"shield-spacing",type:"float","default-value":0,doc:"The spacing between repeated occurrences of the same shield on a line"},"minimum-padding":{css:"shield-min-padding","default-value":0,doc:"Determines the minimum amount of padding that a shield gets relative to other shields",type:"float"},"wrap-width":{css:"shield-wrap-width",type:"unsigned","default-value":0,doc:"Length of a chunk of text in characters before wrapping text"},"wrap-before":{css:"shield-wrap-before",type:"boolean","default-value":!1,doc:"Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width."},"wrap-character":{css:"shield-wrap-character",type:"string","default-value":" ",doc:"Use this character instead of a space to wrap long names."},"halo-fill":{css:"shield-halo-fill",type:"color","default-value":"#FFFFFF","default-meaning":"white",doc:"Specifies the color of the halo around the text."},"halo-radius":{css:"shield-halo-radius",doc:"Specify the radius of the halo in pixels","default-value":0,"default-meaning":"no halo",type:"float"},"character-spacing":{css:"shield-character-spacing",type:"unsigned","default-value":0,doc:"Horizontal spacing between characters (in pixels). Currently works for point placement only, not line placement."},"line-spacing":{css:"shield-line-spacing",doc:"Vertical spacing between lines of multiline labels (in pixels)",type:"unsigned"},dx:{css:"shield-text-dx",type:"float",doc:"Displace text within shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},dy:{css:"shield-text-dy",type:"float",doc:"Displace text within shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},"shield-dx":{css:"shield-dx",type:"float",doc:"Displace shield by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},"shield-dy":{css:"shield-dy",type:"float",doc:"Displace shield by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},opacity:{css:"shield-opacity",type:"float",doc:"(Default 1.0) - opacity of the image used for the shield","default-value":1},"text-opacity":{css:"shield-text-opacity",type:"float",doc:"(Default 1.0) - opacity of the text placed on top of the shield","default-value":1},"horizontal-alignment":{css:"shield-horizontal-alignment",type:["left","middle","right","auto"],doc:"The shield's horizontal alignment from its centerpoint","default-value":"auto"},"vertical-alignment":{css:"shield-vertical-alignment",type:["top","middle","bottom","auto"],doc:"The shield's vertical alignment from its centerpoint","default-value":"middle"},"text-transform":{css:"shield-text-transform",type:["none","uppercase","lowercase","capitalize"],doc:"Transform the case of the characters","default-value":"none"},"justify-alignment":{css:"shield-justify-alignment",type:["left","center","right","auto"],doc:"Define how text in a shield's label is justified","default-value":"auto"},clip:{css:"shield-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},"comp-op":{css:"shield-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},"line-pattern":{file:{css:"line-pattern-file",type:"uri","default-value":"none",required:!0,doc:"An image file to be repeated and warped along a line"},clip:{css:"line-pattern-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"line-pattern-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"line-pattern-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"line-pattern-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},"polygon-pattern":{file:{css:"polygon-pattern-file",type:"uri","default-value":"none",required:!0,doc:"Image to use as a repeated pattern fill within a polygon"},alignment:{css:"polygon-pattern-alignment",type:["local","global"],"default-value":"local",doc:"Specify whether to align pattern fills to the layer or to the map."},gamma:{css:"polygon-pattern-gamma",type:"float","default-value":1,"default-meaning":"fully antialiased",range:"0-1",doc:"Level of antialiasing of polygon pattern edges"},opacity:{css:"polygon-pattern-opacity",type:"float",doc:"(Default 1.0) - Apply an opacity level to the image used for the pattern","default-value":1,"default-meaning":"The image is rendered without modifications"},clip:{css:"polygon-pattern-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},smooth:{css:"polygon-pattern-smooth",type:"float","default-value":0,"default-meaning":"no smoothing",range:"0-1",doc:"Smooths out geometry angles. 0 is no smoothing, 1 is fully smoothed. Values greater than 1 will produce wild, looping geometries."},"geometry-transform":{css:"polygon-pattern-geometry-transform",type:"functions","default-value":"none","default-meaning":"geometry will not be transformed",doc:"Allows transformation functions to be applied to the geometry.",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]]},"comp-op":{css:"polygon-pattern-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},raster:{opacity:{css:"raster-opacity","default-value":1,"default-meaning":"opaque",type:"float",doc:"The opacity of the raster symbolizer on top of other symbolizers."},"filter-factor":{css:"raster-filter-factor","default-value":-1,"default-meaning":"Allow the datasource to choose appropriate downscaling.",type:"float",doc:"This is used by the Raster or Gdal datasources to pre-downscale images using overviews. Higher numbers can sometimes cause much better scaled image output, at the cost of speed."},scaling:{css:"raster-scaling",type:["near","fast","bilinear","bilinear8","bicubic","spline16","spline36","hanning","hamming","hermite","kaiser","quadric","catrom","gaussian","bessel","mitchell","sinc","lanczos","blackman"],"default-value":"near",doc:"The scaling algorithm used to making different resolution versions of this raster layer. Bilinear is a good compromise between speed and accuracy, while lanczos gives the highest quality."},"mesh-size":{css:"raster-mesh-size","default-value":16,"default-meaning":"Reprojection mesh will be 1/16 of the resolution of the source image",type:"unsigned",doc:"A reduced resolution mesh is used for raster reprojection, and the total image size is divided by the mesh-size to determine the quality of that mesh. Values for mesh-size larger than the default will result in faster reprojection but might lead to distortion."},"comp-op":{css:"raster-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},point:{file:{css:"point-file",type:"uri",required:!1,"default-value":"none",doc:"Image file to represent a point"},"allow-overlap":{css:"point-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping points are shown or hidden.","default-meaning":"Do not allow points to overlap with each other - overlapping markers will not be shown."},"ignore-placement":{css:"point-ignore-placement",type:"boolean","default-value":!1,"default-meaning":"do not store the bbox of this geometry in the collision detector cache",doc:"value to control whether the placement of the feature will prevent the placement of other features"},opacity:{css:"point-opacity",type:"float","default-value":1,"default-meaning":"Fully opaque",doc:"A value from 0 to 1 to control the opacity of the point"},placement:{css:"point-placement",type:["centroid","interior"],doc:"How this point should be placed. Centroid calculates the geometric center of a polygon, which can be outside of it, while interior always places inside of a polygon.","default-value":"centroid"},transform:{css:"point-transform",type:"functions",functions:[["matrix",6],["translate",2],["scale",2],["rotate",3],["skewX",1],["skewY",1]],"default-value":"","default-meaning":"No transformation",doc:"SVG transformation definition"},"comp-op":{css:"point-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},text:{name:{css:"text-name",type:"string",expression:!0,required:!0,"default-value":"",serialization:"content",doc:"Value to use for a text label. Data columns are specified using brackets like [column_name]"},"face-name":{css:"text-face-name",type:"string",validate:"font",doc:"Font name and style to render a label in",required:!0},size:{css:"text-size",type:"float","default-value":10,doc:"Text size in pixels"},"text-ratio":{css:"text-ratio",doc:"Define the amount of text (of the total) present on successive lines when wrapping occurs","default-value":0,type:"unsigned"},"wrap-width":{css:"text-wrap-width",doc:"Length of a chunk of text in characters before wrapping text","default-value":0,type:"unsigned"},"wrap-before":{css:"text-wrap-before",type:"boolean","default-value":!1,doc:"Wrap text before wrap-width is reached. If false, wrapped lines will be a bit longer than wrap-width."},"wrap-character":{css:"text-wrap-character",type:"string","default-value":" ",doc:"Use this character instead of a space to wrap long text."},spacing:{css:"text-spacing",type:"unsigned",doc:"Distance between repeated text labels on a line (aka. label-spacing)"},"character-spacing":{css:"text-character-spacing",type:"float","default-value":0,doc:"Horizontal spacing adjustment between characters in pixels"},"line-spacing":{css:"text-line-spacing","default-value":0,type:"unsigned",doc:"Vertical spacing adjustment between lines in pixels"},"label-position-tolerance":{css:"text-label-position-tolerance","default-value":0,type:"unsigned",doc:"Allows the label to be displaced from its ideal position by a number of pixels (only works with placement:line)"},"max-char-angle-delta":{css:"text-max-char-angle-delta",type:"float","default-value":"22.5",doc:"The maximum angle change, in degrees, allowed between adjacent characters in a label. This value internally is converted to radians to the default is 22.5*math.pi/180.0. The higher the value the fewer labels will be placed around around sharp corners."},fill:{css:"text-fill",doc:"Specifies the color for the text","default-value":"#000000",type:"color"},opacity:{css:"text-opacity",doc:"A number from 0 to 1 specifying the opacity for the text","default-value":1,"default-meaning":"Fully opaque",type:"float"},"halo-fill":{css:"text-halo-fill",type:"color","default-value":"#FFFFFF","default-meaning":"white",doc:"Specifies the color of the halo around the text."},"halo-radius":{css:"text-halo-radius",doc:"Specify the radius of the halo in pixels","default-value":0,"default-meaning":"no halo",type:"float"},dx:{css:"text-dx",type:"float",doc:"Displace text by fixed amount, in pixels, +/- along the X axis.  A positive value will shift the text right","default-value":0},dy:{css:"text-dy",type:"float",doc:"Displace text by fixed amount, in pixels, +/- along the Y axis.  A positive value will shift the text down","default-value":0},"vertical-alignment":{css:"text-vertical-alignment",type:["top","middle","bottom","auto"],doc:"Position of label relative to point position.","default-value":"auto","default-meaning":'Default affected by value of dy; "bottom" for dy>0, "top" for dy<0.'},"avoid-edges":{css:"text-avoid-edges",doc:"Tell positioning algorithm to avoid labeling near intersection edges.","default-value":!1,type:"boolean"},"minimum-distance":{css:"text-min-distance",doc:"Minimum permitted distance to the next text symbolizer.",type:"float"},"minimum-padding":{css:"text-min-padding",doc:"Determines the minimum amount of padding that a text symbolizer gets relative to other text",type:"float"},"minimum-path-length":{css:"text-min-path-length",type:"float","default-value":0,"default-meaning":"place labels on all paths",doc:"Place labels only on paths longer than this value."},"allow-overlap":{css:"text-allow-overlap",type:"boolean","default-value":!1,doc:"Control whether overlapping text is shown or hidden.","default-meaning":"Do not allow text to overlap with other text - overlapping markers will not be shown."},orientation:{css:"text-orientation",type:"float",expression:!0,doc:"Rotate the text."},placement:{css:"text-placement",type:["point","line","vertex","interior"],"default-value":"point",doc:"Control the style of placement of a point versus the geometry it is attached to."},"placement-type":{css:"text-placement-type",doc:'Re-position and/or re-size text to avoid overlaps. "simple" for basic algorithm (using text-placements string,) "dummy" to turn this feature off.',type:["dummy","simple"],"default-value":"dummy"},placements:{css:"text-placements",type:"string","default-value":"",doc:'If "placement-type" is set to "simple", use this "POSITIONS,[SIZES]" string. An example is `text-placements: "E,NE,SE,W,NW,SW";` '},"text-transform":{css:"text-transform",type:["none","uppercase","lowercase","capitalize"],doc:"Transform the case of the characters","default-value":"none"},"horizontal-alignment":{css:"text-horizontal-alignment",type:["left","middle","right","auto"],doc:"The text's horizontal alignment from its centerpoint","default-value":"auto"},"justify-alignment":{css:"text-align",type:["left","right","center","auto"],doc:"Define how text is justified","default-value":"auto","default-meaning":"Auto alignment means that text will be centered by default except when using the `placement-type` parameter - in that case either right or left justification will be used automatically depending on where the text could be fit given the `text-placements` directives"},clip:{css:"text-clip",type:"boolean","default-value":!0,"default-meaning":"geometry will be clipped to map bounds before rendering",doc:"geometries are clipped to map bounds by default for best rendering performance. In some cases users may wish to disable this to avoid rendering artifacts."},"comp-op":{css:"text-comp-op","default-value":"src-over","default-meaning":"add the current symbolizer on top of other symbolizer",doc:"Composite operation. This defines how this symbolizer should behave relative to symbolizers atop or below it.",type:["clear","src","dst","src-over","dst-over","src-in","dst-in","src-out","dst-out","src-atop","dst-atop","xor","plus","minus","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","contrast","invert","invert-rgb","grain-merge","grain-extract","hue","saturation","color","value"]}},building:{fill:{css:"building-fill","default-value":"#FFFFFF",doc:"The color of the buildings walls.",type:"color"},"fill-opacity":{css:"building-fill-opacity",type:"float",doc:"The opacity of the building as a whole, including all walls.","default-value":1},height:{css:"building-height",doc:"The height of the building in pixels.",type:"float",expression:!0,"default-value":"0"}},torque:{"-torque-clear-color":{css:"-torque-clear-color",type:"color","default-value":"rgba(255, 255, 255, 0)","default-meaning":"full clear",doc:"color used to clear canvas on each frame"},"-torque-frame-count":{css:"-torque-frame-count","default-value":"128",type:"float","default-meaning":"the data is broken into 128 time frames",doc:"Number of animation steps/frames used in the animation. If the data contains a fewere number of total frames, the lesser value will be used."},"-torque-resolution":{css:"-torque-resolution","default-value":"2",type:"float","default-meaning":"",doc:"Spatial resolution in pixels. A resolution of 1 means no spatial aggregation of the data. Any other resolution of N results in spatial aggregation into cells of NxN pixels. The value N must be power of 2"},"-torque-animation-duration":{css:"-torque-animation-duration","default-value":"30",type:"float","default-meaning":"the animation lasts 30 seconds",doc:"Animation duration in seconds"},"-torque-aggregation-function":{css:"-torque-aggregation-function","default-value":"count(cartodb_id)",type:"string","default-meaning":"the value for each cell is the count of points in that cell",doc:"A function used to calculate a value from the aggregate data for each cell. See -torque-resolution"},"-torque-time-attribute":{css:"-torque-time-attribute","default-value":"time",type:"string","default-meaning":"the data column in your table that is of a time based type",doc:"The table column that contains the time information used create the animation"},"-torque-data-aggregation":{css:"-torque-data-aggregation","default-value":"linear",type:["linear","cumulative"],"default-meaning":"previous values are discarded",doc:"A linear animation will discard previous values while a cumulative animation will accumulate them until it restarts"}}},colors:{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50],transparent:[0,0,0,0]},filter:{value:["true","false","null","point","linestring","polygon","collection"]}};
t.exports={version:{latest:n,"2.1.1":n}}},{}],9:[function(e,t){"undefined"!=typeof t&&(t.exports.find=function(e,t){for(var n,r=0;r<e.length;r++)if(n=t.call(e,e[r]))return n;return null})},{}],10:[function(e){(function(t){!function(n){var r=t._||e("underscore");n.Call=function(e,t,n){this.name=e,this.args=t,this.index=n},n.Call.prototype={is:"call",ev:function(e){for(var t=this.args.map(function(t){return t.ev(e)}),i=0;i<t.length;i++)if("undefined"===t[i].is)return{is:"undefined",value:"undefined"};if(this.name in n.functions){if(n.functions[this.name].length<=t.length){var o=n.functions[this.name].apply(n.functions,t);return null===o?(e.error({message:"incorrect arguments given to "+this.name+"()",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):o}return e.error({message:"incorrect number of arguments for "+this.name+"(). "+n.functions[this.name].length+" expected.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}}var a=n.Reference.mapnikFunctions[this.name];if(void 0===a){var s=r.pairs(n.Reference.mapnikFunctions),l=this.name,u=s.map(function(e){return[e[0],n.Reference.editDistance(l,e[0]),e[1]]}).sort(function(e,t){return e[1]-t[1]});return e.error({message:"unknown function "+this.name+"(), did you mean "+u[0][0]+"("+u[0][2]+")",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}}return a===t.length||Array.isArray(a)&&r.include(a,t.length)||-1===a?(this.args=t,this):(e.error({message:"function "+this.name+"() takes "+a+" arguments and was given "+t.length,index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"})},toString:function(){return this.args.length?this.name+"("+this.args.join(",")+")":this.name}}}(e("../tree"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../tree":9,underscore:42}],11:[function(e){!function(e){e.Color=function(e,t){this.rgb=Array.isArray(e)?e.slice(0,3):6==e.length?e.match(/.{2}/g).map(function(e){return parseInt(e,16)}):e.split("").map(function(e){return parseInt(e+e,16)}),this.alpha="number"==typeof t?t:4===e.length?e[3]:1},e.Color.prototype={is:"color",ev:function(){return this},toString:function(){return this.alpha<1?"rgba("+this.rgb.map(function(e){return Math.round(e)}).concat(this.alpha).join(", ")+")":"#"+this.rgb.map(function(e){return e=Math.round(e),e=(e>255?255:0>e?0:e).toString(16),1===e.length?"0"+e:e}).join("")},operate:function(t,n,r){var i=[];r instanceof e.Color||(r=r.toColor());for(var o=0;3>o;o++)i[o]=e.operate(n,this.rgb[o],r.rgb[o]);return new e.Color(i)},toHSL:function(){var e,t,n=this.rgb[0]/255,r=this.rgb[1]/255,i=this.rgb[2]/255,o=this.alpha,a=Math.max(n,r,i),s=Math.min(n,r,i),l=(a+s)/2,u=a-s;if(a===s)e=t=0;else{switch(t=l>.5?u/(2-a-s):u/(a+s),a){case n:e=(r-i)/u+(i>r?6:0);break;case r:e=(i-n)/u+2;break;case i:e=(n-r)/u+4}e/=6}return{h:360*e,s:t,l:l,a:o}}}}(e("../tree"))},{"../tree":9}],12:[function(e){!function(e){e.Comment=function(e,t){this.value=e,this.silent=!!t},e.Comment.prototype={toString:function(){return"<!--"+this.value+"-->"},ev:function(){return this}}}(e("../tree"))},{"../tree":9}],13:[function(e){(function(t){!function(n){function r(e){function t(e){return e[1].toUpperCase()}return e.charAt(0).toUpperCase()+e.slice(1).replace(/\-./,t)+"Symbolizer"}function i(e){return e.sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}var o=e("assert"),a=t._||e("underscore");n.Definition=function(e,t){this.elements=e.elements,o.ok(e.filters instanceof n.Filterset),this.rules=t,this.ruleIndex={};for(var r=0;r<this.rules.length;r++)"zoom"in this.rules[r]&&(this.rules[r]=this.rules[r].clone()),this.rules[r].zoom=e.zoom,this.ruleIndex[this.rules[r].updateID()]=!0;this.filters=e.filters,this.zoom=e.zoom,this.frame_offset=e.frame_offset,this.attachment=e.attachment||"__default__",this.specificity=e.specificity()},n.Definition.prototype.toString=function(){for(var e=this.filters.toString(),t=0;t<this.rules.length;t++)e+="\n    "+this.rules[t];return e},n.Definition.prototype.clone=function(e){e&&o.ok(e instanceof n.Filterset);var t=Object.create(n.Definition.prototype);return t.rules=this.rules.slice(),t.ruleIndex=a.clone(this.ruleIndex),t.filters=e?e:this.filters.clone(),t.attachment=this.attachment,t},n.Definition.prototype.addRules=function(e){for(var t=0,n=0;n<e.length;n++)this.ruleIndex[e[n].id]||(this.rules.push(e[n]),this.ruleIndex[e[n].id]=!0,t++);return t},n.Definition.prototype.appliesTo=function(e,t){for(var n=0,r=this.elements.length;r>n;n++){var i=this.elements[n];if(!(i.wildcard||"class"===i.type&&t[i.clean]||"id"===i.type&&e===i.clean))return!1}return!0},n.Definition.prototype.symbolizersToXML=function(e,t,o){var a=o.toXML(e).join("")+this.filters.toXML(e),s=[],l=[];for(var u in t){l=[];for(var c in t[u])l.push(t[u][c].index);var f=Math.min.apply(Math,l);s.push([u,f])}s=i(s);for(var d=0,h=0;h<s.length;h++){var p=t[s[h]],m=s[h].split("/").pop();if("*"!==m){d++;var g=n.Reference.requiredProperties(m,p);if(g){var v=p[Object.keys(p).shift()];e.error({message:g,index:v.index,filename:v.filename})}var y,b=r(m),w=!0;a+="    <"+b+" ";for(var x in p){"map"===m&&e.error({message:"Map properties are not permitted in other rules",index:p[x].index,filename:p[x].filename});var k=n.Reference.selector(p[x].name);k&&k.serialization&&"content"===k.serialization?(w=!1,y=p[x].ev(e).toXML(e,!0)):k&&k.serialization&&"tag"===k.serialization?(w=!1,y=p[x].ev(e).toXML(e,!0)):a+=p[x].ev(e).toXML(e)+" "}w?a+="/>\n":"undefined"!=typeof y&&(a+=-1!=y.indexOf("<")?">"+y+"</"+b+">\n":"><![CDATA["+y+"]]></"+b+">\n")}}return d&&a?"  <Rule>\n"+a+"  </Rule>\n":""},n.Definition.prototype.collectSymbolizers=function(e,t){for(var n,r={},i=t;i<this.rules.length;i++){n=this.rules[i];var o=n.instance+"/"+n.symbolizer;!(e.current&n.zoom)||o in r&&n.name in r[o]||(e.current&=n.zoom,o in r||(r[o]={}),r[o][n.name]=n)}return Object.keys(r).length?(e.rule&=e.available&=~e.current,r):void 0},n.Definition.prototype.toXML=function(e,t){var r=this.filters.toString();r in t||(t[r]=n.Zoom.all);for(var i,o=n.Zoom.all,a="",s={available:n.Zoom.all},l=0;l<this.rules.length&&o;l++)if(s.rule=this.rules[l].zoom,t[r]&s.rule)for(;s.current=s.rule&o;)if(i=this.collectSymbolizers(s,l)){if(!(t[r]&s.current))continue;a+=this.symbolizersToXML(e,i,(new n.Zoom).setZoom(t[r]&s.current)),t[r]&=~s.current}return a},n.Definition.prototype.toJS=function(e){var t={},r="("+this.zoom+" & (1 << ctx.zoom))",i=this.frame_offset,o=this.filters.toJS(e),s=[r];return o&&s.push(o),i&&s.push('ctx["frame-offset"] === '+i),o=s.join(" && "),a.each(this.rules,function(r){if(!(r instanceof n.Rule))throw new Error("Ruleset not supported");t[r.name]=t[r.name]||[];var i={index:r.index,symbolizer:r.symbolizer};i.js=o?"if("+o+"){"+r.value.toJS(e)+"}":r.value.toJS(e),i.constant="field"!==r.value.ev(e).is,i.filtered=!!o,t[r.name].push(i)}),t}}(e("../tree"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../tree":9,assert:1,underscore:42}],14:[function(e){(function(t){!function(n){var r=t._||e("underscore");n.Dimension=function(e,t,n){this.value=parseFloat(e),this.unit=t||null,this.index=n},n.Dimension.prototype={is:"float",physical_units:["m","cm","in","mm","pt","pc"],screen_units:["px","%"],all_units:["m","cm","in","mm","pt","pc","px","%"],densities:{m:.0254,mm:25.4,cm:2.54,pt:72,pc:6},ev:function(e){if(this.unit&&!r.contains(this.all_units,this.unit))return e.error({message:"Invalid unit: '"+this.unit+"'",index:this.index}),{is:"undefined",value:"undefined"};if(this.unit&&r.contains(this.physical_units,this.unit)){if(!e.ppi)return e.error({message:"ppi is not set, so metric units can't be used",index:this.index}),{is:"undefined",value:"undefined"};this.value=this.value/this.densities[this.unit]*e.ppi,this.unit="px"}return this},round:function(){return this.value=Math.round(this.value),this},toColor:function(){return new n.Color([this.value,this.value,this.value])},round:function(){return this.value=Math.round(this.value),this},toString:function(){return this.value.toString()},operate:function(e,t,r){return"%"===this.unit&&"%"!==r.unit?(e.error({message:"If two operands differ, the first must not be %",index:this.index}),{is:"undefined",value:"undefined"}):"%"!==this.unit&&"%"===r.unit?"*"===t||"/"===t||"%"===t?(e.error({message:"Percent values can only be added or subtracted from other values",index:this.index}),{is:"undefined",value:"undefined"}):new n.Dimension(n.operate(t,this.value,this.value*r.value*.01),this.unit):new n.Dimension(n.operate(t,this.value,r.value),this.unit||r.unit)}}}(e("../tree"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../tree":9,underscore:42}],15:[function(e){!function(e){e.Element=function(e){this.value=e.trim(),"#"===this.value[0]&&(this.type="id",this.clean=this.value.replace(/^#/,"")),"."===this.value[0]&&(this.type="class",this.clean=this.value.replace(/^\./,"")),-1!==this.value.indexOf("*")&&(this.type="wildcard")},e.Element.prototype.specificity=function(){return["id"===this.type?1:0,"class"===this.type?1:0]},e.Element.prototype.toString=function(){return this.value}}(e("../tree"))},{"../tree":9}],16:[function(e){!function(e){e.Expression=function(e){this.value=e},e.Expression.prototype={is:"expression",ev:function(t){return this.value.length>1?new e.Expression(this.value.map(function(e){return e.ev(t)})):this.value[0].ev(t)},toString:function(e){return this.value.map(function(t){return t.toString(e)}).join(" ")}}}(e("../tree"))},{"../tree":9}],17:[function(e){!function(e){e.Field=function(e){this.value=e||""},e.Field.prototype={is:"field",toString:function(){return"["+this.value+"]"},ev:function(){return this}}}(e("../tree"))},{"../tree":9}],18:[function(e){!function(e){e.Filter=function(e,t,n,r,i){this.key=e,this.op=t,this.val=n,this.index=r,this.filename=i,this.id=this.key+this.op+this.val};var t={"<":[" &lt; ","numeric"],">":[" &gt; ","numeric"],"=":[" = ","both"],"!=":[" != ","both"],"<=":[" &lt;= ","numeric"],">=":[" &gt;= ","numeric"],"=~":[".match(","string",")"]};e.Filter.prototype.ev=function(e){return this.key=this.key.ev(e),this.val=this.val.ev(e),this},e.Filter.prototype.toXML=function(n){e.Reference.data.filter&&("keyword"===this.key.is&&-1===e.Reference.data.filter.value.indexOf(this.key.toString())&&n.error({message:this.key.toString()+" is not a valid keyword in a filter expression",index:this.index,filename:this.filename}),"keyword"===this.val.is&&-1===e.Reference.data.filter.value.indexOf(this.val.toString())&&n.error({message:this.val.toString()+" is not a valid keyword in a filter expression",index:this.index,filename:this.filename}));var r=this.key.toString(!1),i=this.val.toString("string"==this.val.is);return("numeric"==t[this.op][1]&&isNaN(i)&&"field"!==this.val.is||"string"==t[this.op][1]&&"'"!=i[0])&&n.error({message:'Cannot use operator "'+this.op+'" with value '+this.val,index:this.index,filename:this.filename}),r+t[this.op][0]+i+(t[this.op][2]||"")},e.Filter.prototype.toString=function(){return"["+this.id+"]"}}(e("../tree"))},{"../tree":9}],19:[function(e){(function(t){var n=e("../tree"),r=t._||e("underscore");n.Filterset=function(){this.filters={}},n.Filterset.prototype.toXML=function(e){var t=[];for(var n in this.filters)t.push("("+this.filters[n].toXML(e).trim()+")");return t.length?"    <Filter>"+t.join(" and ")+"</Filter>\n":""},n.Filterset.prototype.toString=function(){var e=[];for(var t in this.filters)e.push(this.filters[t].id);return e.sort().join("	")},n.Filterset.prototype.ev=function(e){for(var t in this.filters)this.filters[t].ev(e);return this},n.Filterset.prototype.clone=function(){var e=new n.Filterset;for(var t in this.filters)e.filters[t]=this.filters[t];return e},n.Filterset.prototype.cloneWith=function(e){var t=[];for(var r in e.filters){var i=this.addable(e.filters[r]);if(i===!1)return!1;i===!0&&t.push(e.filters[r])}if(!t.length)return null;var o=new n.Filterset;for(r in this.filters)o.filters[r]=this.filters[r];for(;r=t.shift();)o.add(r);return o},n.Filterset.prototype.toJS=function(){var e={"=":"==="};return r.map(this.filters,function(t){var n=t.op;n in e&&(n=e[n]);var r=t.val;void 0!==t._val&&(r=t._val.toString(!0));var i="data";return i+"['"+t.key.value+"'] "+n+" "+("string"===r.is?"'"+r.toString().replace(/'/g,"\\'")+"'":r)}).join(" && ")},n.Filterset.prototype.addable=function(e){var t=e.key.toString(),n=e.val.toString();switch(n.match(/^[0-9]+(\.[0-9]*)?$/)&&(n=parseFloat(n)),e.op){case"=":return void 0!==this.filters[t+"="]?this.filters[t+"="].val.toString()!=n?!1:null:void 0!==this.filters[t+"!="+n]?!1:void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?!1:void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?!1:void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n?!1:void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n?!1:!0;case"=~":return!0;case"!=":return void 0!==this.filters[t+"="]?this.filters[t+"="].val==n?!1:null:void 0!==this.filters[t+"!="+n]?null:void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?null:void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?null:void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n?null:void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n?null:!0;case">":return t+"="in this.filters?this.filters[t+"="].val<=n?!1:null:void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?!1:void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<=n?!1:void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?null:void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n?null:!0;case">=":return void 0!==this.filters[t+"="]?this.filters[t+"="].val<n?!1:null:void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?!1:void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n?!1:void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?null:void 0!==this.filters[t+">="]&&this.filters[t+">="].val>=n?null:!0;case"<":return void 0!==this.filters[t+"="]?this.filters[t+"="].val>=n?!1:null:void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?!1:void 0!==this.filters[t+">="]&&this.filters[t+">="].val>=n?!1:void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?null:void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<n?null:!0;case"<=":return void 0!==this.filters[t+"="]?this.filters[t+"="].val>n?!1:null:void 0!==this.filters[t+">"]&&this.filters[t+">"].val>=n?!1:void 0!==this.filters[t+">="]&&this.filters[t+">="].val>n?!1:void 0!==this.filters[t+"<"]&&this.filters[t+"<"].val<=n?null:void 0!==this.filters[t+"<="]&&this.filters[t+"<="].val<=n?null:!0}},n.Filterset.prototype.conflict=function(e){var t=e.key.toString(),n=e.val.toString();return isNaN(parseFloat(n))||(n=parseFloat(n)),"="===e.op&&void 0!==this.filters[t+"="]&&n!=this.filters[t+"="].val.toString()||"!="===e.op&&void 0!==this.filters[t+"="]&&n==this.filters[t+"="].val.toString()||"="===e.op&&void 0!==this.filters[t+"!="]&&n==this.filters[t+"!="].val.toString()?e.toString()+" added to "+this.toString()+" produces an invalid filter":!1},n.Filterset.prototype.add=function(e){var t,n=e.key.toString(),r=e.op,i=this.conflict(e);if(i)return i;if("="===r){for(var o in this.filters)this.filters[o].key==n&&delete this.filters[o];this.filters[n+"="]=e}else if("!="===r)this.filters[n+"!="+e.val]=e;else if("=~"===r)this.filters[n+"=~"+e.val]=e;else if(">"===r){for(var a in this.filters)this.filters[a].key==n&&this.filters[a].val<=e.val&&delete this.filters[a];this.filters[n+">"]=e}else if(">="===r){for(var s in this.filters)t=+this.filters[s].val.toString(),this.filters[s].key==n&&t<e.val&&delete this.filters[s];void 0!==this.filters[n+"!="+e.val]?(delete this.filters[n+"!="+e.val],e.op=">",this.filters[n+">"]=e):this.filters[n+">="]=e}else if("<"===r){for(var l in this.filters)t=+this.filters[l].val.toString(),this.filters[l].key==n&&t>=e.val&&delete this.filters[l];this.filters[n+"<"]=e}else if("<="===r){for(var u in this.filters)t=+this.filters[u].val.toString(),this.filters[u].key==n&&t>e.val&&delete this.filters[u];void 0!==this.filters[n+"!="+e.val]?(delete this.filters[n+"!="+e.val],e.op="<",this.filters[n+"<"]=e):this.filters[n+"<="]=e}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../tree":9,underscore:42}],20:[function(e){!function(e){e._getFontSet=function(t,n){var r=n.join("");if(t._fontMap&&t._fontMap[r])return t._fontMap[r];var i=new e.FontSet(t,n);return t.effects.push(i),t._fontMap||(t._fontMap={}),t._fontMap[r]=i,i},e.FontSet=function(e,t){this.fonts=t,this.name="fontset-"+e.effects.length},e.FontSet.prototype.toXML=function(){return'<FontSet name="'+this.name+'">\n'+this.fonts.map(function(e){return'  <Font face-name="'+e+'"/>'}).join("\n")+"\n</FontSet>"}}(e("../tree"))},{"../tree":9}],21:[function(e){var t=e("../tree");t.FrameOffset=function(e,n,r){if(n=parseInt(n,10),n>t.FrameOffset.max||0>=n)throw{message:"Only frame-offset levels between 1 and "+t.FrameOffset.max+" supported.",index:r};if("="!==e)throw{message:"only = operator is supported for frame-offset",index:r};return n},t.FrameOffset.max=32,t.FrameOffset.none=0},{"../tree":9}],22:[function(e){!function(e){e.ImageFilter=function(e,t){this.filter=e,this.args=t||null},e.ImageFilter.prototype={is:"imagefilter",ev:function(){return this},toString:function(){return this.args?this.filter+"("+this.args.join(",")+")":this.filter}}}(e("../tree"))},{"../tree":9}],23:[function(e){!function(e){e.Invalid=function(e,t,n){this.chunk=e,this.index=t,this.type="syntax",this.message=n||"Invalid code: "+this.chunk},e.Invalid.prototype.is="invalid",e.Invalid.prototype.ev=function(e){return e.error({chunk:this.chunk,index:this.index,type:"syntax",message:this.message||"Invalid code: "+this.chunk}),{is:"undefined"}}}(e("../tree"))},{"../tree":9}],24:[function(e){!function(e){e.Keyword=function(e){this.value=e;var t={transparent:"color","true":"boolean","false":"boolean"};this.is=t[e]?t[e]:"keyword"},e.Keyword.prototype={ev:function(){return this},toString:function(){return this.value}}}(e("../tree"))},{"../tree":9}],25:[function(e){!function(e){e.LayerXML=function(t,n){var r=[];for(var i in t.Datasource)r.push('<Parameter name="'+i+'"><![CDATA['+t.Datasource[i]+"]]></Parameter>");var o="";for(var a in t.properties)o+="minzoom"===a?'  maxzoom="'+e.Zoom.ranges[t.properties[a]]+'"\n':"maxzoom"===a?'  minzoom="'+e.Zoom.ranges[t.properties[a]+1]+'"\n':"  "+a+'="'+t.properties[a]+'"\n';return'<Layer name="'+t.name+'"\n'+o+("undefined"==typeof t.status?"":'  status="'+t.status+'"\n')+("undefined"==typeof t.srs?"":'  srs="'+t.srs+'"')+">\n    "+n.reverse().map(function(e){return"<StyleName>"+e+"</StyleName>"}).join("\n    ")+(r.length?"\n    <Datasource>\n       "+r.join("\n       ")+"\n    </Datasource>\n":"")+"  </Layer>\n"}}(e("../tree"))},{"../tree":9}],26:[function(e){!function(e){e.Literal=function(e){this.value=e||"",this.is="field"},e.Literal.prototype={toString:function(){return this.value},ev:function(){return this}}}(e("../tree"))},{"../tree":9}],27:[function(e){!function(e){e.Operation=function(e,t,n){this.op=e.trim(),this.operands=t,this.index=n},e.Operation.prototype.is="operation",e.Operation.prototype.ev=function(t){var n,r=this.operands[0].ev(t),i=this.operands[1].ev(t);return"undefined"===r.is||"undefined"===i.is?{is:"undefined",value:"undefined"}:(r instanceof e.Dimension&&i instanceof e.Color&&("*"===this.op||"+"===this.op?(n=i,i=r,r=n):t.error({name:"OperationError",message:"Can't substract or divide a color from a number",index:this.index})),r instanceof e.Quoted&&i instanceof e.Quoted&&"+"!==this.op?(t.error({message:"Can't subtract, divide, or multiply strings.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):r instanceof e.Field||i instanceof e.Field||r instanceof e.Literal||i instanceof e.Literal?"color"===r.is||"color"===i.is?(t.error({message:"Can't subtract, divide, or multiply colors in expressions.",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):new e.Literal(r.ev(t).toString(!0)+this.op+i.ev(t).toString(!0)):void 0===r.operate?(t.error({message:"Cannot do math with type "+r.is+".",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"}):r.operate(t,this.op,i))},e.operate=function(e,t,n){switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"%":return t%n;case"/":return t/n}}}(e("../tree"))},{"../tree":9}],28:[function(e){!function(e){e.Quoted=function(e){this.value=e||""},e.Quoted.prototype={is:"string",toString:function(e){var t=this.value.replace(/&/g,"&amp;"),n=t.replace(/\'/g,"\\'").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/\>/g,"&gt;");return e===!0?"'"+n+"'":t},ev:function(){return this},operate:function(t,n,r){return new e.Quoted(e.operate(n,this.toString(),r.toString(this.contains_field)))}}}(e("../tree"))},{"../tree":9}],29:[function(e){(function(t){!function(n){function r(e){var t={};for(var n in e.symbolizers)for(var r in e.symbolizers[n])e.symbolizers[n][r].hasOwnProperty("css")&&(t[e.symbolizers[n][r].css]=[e.symbolizers[n][r],n,r]);return t}function i(e){var t={};for(var n in e.symbolizers)for(var r in e.symbolizers[n])if("functions"===e.symbolizers[n][r].type)for(var i=0;i<e.symbolizers[n][r].functions.length;i++){var o=e.symbolizers[n][r].functions[i];t[o[0]]=o[1]}return t}function o(e){var t={};for(var n in e.symbolizers){t[n]=[];for(var r in e.symbolizers[n])e.symbolizers[n][r].required&&t[n].push(e.symbolizers[n][r].css)}return t}function a(e,t){if("string"===e.value[0].is)return!0;for(var n in e.value)for(var r in e.value[n].value){if("call"!==e.value[n].value[r].is)return!1;var i=l.find(u.selector(t).functions,function(t){return t[0]==e.value[n].value[r].name});if(!(i&&-1==i[1]||i&&i[1]===e.value[n].value[r].args.length))return!1}return!0}function s(e,t){return"object"==typeof u.selector(t).type?-1!==u.selector(t).type.indexOf(e.value[0].value):"string"===u.selector(t).type}var l=t._||e("underscore"),u={};u.setData=function(e){u.data=e,u.selector_cache=r(e),u.mapnikFunctions=i(e),u.mapnikFunctions.matrix=[6],u.mapnikFunctions.translate=[1,2],u.mapnikFunctions.scale=[1,2],u.mapnikFunctions.rotate=[1,3],u.mapnikFunctions.skewX=[1],u.mapnikFunctions.skewY=[1],u.required_cache=o(e)},u.setVersion=function(t){var n=e("mapnik-reference");return n.version.hasOwnProperty(t)?(u.setData(n.version[t]),!0):!1},u.selectorData=function(e,t){return u.selector_cache[e]?u.selector_cache[e][t]:void 0},u.validSelector=function(e){return!!u.selector_cache[e]},u.selectorName=function(e){return u.selectorData(e,2)},u.selector=function(e){return u.selectorData(e,0)},u.symbolizer=function(e){return u.selectorData(e,1)},u.requiredProperties=function(e,t){var n=u.required_cache[e];for(var r in n)if(!(n[r]in t))return"Property "+n[r]+" required for defining "+e+" styles."},u._validateValue={font:function(e,t){return e.validation_data&&e.validation_data.fonts?-1!=e.validation_data.fonts.indexOf(t):!0}},u.isFont=function(e){return"font"==u.selector(e).validate},u.editDistance=function(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;for(var n=[],r=0;r<=t.length;r++)n[r]=[r];for(var i=0;i<=e.length;i++)n[0][i]=i;for(r=1;r<=t.length;r++)for(i=1;i<=e.length;i++)n[r][i]=t.charAt(r-1)==e.charAt(i-1)?n[r-1][i-1]:Math.min(n[r-1][i-1]+1,Math.min(n[r][i-1]+1,n[r-1][i]+1));return n[t.length][e.length]},u.validValue=function(e,t,n){var r;if(u.selector(t)){if("keyword"==n.value[0].is)return s(n,t);if("undefined"==n.value[0].is)return!0;if("numbers"==u.selector(t).type){for(r in n.value)if("float"!==n.value[r].is)return!1;return!0}if("tags"==u.selector(t).type){if(!n.value)return!1;if(!n.value[0].value)return"tag"===n.value[0].is;for(r=0;r<n.value[0].value.length;r++)if("tag"!==n.value[0].value[r].is)return!1;return!0}if("functions"==u.selector(t).type)return a(n,t);if("unsigned"===u.selector(t).type)return"float"===n.value[0].is?(n.value[0].round(),!0):!1;if(u.selector(t).expression)return!0;if(u.selector(t).validate){var i=!1;for(r=0;r<n.value.length;r++)if(u.selector(t).type==n.value[r].is&&u._validateValue[u.selector(t).validate](e,n.value[r].value))return!0;return i}return u.selector(t).type==n.value[0].is}return!1},n.Reference=u}(e("../tree"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../tree":9,"mapnik-reference":39,underscore:42}],30:[function(e){!function(e){function t(t){return Object.keys(e.Reference.selector_cache).map(function(n){return[n,e.Reference.editDistance(t,n)]}).sort(function(e,t){return e[1]-t[1]})}e.Rule=function(t,n,r,i){var o=t.split("/");this.name=o.pop(),this.instance=o.length?o[0]:"__default__",this.value=n instanceof e.Value?n:new e.Value([n]),this.index=r,this.symbolizer=e.Reference.symbolizer(this.name),this.filename=i,this.variable="@"===t.charAt(0)},e.Rule.prototype.is="rule",e.Rule.prototype.clone=function(){var t=Object.create(e.Rule.prototype);return t.name=this.name,t.value=this.value,t.index=this.index,t.instance=this.instance,t.symbolizer=this.symbolizer,t.filename=this.filename,t.variable=this.variable,t},e.Rule.prototype.updateID=function(){return this.id=this.zoom+"#"+this.instance+"#"+this.name},e.Rule.prototype.toString=function(){return"["+e.Zoom.toString(this.zoom)+"] "+this.name+": "+this.value},e.Rule.prototype.toXML=function(n,r,i){if(!e.Reference.validSelector(this.name)){var o=t(this.name),a="";return o[0][1]<3&&(a=". Did you mean "+o[0][0]+"?"),n.error({message:"Unrecognized rule: "+this.name+a,index:this.index,type:"syntax",filename:this.filename})}if(this.value instanceof e.Value&&!e.Reference.validValue(n,this.name,this.value)){if(e.Reference.selector(this.name)){var s;return s=e.Reference.selector(this.name).validate?e.Reference.selector(this.name).validate:"object"==typeof e.Reference.selector(this.name).type?"keyword (options: "+e.Reference.selector(this.name).type.join(", ")+")":e.Reference.selector(this.name).type,n.error({message:"Invalid value for "+this.name+", the type "+s+" is expected. "+this.value+" (of type "+this.value.value[0].is+")  was given.",index:this.index,type:"syntax",filename:this.filename})}return n.error({message:"Unrecognized property: "+this.name,index:this.index,type:"syntax",filename:this.filename})}if(this.variable)return"";if(e.Reference.isFont(this.name)&&this.value.value.length>1){var l=e._getFontSet(n,this.value.value);return'fontset-name="'+l.name+'"'}return r?this.value.toString(n,this.name,i):e.Reference.selectorName(this.name)+'="'+this.value.toString(n,this.name)+'"'},e.Rule.prototype.ev=function(t){return new e.Rule(this.name,this.value.ev(t),this.index,this.filename)}}(e("../tree"))},{"../tree":9}],31:[function(e){!function(e){e.Ruleset=function(e,t){this.selectors=e,this.rules=t,this._lookups={}},e.Ruleset.prototype={is:"ruleset",ev:function(t){var n,r=new e.Ruleset(this.selectors,this.rules.slice(0));for(r.root=this.root,t.frames.unshift(r),n=0,rule;n<r.rules.length;n++)rule=r.rules[n],r.rules[n]=rule.ev?rule.ev(t):rule;return t.frames.shift(),r},match:function(e){return!e||0===e.length},variables:function(){return this._variables?this._variables:this._variables=this.rules.reduce(function(t,n){return n instanceof e.Rule&&n.variable===!0&&(t[n.name]=n),t},{})},variable:function(e){return this.variables()[e]},rulesets:function(){return this._rulesets?this._rulesets:this._rulesets=this.rules.filter(function(t){return t instanceof e.Ruleset})},find:function(t,n){n=n||this;var r,i=[],o=t.toString();return o in this._lookups?this._lookups[o]:(this.rulesets().forEach(function(o){if(o!==n)for(var a=0;a<o.selectors.length;a++)if(r=t.match(o.selectors[a])){t.elements.length>1?Array.prototype.push.apply(i,o.find(new e.Selector(null,null,null,t.elements.slice(1)),n)):i.push(o);break}}),this._lookups[o]=i)},evZooms:function(t){for(var n=0;n<this.selectors.length;n++){for(var r=e.Zoom.all,i=0;i<this.selectors[n].zoom.length;i++)r&=this.selectors[n].zoom[i].ev(t).zoom;this.selectors[n].zoom=r}},flatten:function(t,n,r){var i,o,a=[];for(0===this.selectors.length&&(r.frames=r.frames.concat(this.rules)),this.evZooms(r),i=0;i<this.selectors.length;i++){var s=this.selectors[i];if(s.filters)if(n.length)for(o=0;o<n.length;o++){var l=n[o],u=l.filters.cloneWith(s.filters);if(null===u){if(l.zoom===(l.zoom&s.zoom)&&l.frame_offset===s.frame_offset&&l.attachment===s.attachment&&l.elements.join()===s.elements.join()){a.push(l);continue}u=l.filters}else if(!u)continue;var c=Object.create(e.Selector.prototype);c.filters=u,c.zoom=l.zoom&s.zoom,c.frame_offset=s.frame_offset,c.elements=l.elements.concat(s.elements),c.attachment=l.attachment&&s.attachment?l.attachment+"/"+s.attachment:s.attachment||l.attachment,c.conditions=l.conditions+s.conditions,c.index=s.index,a.push(c)}else a.push(s)}var f=[];for(i=0;i<this.rules.length;i++){var d=this.rules[i];d instanceof e.Ruleset?d.flatten(t,a,r):d instanceof e.Rule?f.push(d):d instanceof e.Invalid&&r.error(d)}var h=f.length?f[0].index:!1;for(i=0;i<a.length;i++)h!==!1&&(a[i].index=h),t.push(new e.Definition(a[i],f.slice()));return t}}}(e("../tree"))},{"../tree":9}],32:[function(e){!function(e){e.Selector=function(t,n,r,i,o,a,s){this.elements=i||[],this.attachment=o,this.filters=t||{},this.frame_offset=r,this.zoom="undefined"!=typeof n?n:e.Zoom.all,this.conditions=a,this.index=s},e.Selector.prototype.specificity=function(){return this.elements.reduce(function(e,t){var n=t.specificity();return e[0]+=n[0],e[1]+=n[1],e},[0,0,this.conditions,this.index])}}(e("../tree"))},{"../tree":9}],33:[function(e){(function(t){!function(n){var r=t._||e("underscore");n.StyleXML=function(e,t,n,i){for(var o={},a=[],s=[],l=[],u=[],c=[],f=0;f<n.length;f++)for(var d=0;d<n[f].rules.length;d++)"image-filters"===n[f].rules[d].name&&a.push(n[f].rules[d]),"image-filters-inflate"===n[f].rules[d].name&&s.push(n[f].rules[d]),"direct-image-filters"===n[f].rules[d].name&&l.push(n[f].rules[d]),"comp-op"===n[f].rules[d].name&&u.push(n[f].rules[d]),"opacity"===n[f].rules[d].name&&c.push(n[f].rules[d]);var h=n.map(function(e){return e.toXML(i,o)}),p="";a.length&&(p+=' image-filters="'+r.chain(a).uniq(function(e){return e.id}).map(function(e){return e.ev(i).toXML(i,!0,",","image-filter")}).value().join(",")+'"'),s.length&&(p+=' image-filters-inflate="'+s[0].value.ev(i).toString()+'"'),l.length&&(p+=' direct-image-filters="'+r.chain(l).uniq(function(e){return e.id}).map(function(e){return e.ev(i).toXML(i,!0,",","direct-image-filter")}).value().join(",")+'"'),u.length&&"src-over"!=u[0].value.ev(i).value&&(p+=' comp-op="'+u[0].value.ev(i).toString()+'"'),c.length&&1!=c[0].value.ev(i).value&&(p+=' opacity="'+c[0].value.ev(i).toString()+'"');var m=h.join("");return p||m?'<Style name="'+e+'" filter-mode="first"'+p+">\n"+m+"</Style>":""}}(e("../tree"))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../tree":9,underscore:42}],34:[function(e){!function(e){e.URL=function(e,t){this.value=e,this.paths=t},e.URL.prototype={is:"uri",toString:function(){return this.value.toString()},ev:function(t){return new e.URL(this.value.ev(t),this.paths)}}}(e("../tree"))},{"../tree":9}],35:[function(e){!function(e){e.Value=function(e){this.value=e},e.Value.prototype={is:"value",ev:function(t){return 1===this.value.length?this.value[0].ev(t):new e.Value(this.value.map(function(e){return e.ev(t)}))},toString:function(e,t,n,r){return this.value.map(function(t){return t.toString(e,r)}).join(n||", ")},clone:function(){var t=Object.create(e.Value.prototype);return t.value=Array.isArray(t)?this.value.slice():this.value,t.is=this.is,t},toJS:function(e){var t=this.ev(e),n=t.toString();return"color"===t.is||"uri"===t.is||"string"===t.is||"keyword"===t.is?n="'"+n+"'":"field"===t.is?n=n.replace(/\[(.*)\]/g,"data['$1']"):"call"===t.is&&(n=JSON.stringify({name:t.name,args:t.args})),"_value = "+n+";"
}}}(e("../tree"))},{"../tree":9}],36:[function(e){!function(e){e.Variable=function(e,t,n){this.name=e,this.index=t,this.filename=n},e.Variable.prototype={is:"variable",toString:function(){return this.name},ev:function(e){this.name;if(this._css)return this._css;var t=e.frames.filter(function(e){return e.name==this.name}.bind(this));return t.length?t[0].value.ev(e):(e.error({message:"variable "+this.name+" is undefined",index:this.index,type:"runtime",filename:this.filename}),{is:"undefined",value:"undefined"})}}}(e("../tree"))},{"../tree":9}],37:[function(e){var t=e("../tree");t.Zoom=function(e,t,n){this.op=e,this.value=t,this.index=n},t.Zoom.prototype.setZoom=function(e){return this.zoom=e,this},t.Zoom.prototype.ev=function(e){var n=0,r=1/0,i=parseInt(this.value.ev(e).toString(),10),o=0;switch((i>t.Zoom.maxZoom||0>i)&&e.error({message:"Only zoom levels between 0 and "+t.Zoom.maxZoom+" supported.",index:this.index}),this.op){case"=":return this.zoom=1<<i,this;case">":n=i+1;break;case">=":n=i;break;case"<":r=i-1;break;case"<=":r=i}for(var a=0;a<=t.Zoom.maxZoom;a++)a>=n&&r>=a&&(o|=1<<a);return this.zoom=o,this},t.Zoom.prototype.toString=function(){return this.zoom},t.Zoom.all=8388607,t.Zoom.maxZoom=22,t.Zoom.ranges={0:1e9,1:5e8,2:2e8,3:1e8,4:5e7,5:25e6,6:125e5,7:65e5,8:3e6,9:15e5,10:75e4,11:4e5,12:2e5,13:1e5,14:5e4,15:25e3,16:12500,17:5e3,18:2500,19:1500,20:750,21:500,22:250,23:100},t.Zoom.prototype.toXML=function(){var e=[];if(this.zoom!=t.Zoom.all){for(var n=null,r=null,i=0;i<=t.Zoom.maxZoom;i++)this.zoom&1<<i&&(null===n&&(n=i),r=i);n>0&&e.push("    <MaxScaleDenominator>"+t.Zoom.ranges[n]+"</MaxScaleDenominator>\n"),22>r&&e.push("    <MinScaleDenominator>"+t.Zoom.ranges[r+1]+"</MinScaleDenominator>\n")}return e},t.Zoom.prototype.toString=function(){for(var e="",n=0;n<=t.Zoom.maxZoom;n++)e+=this.zoom&1<<n?"X":".";return e}},{"../tree":9}],38:[function(e,t){t.exports={name:"carto",version:"0.15.1-cdb1",description:"CartoCSS Stylesheet Compiler",url:"https://github.com/cartodb/carto",repository:{type:"git",url:"http://github.com/cartodb/carto.git"},author:{name:"CartoDB",url:"http://cartodb.com/"},keywords:["maps","css","stylesheets"],contributors:["Tom MacWright <macwright@gmail.com>","Konstantin KÃ¤fer","Alexis Sellier <self@cloudhead.net>","Raul Ochoa <rochoa@cartodb.com>","Javi Santana <jsantana@cartodb.com>"],licenses:[{type:"Apache"}],bin:{carto:"./bin/carto"},man:"./man/carto.1",main:"./lib/carto/index",engines:{node:">=0.4.x"},dependencies:{underscore:"1.8.3","mapnik-reference":"~6.0.2",optimist:"~0.6.0"},devDependencies:{mocha:"1.12.x",jshint:"0.2.x",sax:"0.1.x",istanbul:"~0.2.14",coveralls:"~2.10.1",browserify:"~7.0.0","uglify-js":"1.3.3"},scripts:{pretest:"npm install",test:"mocha -R spec",coverage:"istanbul cover ./node_modules/.bin/_mocha && coveralls < ./coverage/lcov.info"}}},{}],39:[function(e,t){(function(n){var r=(e("fs"),e("path")),i=e("fs").existsSync||e("path").existsSync;t.exports.version={};var o=["2.0.0","2.0.1","2.0.2","2.1.0","2.1.1","2.2.0","2.3.0","3.0.0"];o.map(function(o){t.exports.version[o]=e(r.join(n,o,"reference.json"));var a=r.join(n,o,"datasources.json");i(a)&&(t.exports.version[o].datasources=e(a).datasources)})}).call(this,"/node_modules/mapnik-reference")},{fs:2,path:40}],40:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return i.exec(e).slice(1)};n.resolve=function(){for(var n="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,i="/"===a.charAt(0))}return n=t(r(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var i=n.isAbsolute(e),o="/"===a(e,-1);return e=t(r(e.split("/"),function(e){return!!e}),!i).join("/"),e||i||(e="."),e&&o&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var i=r(e.split("/")),o=r(t.split("/")),a=Math.min(i.length,o.length),s=a,l=0;a>l;l++)if(i[l]!==o[l]){s=l;break}for(var u=[],l=s;l<i.length;l++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var t=o(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},n.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:41}],41:[function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&h&&(m=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=i(a);m=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,m=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,f,d=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,p=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||m||i(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=u,d.addListener=u,d.once=u,d.off=u,d.removeListener=u,d.removeAllListeners=u,d.emit=u,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},{}],42:[function(e,t,n){(function(){function e(e){function t(t,n,r,i,o,a){for(;o>=0&&a>o;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r}return function(n,r,i,o){r=x(r,o,4);var a=!F(n)&&w.keys(n),s=(a||n).length,l=e>0?0:s-1;return arguments.length<3&&(i=n[a?a[l]:l],l+=e),t(n,r,i,a,l,s)}}function r(e){return function(t,n,r){n=k(n,r);for(var i=A(t),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(n(t[o],o,t))return o;return-1}}function i(e,t,n){return function(r,i,o){var a=0,s=A(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(d.call(r,a,s),w.isNaN),o>=0?o+a:-1;for(o=e>0?a:s-1;o>=0&&s>o;o+=e)if(r[o]===i)return o;return-1}}function o(e,t){var n=L.length,r=e.constructor,i=w.isFunction(r)&&r.prototype||u,o="constructor";for(w.has(e,o)&&!w.contains(t,o)&&t.push(o);n--;)o=L[n],o in e&&e[o]!==i[o]&&!w.contains(t,o)&&t.push(o)}var a=this,s=a._,l=Array.prototype,u=Object.prototype,c=Function.prototype,f=l.push,d=l.slice,h=u.toString,p=u.hasOwnProperty,m=Array.isArray,g=Object.keys,v=c.bind,y=Object.create,b=function(){},w=function(e){return e instanceof w?e:this instanceof w?void(this._wrapped=e):new w(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=w),n._=w):a._=w,w.VERSION="1.8.3";var x=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},k=function(e,t,n){return null==e?w.identity:w.isFunction(e)?x(e,t,n):w.isObject(e)?w.matcher(e):w.property(e)};w.iteratee=function(e,t){return k(e,t,1/0)};var S=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],a=e(o),s=a.length,l=0;s>l;l++){var u=a[l];t&&void 0!==n[u]||(n[u]=o[u])}return n}},z=function(e){if(!w.isObject(e))return{};if(y)return y(e);b.prototype=e;var t=new b;return b.prototype=null,t},_=function(e){return function(t){return null==t?void 0:t[e]}},j=Math.pow(2,53)-1,A=_("length"),F=function(e){var t=A(e);return"number"==typeof t&&t>=0&&j>=t};w.each=w.forEach=function(e,t,n){t=x(t,n);var r,i;if(F(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var o=w.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},w.map=w.collect=function(e,t,n){t=k(t,n);for(var r=!F(e)&&w.keys(e),i=(r||e).length,o=Array(i),a=0;i>a;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o},w.reduce=w.foldl=w.inject=e(1),w.reduceRight=w.foldr=e(-1),w.find=w.detect=function(e,t,n){var r;return r=F(e)?w.findIndex(e,t,n):w.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},w.filter=w.select=function(e,t,n){var r=[];return t=k(t,n),w.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},w.reject=function(e,t,n){return w.filter(e,w.negate(k(t)),n)},w.every=w.all=function(e,t,n){t=k(t,n);for(var r=!F(e)&&w.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},w.some=w.any=function(e,t,n){t=k(t,n);for(var r=!F(e)&&w.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},w.contains=w.includes=w.include=function(e,t,n,r){return F(e)||(e=w.values(e)),("number"!=typeof n||r)&&(n=0),w.indexOf(e,t,n)>=0},w.invoke=function(e,t){var n=d.call(arguments,2),r=w.isFunction(t);return w.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},w.pluck=function(e,t){return w.map(e,w.property(t))},w.where=function(e,t){return w.filter(e,w.matcher(t))},w.findWhere=function(e,t){return w.find(e,w.matcher(t))},w.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e){e=F(e)?e:w.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],r>o&&(o=r)}else t=k(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},w.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=F(e)?e:w.values(e);for(var s=0,l=e.length;l>s;s++)r=e[s],o>r&&(o=r)}else t=k(t,n),w.each(e,function(e,n,r){i=t(e,n,r),(a>i||1/0===i&&1/0===o)&&(o=e,a=i)});return o},w.shuffle=function(e){for(var t,n=F(e)?e:w.values(e),r=n.length,i=Array(r),o=0;r>o;o++)t=w.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},w.sample=function(e,t,n){return null==t||n?(F(e)||(e=w.values(e)),e[w.random(e.length-1)]):w.shuffle(e).slice(0,Math.max(0,t))},w.sortBy=function(e,t,n){return t=k(t,n),w.pluck(w.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=k(n,r),w.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};w.groupBy=T(function(e,t,n){w.has(e,n)?e[n].push(t):e[n]=[t]}),w.indexBy=T(function(e,t,n){e[n]=t}),w.countBy=T(function(e,t,n){w.has(e,n)?e[n]++:e[n]=1}),w.toArray=function(e){return e?w.isArray(e)?d.call(e):F(e)?w.map(e,w.identity):w.values(e):[]},w.size=function(e){return null==e?0:F(e)?e.length:w.keys(e).length},w.partition=function(e,t,n){t=k(t,n);var r=[],i=[];return w.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},w.first=w.head=w.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:w.initial(e,e.length-t)},w.initial=function(e,t,n){return d.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},w.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:w.rest(e,Math.max(0,e.length-t))},w.rest=w.tail=w.drop=function(e,t,n){return d.call(e,null==t||n?1:t)},w.compact=function(e){return w.filter(e,w.identity)};var M=function(e,t,n,r){for(var i=[],o=0,a=r||0,s=A(e);s>a;a++){var l=e[a];if(F(l)&&(w.isArray(l)||w.isArguments(l))){t||(l=M(l,t,n));var u=0,c=l.length;for(i.length+=c;c>u;)i[o++]=l[u++]}else n||(i[o++]=l)}return i};w.flatten=function(e,t){return M(e,t,!1)},w.without=function(e){return w.difference(e,d.call(arguments,1))},w.uniq=w.unique=function(e,t,n,r){w.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=k(n,r));for(var i=[],o=[],a=0,s=A(e);s>a;a++){var l=e[a],u=n?n(l,a,e):l;t?(a&&o===u||i.push(l),o=u):n?w.contains(o,u)||(o.push(u),i.push(l)):w.contains(i,l)||i.push(l)}return i},w.union=function(){return w.uniq(M(arguments,!0,!0))},w.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=A(e);i>r;r++){var o=e[r];if(!w.contains(t,o)){for(var a=1;n>a&&w.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},w.difference=function(e){var t=M(arguments,!0,!0,1);return w.filter(e,function(e){return!w.contains(t,e)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(e){for(var t=e&&w.max(e,A).length||0,n=Array(t),r=0;t>r;r++)n[r]=w.pluck(e,r);return n},w.object=function(e,t){for(var n={},r=0,i=A(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},w.findIndex=r(1),w.findLastIndex=r(-1),w.sortedIndex=function(e,t,n,r){n=k(n,r,1);for(var i=n(t),o=0,a=A(e);a>o;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o},w.indexOf=i(1,w.findIndex,w.sortedIndex),w.lastIndexOf=i(-1,w.findLastIndex),w.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var q=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=z(e.prototype),a=e.apply(o,i);return w.isObject(a)?a:o};w.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,d.call(arguments,1));if(!w.isFunction(e))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),r=function(){return q(e,r,t,this,n.concat(d.call(arguments)))};return r},w.partial=function(e){var t=d.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;i>a;a++)o[a]=t[a]===w?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return q(e,n,this,this,o)};return n},w.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=w.bind(e[n],e);return e},w.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return w.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},w.delay=function(e,t){var n=d.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},w.defer=w.partial(w.delay,w,1),w.throttle=function(e,t,n){var r,i,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:w.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var u=w.now();s||n.leading!==!1||(s=u);var c=t-(u-s);return r=this,i=arguments,0>=c||c>t?(a&&(clearTimeout(a),a=null),s=u,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(l,c)),o}},w.debounce=function(e,t,n){var r,i,o,a,s,l=function(){var u=w.now()-a;t>u&&u>=0?r=setTimeout(l,t-u):(r=null,n||(s=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=w.now();var u=n&&!r;return r||(r=setTimeout(l,t)),u&&(s=e.apply(o,i),o=i=null),s}},w.wrap=function(e,t){return w.partial(t,e)},w.negate=function(e){return function(){return!e.apply(this,arguments)}},w.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},w.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},w.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},w.once=w.partial(w.before,2);var R=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(e){if(!w.isObject(e))return[];if(g)return g(e);var t=[];for(var n in e)w.has(e,n)&&t.push(n);return R&&o(e,t),t},w.allKeys=function(e){if(!w.isObject(e))return[];var t=[];for(var n in e)t.push(n);return R&&o(e,t),t},w.values=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},w.mapObject=function(e,t,n){t=k(t,n);for(var r,i=w.keys(e),o=i.length,a={},s=0;o>s;s++)r=i[s],a[r]=t(e[r],r,e);return a},w.pairs=function(e){for(var t=w.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},w.invert=function(e){for(var t={},n=w.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},w.functions=w.methods=function(e){var t=[];for(var n in e)w.isFunction(e[n])&&t.push(n);return t.sort()},w.extend=S(w.allKeys),w.extendOwn=w.assign=S(w.keys),w.findKey=function(e,t,n){t=k(t,n);for(var r,i=w.keys(e),o=0,a=i.length;a>o;o++)if(r=i[o],t(e[r],r,e))return r},w.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;w.isFunction(t)?(i=w.allKeys(a),r=x(t,n)):(i=M(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var s=0,l=i.length;l>s;s++){var u=i[s],c=a[u];r(c,u,a)&&(o[u]=c)}return o},w.omit=function(e,t,n){if(w.isFunction(t))t=w.negate(t);else{var r=w.map(M(arguments,!1,!1,1),String);t=function(e,t){return!w.contains(r,t)}}return w.pick(e,t,n)},w.defaults=S(w.allKeys,!0),w.create=function(e,t){var n=z(e);return t&&w.extendOwn(n,t),n},w.clone=function(e){return w.isObject(e)?w.isArray(e)?e.slice():w.extend({},e):e},w.tap=function(e,t){return t(e),e},w.isMatch=function(e,t){var n=w.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var O=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof w&&(e=e._wrapped),t instanceof w&&(t=t._wrapped);var i=h.call(e);if(i!==h.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(w.isFunction(a)&&a instanceof a&&w.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),o){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!O(e[l],t[l],n,r))return!1}else{var u,c=w.keys(e);if(l=c.length,w.keys(t).length!==l)return!1;for(;l--;)if(u=c[l],!w.has(t,u)||!O(e[u],t[u],n,r))return!1}return n.pop(),r.pop(),!0};w.isEqual=function(e,t){return O(e,t)},w.isEmpty=function(e){return null==e?!0:F(e)&&(w.isArray(e)||w.isString(e)||w.isArguments(e))?0===e.length:0===w.keys(e).length},w.isElement=function(e){return!(!e||1!==e.nodeType)},w.isArray=m||function(e){return"[object Array]"===h.call(e)},w.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){w["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),w.isArguments(arguments)||(w.isArguments=function(e){return w.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(w.isFunction=function(e){return"function"==typeof e||!1}),w.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},w.isNaN=function(e){return w.isNumber(e)&&e!==+e},w.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===h.call(e)},w.isNull=function(e){return null===e},w.isUndefined=function(e){return void 0===e},w.has=function(e,t){return null!=e&&p.call(e,t)},w.noConflict=function(){return a._=s,this},w.identity=function(e){return e},w.constant=function(e){return function(){return e}},w.noop=function(){},w.property=_,w.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},w.matcher=w.matches=function(e){return e=w.extendOwn({},e),function(t){return w.isMatch(t,e)}},w.times=function(e,t,n){var r=Array(Math.max(0,e));t=x(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},w.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},w.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},E=w.invert(D),C=function(e){var t=function(t){return e[t]},n="(?:"+w.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};w.escape=C(D),w.unescape=C(E),w.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),w.isFunction(r)?r.call(e):r};var I=0;w.uniqueId=function(e){var t=++I+"";return e?e+t:t},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,P={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Z=/\\|'|\r|\n|\u2028|\u2029/g,X=function(e){return"\\"+P[e]};w.template=function(e,t,n){!t&&n&&(t=n),t=w.defaults({},t,w.templateSettings);var r=RegExp([(t.escape||N).source,(t.interpolate||N).source,(t.evaluate||N).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,s){return o+=e.slice(i,s).replace(Z,X),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(s){throw s.source=o,s}var l=function(e){return a.call(this,e,w)},u=t.variable||"obj";return l.source="function("+u+"){\n"+o+"}",l},w.chain=function(e){var t=w(e);return t._chain=!0,t};var V=function(e,t){return e._chain?w(t).chain():t};w.mixin=function(e){w.each(w.functions(e),function(t){var n=w[t]=e[t];w.prototype[t]=function(){var e=[this._wrapped];return f.apply(e,arguments),V(this,n.apply(w,e))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=l[e];w.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],V(this,n)}}),w.each(["concat","join","slice"],function(e){var t=l[e];w.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return w})}).call(this)},{}],43:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],44:[function(e,t){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],45:[function(e,t,n){(function(t,r){function i(e,t){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(t)?r.showHidden=t:t&&n._extend(r,t),x(r.showHidden)&&(r.showHidden=!1),x(r.depth)&&(r.depth=2),x(r.colors)&&(r.colors=!1),x(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),l(r,e,r.depth)}function o(e,t){var n=i.styles[t];return n?"["+i.colors[n][0]+"m"+e+"["+i.colors[n][1]+"m":e}function a(e){return e}function s(e){var t={};return e.forEach(function(e){t[e]=!0}),t}function l(e,t,r){if(e.customInspect&&t&&j(t.inspect)&&t.inspect!==n.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(r,e);return b(i)||(i=l(e,i,r)),i}var o=u(e,t);if(o)return o;var a=Object.keys(t),m=s(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(t)),_(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(t);if(0===a.length){if(j(t)){var g=t.name?": "+t.name:"";return e.stylize("[Function"+g+"]","special")}if(k(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(z(t))return e.stylize(Date.prototype.toString.call(t),"date");if(_(t))return c(t)}var v="",y=!1,w=["{","}"];if(p(t)&&(y=!0,w=["[","]"]),j(t)){var x=t.name?": "+t.name:"";v=" [Function"+x+"]"}if(k(t)&&(v=" "+RegExp.prototype.toString.call(t)),z(t)&&(v=" "+Date.prototype.toUTCString.call(t)),_(t)&&(v=" "+c(t)),0===a.length&&(!y||0==t.length))return w[0]+v+w[1];if(0>r)return k(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special");e.seen.push(t);var S;return S=y?f(e,t,r,m,a):a.map(function(n){return d(e,t,r,m,n,y)}),e.seen.pop(),h(S,v,w)}function u(e,t){if(x(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function c(e){return"["+Error.prototype.toString.call(e)+"]"}function f(e,t,n,r,i){for(var o=[],a=0,s=t.length;s>a;++a)o.push(q(t,String(a))?d(e,t,n,r,String(a),!0):"");return i.forEach(function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))}),o}function d(e,t,n,r,i,o){var a,s,u;if(u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),q(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(n)?l(e,u.value,null):l(e,u.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),x(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e,t,n){var r=0,i=e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return"symbol"==typeof e}function x(e){return void 0===e}function k(e){return S(e)&&"[object RegExp]"===F(e)}function S(e){return"object"==typeof e&&null!==e}function z(e){return S(e)&&"[object Date]"===F(e)}function _(e){return S(e)&&("[object Error]"===F(e)||e instanceof Error)}function j(e){return"function"==typeof e}function A(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function F(e){return Object.prototype.toString.call(e)}function T(e){return 10>e?"0"+e.toString(10):e.toString(10)}function M(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),D[e.getMonth()],t].join(" ")}function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var R=/%[sdj%]/g;n.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(i(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(e).replace(R,function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}}),s=r[n];o>n;s=r[++n])a+=g(s)||!S(s)?" "+s:" "+i(s);return a},n.deprecate=function(e,i){function o(){if(!a){if(t.throwDeprecation)throw new Error(i);t.traceDeprecation?console.trace(i):console.error(i),a=!0}return e.apply(this,arguments)}if(x(r.process))return function(){return n.deprecate(e,i).apply(this,arguments)};if(t.noDeprecation===!0)return e;var a=!1;return o};var L,O={};n.debuglog=function(e){if(x(L)&&(L=t.env.NODE_DEBUG||""),e=e.toUpperCase(),!O[e])if(new RegExp("\\b"+e+"\\b","i").test(L)){var r=t.pid;O[e]=function(){var t=n.format.apply(n,arguments);console.error("%s %d: %s",e,r,t)}}else O[e]=function(){};return O[e]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=m,n.isNull=g,n.isNullOrUndefined=v,n.isNumber=y,n.isString=b,n.isSymbol=w,n.isUndefined=x,n.isRegExp=k,n.isObject=S,n.isDate=z,n.isError=_,n.isFunction=j,n.isPrimitive=A,n.isBuffer=e("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",M(),n.format.apply(n,arguments))},n.inherits=e("inherits"),n._extend=function(e,t){if(!t||!S(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":44,_process:41,inherits:43}],46:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i,o=e("carto"),a=r(o),s={marker:"points",polygon:"polygons",line:"lines"},l={polygon:{color:"fill"},line:{color:"color"},marker:{color:"color"}},u=new a.default.RendererJS,c=function(e){return s[e]},f=function(e,t){return e+"-"+t},d=function(e){return"function () {\n    var _value = null;\n    "+e+"\n    return _value;\n  }"},h=function(e){return e.replace(/ctx.zoom/g,"$zoom").replace(/data\[/g,"feature[")},p=function(e,t){if(!e)return function(){return t};e="return ("+e+"());";for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;n>i;i++)r[i-2]=arguments[i];return new(Function.prototype.bind.apply(Function,[null].concat(r,[e])))},m=function(e,t){return l[e][t]},g=function(e,t,n){var r=n[f(e,t)];if(!r)return"";for(var i=r.js,o="",a=0;a<i.length;a++)o+=h(i[a]);return d(o)},v=function(e){for(var t={},n=0;n<e.symbolizers.length;n++){var r=e.symbolizers[n];t[c(r)]={color:g(r,m(r,"color"),e),size:g(r,"size",e),width:p(g(r,"width",e),"","feature","$zoom")({},10)}}return t},y=function(e){for(var t=u.render(e).getLayers(),n={},r=0;r<t.length;r++){var i=t[r].shader;n=v(i)}return n};n.default=i={extractFeatures:y}},{carto:4}],47:[function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=e("./carto"),i=n(r);t.exports={carto2Draw:i.default.extractFeatures}},{"./carto":46}]},{},[47])(47)});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],2:[function(_dereq_,module,exports){
// Generated by CoffeeScript 1.10.0
var Dumper, Inline, Utils;

Utils = _dereq_('./Utils');

Inline = _dereq_('./Inline');

Dumper = (function() {
  function Dumper() {}

  Dumper.indentation = 4;

  Dumper.prototype.dump = function(input, inline, indent, exceptionOnInvalidType, objectEncoder) {
    var i, key, len, output, prefix, value, willBeInlined;
    if (inline == null) {
      inline = 0;
    }
    if (indent == null) {
      indent = 0;
    }
    if (exceptionOnInvalidType == null) {
      exceptionOnInvalidType = false;
    }
    if (objectEncoder == null) {
      objectEncoder = null;
    }
    output = '';
    prefix = (indent ? Utils.strRepeat(' ', indent) : '');
    if (inline <= 0 || typeof input !== 'object' || input instanceof Date || Utils.isEmpty(input)) {
      output += prefix + Inline.dump(input, exceptionOnInvalidType, objectEncoder);
    } else {
      if (input instanceof Array) {
        for (i = 0, len = input.length; i < len; i++) {
          value = input[i];
          willBeInlined = inline - 1 <= 0 || typeof value !== 'object' || Utils.isEmpty(value);
          output += prefix + '-' + (willBeInlined ? ' ' : "\n") + this.dump(value, inline - 1, (willBeInlined ? 0 : indent + this.indentation), exceptionOnInvalidType, objectEncoder) + (willBeInlined ? "\n" : '');
        }
      } else {
        for (key in input) {
          value = input[key];
          willBeInlined = inline - 1 <= 0 || typeof value !== 'object' || Utils.isEmpty(value);
          output += prefix + Inline.dump(key, exceptionOnInvalidType, objectEncoder) + ':' + (willBeInlined ? ' ' : "\n") + this.dump(value, inline - 1, (willBeInlined ? 0 : indent + this.indentation), exceptionOnInvalidType, objectEncoder) + (willBeInlined ? "\n" : '');
        }
      }
    }
    return output;
  };

  return Dumper;

})();

module.exports = Dumper;

},{"./Inline":6,"./Utils":10}],3:[function(_dereq_,module,exports){
// Generated by CoffeeScript 1.10.0
var Escaper, Pattern;

Pattern = _dereq_('./Pattern');

Escaper = (function() {
  var ch;

  function Escaper() {}

  Escaper.LIST_ESCAPEES = ['\\', '\\\\', '\\"', '"', "\x00", "\x01", "\x02", "\x03", "\x04", "\x05", "\x06", "\x07", "\x08", "\x09", "\x0a", "\x0b", "\x0c", "\x0d", "\x0e", "\x0f", "\x10", "\x11", "\x12", "\x13", "\x14", "\x15", "\x16", "\x17", "\x18", "\x19", "\x1a", "\x1b", "\x1c", "\x1d", "\x1e", "\x1f", (ch = String.fromCharCode)(0x0085), ch(0x00A0), ch(0x2028), ch(0x2029)];

  Escaper.LIST_ESCAPED = ['\\\\', '\\"', '\\"', '\\"', "\\0", "\\x01", "\\x02", "\\x03", "\\x04", "\\x05", "\\x06", "\\a", "\\b", "\\t", "\\n", "\\v", "\\f", "\\r", "\\x0e", "\\x0f", "\\x10", "\\x11", "\\x12", "\\x13", "\\x14", "\\x15", "\\x16", "\\x17", "\\x18", "\\x19", "\\x1a", "\\e", "\\x1c", "\\x1d", "\\x1e", "\\x1f", "\\N", "\\_", "\\L", "\\P"];

  Escaper.MAPPING_ESCAPEES_TO_ESCAPED = (function() {
    var i, j, mapping, ref;
    mapping = {};
    for (i = j = 0, ref = Escaper.LIST_ESCAPEES.length; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
      mapping[Escaper.LIST_ESCAPEES[i]] = Escaper.LIST_ESCAPED[i];
    }
    return mapping;
  })();

  Escaper.PATTERN_CHARACTERS_TO_ESCAPE = new Pattern('[\\x00-\\x1f]|\xc2\x85|\xc2\xa0|\xe2\x80\xa8|\xe2\x80\xa9');

  Escaper.PATTERN_MAPPING_ESCAPEES = new Pattern(Escaper.LIST_ESCAPEES.join('|').split('\\').join('\\\\'));

  Escaper.PATTERN_SINGLE_QUOTING = new Pattern('[\\s\'":{}[\\],&*#?]|^[-?|<>=!%@`]');

  Escaper.requiresDoubleQuoting = function(value) {
    return this.PATTERN_CHARACTERS_TO_ESCAPE.test(value);
  };

  Escaper.escapeWithDoubleQuotes = function(value) {
    var result;
    result = this.PATTERN_MAPPING_ESCAPEES.replace(value, (function(_this) {
      return function(str) {
        return _this.MAPPING_ESCAPEES_TO_ESCAPED[str];
      };
    })(this));
    return '"' + result + '"';
  };

  Escaper.requiresSingleQuoting = function(value) {
    return this.PATTERN_SINGLE_QUOTING.test(value);
  };

  Escaper.escapeWithSingleQuotes = function(value) {
    return "'" + value.replace(/'/g, "''") + "'";
  };

  return Escaper;

})();

module.exports = Escaper;

},{"./Pattern":8}],4:[function(_dereq_,module,exports){
// Generated by CoffeeScript 1.10.0
var DumpException,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

DumpException = (function(superClass) {
  extend(DumpException, superClass);

  function DumpException(message, parsedLine, snippet) {
    this.message = message;
    this.parsedLine = parsedLine;
    this.snippet = snippet;
  }

  DumpException.prototype.toString = function() {
    if ((this.parsedLine != null) && (this.snippet != null)) {
      return '<DumpException> ' + this.message + ' (line ' + this.parsedLine + ': \'' + this.snippet + '\')';
    } else {
      return '<DumpException> ' + this.message;
    }
  };

  return DumpException;

})(Error);

module.exports = DumpException;

},{}],5:[function(_dereq_,module,exports){
// Generated by CoffeeScript 1.10.0
var ParseException,
  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
  hasProp = {}.hasOwnProperty;

ParseException = (function(superClass) {
  extend(ParseException, superClass);

  function ParseException(message, parsedLine, snippet) {
    this.message = message;
    this.parsedLine = parsedLine;
    this.snippet = snippet;
  }

  ParseException.prototype.toString = function() {
    if ((this.parsedLine != null) && (this.snippet != null)) {
      return '<ParseException> ' + this.message + ' (line ' + this.parsedLine + ': \'' + this.snippet + '\')';
    } else {
      return '<ParseException> ' + this.message;
    }
  };

  return ParseException;

})(Error);

module.exports = ParseException;

},{}],6:[function(_dereq_,module,exports){
// Generated by CoffeeScript 1.10.0
var DumpException, Escaper, Inline, ParseException, Pattern, Unescaper, Utils,
  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

Pattern = _dereq_('./Pattern');

Unescaper = _dereq_('./Unescaper');

Escaper = _dereq_('./Escaper');

Utils = _dereq_('./Utils');

ParseException = _dereq_('./Exception/ParseException');

DumpException = _dereq_('./Exception/DumpException');

Inline = (function() {
  function Inline() {}

  Inline.REGEX_QUOTED_STRING = '(?:"(?:[^"\\\\]*(?:\\\\.[^"\\\\]*)*)"|\'(?:[^\']*(?:\'\'[^\']*)*)\')';

  Inline.PATTERN_TRAILING_COMMENTS = new Pattern('^\\s*#.*$');

  Inline.PATTERN_QUOTED_SCALAR = new Pattern('^' + Inline.REGEX_QUOTED_STRING);

  Inline.PATTERN_THOUSAND_NUMERIC_SCALAR = new Pattern('^(-|\\+)?[0-9,]+(\\.[0-9]+)?$');

  Inline.PATTERN_SCALAR_BY_DELIMITERS = {};

  Inline.settings = {};

  Inline.configure = function(exceptionOnInvalidType, objectDecoder) {
    if (exceptionOnInvalidType == null) {
      exceptionOnInvalidType = null;
    }
    if (objectDecoder == null) {
      objectDecoder = null;
    }
    this.settings.exceptionOnInvalidType = exceptionOnInvalidType;
    this.settings.objectDecoder = objectDecoder;
  };

  Inline.parse = function(value, exceptionOnInvalidType, objectDecoder) {
    var context, result;
    if (exceptionOnInvalidType == null) {
      exceptionOnInvalidType = false;
    }
    if (objectDecoder == null) {
      objectDecoder = null;
    }
    this.settings.exceptionOnInvalidType = exceptionOnInvalidType;
    this.settings.objectDecoder = objectDecoder;
    if (value == null) {
      return '';
    }
    value = Utils.trim(value);
    if (0 === value.length) {
      return '';
    }
    context = {
      exceptionOnInvalidType: exceptionOnInvalidType,
      objectDecoder: objectDecoder,
      i: 0
    };
    switch (value.charAt(0)) {
      case '[':
        result = this.parseSequence(value, context);
        ++context.i;
        break;
      case '{':
        result = this.parseMapping(value, context);
        ++context.i;
        break;
      default:
        result = this.parseScalar(value, null, ['"', "'"], context);
    }
    if (this.PATTERN_TRAILING_COMMENTS.replace(value.slice(context.i), '') !== '') {
      throw new ParseException('Unexpected characters near "' + value.slice(context.i) + '".');
    }
    return result;
  };

  Inline.dump = function(value, exceptionOnInvalidType, objectEncoder) {
    var ref, result, type;
    if (exceptionOnInvalidType == null) {
      exceptionOnInvalidType = false;
    }
    if (objectEncoder == null) {
      objectEncoder = null;
    }
    if (value == null) {
      return 'null';
    }
    type = typeof value;
    if (type === 'object') {
      if (value instanceof Date) {
        return value.toISOString();
      } else if (objectEncoder != null) {
        result = objectEncoder(value);
        if (typeof result === 'string' || (result != null)) {
          return result;
        }
      }
      return this.dumpObject(value);
    }
    if (type === 'boolean') {
      return (value ? 'true' : 'false');
    }
    if (Utils.isDigits(value)) {
      return (type === 'string' ? "'" + value + "'" : String(parseInt(value)));
    }
    if (Utils.isNumeric(value)) {
      return (type === 'string' ? "'" + value + "'" : String(parseFloat(value)));
    }
    if (type === 'number') {
      return (value === Infinity ? '.Inf' : (value === -Infinity ? '-.Inf' : (isNaN(value) ? '.NaN' : value)));
    }
    if (Escaper.requiresDoubleQuoting(value)) {
      return Escaper.escapeWithDoubleQuotes(value);
    }
    if (Escaper.requiresSingleQuoting(value)) {
      return Escaper.escapeWithSingleQuotes(value);
    }
    if ('' === value) {
      return '""';
    }
    if (Utils.PATTERN_DATE.test(value)) {
      return "'" + value + "'";
    }
    if ((ref = value.toLowerCase()) === 'null' || ref === '~' || ref === 'true' || ref === 'false') {
      return "'" + value + "'";
    }
    return value;
  };

  Inline.dumpObject = function(value, exceptionOnInvalidType, objectSupport) {
    var j, key, len1, output, val;
    if (objectSupport == null) {
      objectSupport = null;
    }
    if (value instanceof Array) {
      output = [];
      for (j = 0, len1 = value.length; j < len1; j++) {
        val = value[j];
        output.push(this.dump(val));
      }
      return '[' + output.join(', ') + ']';
    } else {
      output = [];
      for (key in value) {
        val = value[key];
        output.push(this.dump(key) + ': ' + this.dump(val));
      }
      return '{' + output.join(', ') + '}';
    }
  };

  Inline.parseScalar = function(scalar, delimiters, stringDelimiters, context, evaluate) {
    var i, joinedDelimiters, match, output, pattern, ref, ref1, strpos, tmp;
    if (delimiters == null) {
      delimiters = null;
    }
    if (stringDelimiters == null) {
      stringDelimiters = ['"', "'"];
    }
    if (context == null) {
      context = null;
    }
    if (evaluate == null) {
      evaluate = true;
    }
    if (context == null) {
      context = {
        exceptionOnInvalidType: this.settings.exceptionOnInvalidType,
        objectDecoder: this.settings.objectDecoder,
        i: 0
      };
    }
    i = context.i;
    if (ref = scalar.charAt(i), indexOf.call(stringDelimiters, ref) >= 0) {
      output = this.parseQuotedScalar(scalar, context);
      i = context.i;
      if (delimiters != null) {
        tmp = Utils.ltrim(scalar.slice(i), ' ');
        if (!(ref1 = tmp.charAt(0), indexOf.call(delimiters, ref1) >= 0)) {
          throw new ParseException('Unexpected characters (' + scalar.slice(i) + ').');
        }
      }
    } else {
      if (!delimiters) {
        output = scalar.slice(i);
        i += output.length;
        strpos = output.indexOf(' #');
        if (strpos !== -1) {
          output = Utils.rtrim(output.slice(0, strpos));
        }
      } else {
        joinedDelimiters = delimiters.join('|');
        pattern = this.PATTERN_SCALAR_BY_DELIMITERS[joinedDelimiters];
        if (pattern == null) {
          pattern = new Pattern('^(.+?)(' + joinedDelimiters + ')');
          this.PATTERN_SCALAR_BY_DELIMITERS[joinedDelimiters] = pattern;
        }
        if (match = pattern.exec(scalar.slice(i))) {
          output = match[1];
          i += output.length;
        } else {
          throw new ParseException('Malformed inline YAML string (' + scalar + ').');
        }
      }
      if (evaluate) {
        output = this.evaluateScalar(output, context);
      }
    }
    context.i = i;
    return output;
  };

  Inline.parseQuotedScalar = function(scalar, context) {
    var i, match, output;
    i = context.i;
    if (!(match = this.PATTERN_QUOTED_SCALAR.exec(scalar.slice(i)))) {
      throw new ParseException('Malformed inline YAML string (' + scalar.slice(i) + ').');
    }
    output = match[0].substr(1, match[0].length - 2);
    if ('"' === scalar.charAt(i)) {
      output = Unescaper.unescapeDoubleQuotedString(output);
    } else {
      output = Unescaper.unescapeSingleQuotedString(output);
    }
    i += match[0].length;
    context.i = i;
    return output;
  };

  Inline.parseSequence = function(sequence, context) {
    var e, error, i, isQuoted, len, output, ref, value;
    output = [];
    len = sequence.length;
    i = context.i;
    i += 1;
    while (i < len) {
      context.i = i;
      switch (sequence.charAt(i)) {
        case '[':
          output.push(this.parseSequence(sequence, context));
          i = context.i;
          break;
        case '{':
          output.push(this.parseMapping(sequence, context));
          i = context.i;
          break;
        case ']':
          return output;
        case ',':
        case ' ':
        case "\n":
          break;
        default:
          isQuoted = ((ref = sequence.charAt(i)) === '"' || ref === "'");
          value = this.parseScalar(sequence, [',', ']'], ['"', "'"], context);
          i = context.i;
          if (!isQuoted && typeof value === 'string' && (value.indexOf(': ') !== -1 || value.indexOf(":\n") !== -1)) {
            try {
              value = this.parseMapping('{' + value + '}');
            } catch (error) {
              e = error;
            }
          }
          output.push(value);
          --i;
      }
      ++i;
    }
    throw new ParseException('Malformed inline YAML string ' + sequence);
  };

  Inline.parseMapping = function(mapping, context) {
    var done, i, key, len, output, shouldContinueWhileLoop, value;
    output = {};
    len = mapping.length;
    i = context.i;
    i += 1;
    shouldContinueWhileLoop = false;
    while (i < len) {
      context.i = i;
      switch (mapping.charAt(i)) {
        case ' ':
        case ',':
        case "\n":
          ++i;
          context.i = i;
          shouldContinueWhileLoop = true;
          break;
        case '}':
          return output;
      }
      if (shouldContinueWhileLoop) {
        shouldContinueWhileLoop = false;
        continue;
      }
      key = this.parseScalar(mapping, [':', ' ', "\n"], ['"', "'"], context, false);
      i = context.i;
      done = false;
      while (i < len) {
        context.i = i;
        switch (mapping.charAt(i)) {
          case '[':
            value = this.parseSequence(mapping, context);
            i = context.i;
            if (output[key] === void 0) {
              output[key] = value;
            }
            done = true;
            break;
          case '{':
            value = this.parseMapping(mapping, context);
            i = context.i;
            if (output[key] === void 0) {
              output[key] = value;
            }
            done = true;
            break;
          case ':':
          case ' ':
          case "\n":
            break;
          default:
            value = this.parseScalar(mapping, [',', '}'], ['"', "'"], context);
            i = context.i;
            if (output[key] === void 0) {
              output[key] = value;
            }
            done = true;
            --i;
        }
        ++i;
        if (done) {
          break;
        }
      }
    }
    throw new ParseException('Malformed inline YAML string ' + mapping);
  };

  Inline.evaluateScalar = function(scalar, context) {
    var cast, date, exceptionOnInvalidType, firstChar, firstSpace, firstWord, objectDecoder, raw, scalarLower, subValue, trimmedScalar;
    scalar = Utils.trim(scalar);
    scalarLower = scalar.toLowerCase();
    switch (scalarLower) {
      case 'null':
      case '':
      case '~':
        return null;
      case 'true':
        return true;
      case 'false':
        return false;
      case '.inf':
        return Infinity;
      case '.nan':
        return NaN;
      case '-.inf':
        return Infinity;
      default:
        firstChar = scalarLower.charAt(0);
        switch (firstChar) {
          case '!':
            firstSpace = scalar.indexOf(' ');
            if (firstSpace === -1) {
              firstWord = scalarLower;
            } else {
              firstWord = scalarLower.slice(0, firstSpace);
            }
            switch (firstWord) {
              case '!':
                if (firstSpace !== -1) {
                  return parseInt(this.parseScalar(scalar.slice(2)));
                }
                return null;
              case '!str':
                return Utils.ltrim(scalar.slice(4));
              case '!!str':
                return Utils.ltrim(scalar.slice(5));
              case '!!int':
                return parseInt(this.parseScalar(scalar.slice(5)));
              case '!!bool':
                return Utils.parseBoolean(this.parseScalar(scalar.slice(6)), false);
              case '!!float':
                return parseFloat(this.parseScalar(scalar.slice(7)));
              case '!!timestamp':
                return Utils.stringToDate(Utils.ltrim(scalar.slice(11)));
              default:
                if (context == null) {
                  context = {
                    exceptionOnInvalidType: this.settings.exceptionOnInvalidType,
                    objectDecoder: this.settings.objectDecoder,
                    i: 0
                  };
                }
                objectDecoder = context.objectDecoder, exceptionOnInvalidType = context.exceptionOnInvalidType;
                if (objectDecoder) {
                  trimmedScalar = Utils.rtrim(scalar);
                  firstSpace = trimmedScalar.indexOf(' ');
                  if (firstSpace === -1) {
                    return objectDecoder(trimmedScalar, null);
                  } else {
                    subValue = Utils.ltrim(trimmedScalar.slice(firstSpace + 1));
                    if (!(subValue.length > 0)) {
                      subValue = null;
                    }
                    return objectDecoder(trimmedScalar.slice(0, firstSpace), subValue);
                  }
                }
                if (exceptionOnInvalidType) {
                  throw new ParseException('Custom object support when parsing a YAML file has been disabled.');
                }
                return null;
            }
            break;
          case '0':
            if ('0x' === scalar.slice(0, 2)) {
              return Utils.hexDec(scalar);
            } else if (Utils.isDigits(scalar)) {
              return Utils.octDec(scalar);
            } else if (Utils.isNumeric(scalar)) {
              return parseFloat(scalar);
            } else {
              return scalar;
            }
            break;
          case '+':
            if (Utils.isDigits(scalar)) {
              raw = scalar;
              cast = parseInt(raw);
              if (raw === String(cast)) {
                return cast;
              } else {
                return raw;
              }
            } else if (Utils.isNumeric(scalar)) {
              return parseFloat(scalar);
            } else if (this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(scalar)) {
              return parseFloat(scalar.replace(',', ''));
            }
            return scalar;
          case '-':
            if (Utils.isDigits(scalar.slice(1))) {
              if ('0' === scalar.charAt(1)) {
                return -Utils.octDec(scalar.slice(1));
              } else {
                raw = scalar.slice(1);
                cast = parseInt(raw);
                if (raw === String(cast)) {
                  return -cast;
                } else {
                  return -raw;
                }
              }
            } else if (Utils.isNumeric(scalar)) {
              return parseFloat(scalar);
            } else if (this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(scalar)) {
              return parseFloat(scalar.replace(',', ''));
            }
            return scalar;
          default:
            if (date = Utils.stringToDate(scalar)) {
              return date;
            } else if (Utils.isNumeric(scalar)) {
              return parseFloat(scalar);
            } else if (this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(scalar)) {
              return parseFloat(scalar.replace(',', ''));
            }
            return scalar;
        }
    }
  };

  return Inline;

})();

module.exports = Inline;

},{"./Escaper":3,"./Exception/DumpException":4,"./Exception/ParseException":5,"./Pattern":8,"./Unescaper":9,"./Utils":10}],7:[function(_dereq_,module,exports){
// Generated by CoffeeScript 1.10.0
var Inline, ParseException, Parser, Pattern, Utils;

Inline = _dereq_('./Inline');

Pattern = _dereq_('./Pattern');

Utils = _dereq_('./Utils');

ParseException = _dereq_('./Exception/ParseException');

Parser = (function() {
  Parser.prototype.PATTERN_FOLDED_SCALAR_ALL = new Pattern('^(?:(?<type>![^\\|>]*)\\s+)?(?<separator>\\||>)(?<modifiers>\\+|\\-|\\d+|\\+\\d+|\\-\\d+|\\d+\\+|\\d+\\-)?(?<comments> +#.*)?$');

  Parser.prototype.PATTERN_FOLDED_SCALAR_END = new Pattern('(?<separator>\\||>)(?<modifiers>\\+|\\-|\\d+|\\+\\d+|\\-\\d+|\\d+\\+|\\d+\\-)?(?<comments> +#.*)?$');

  Parser.prototype.PATTERN_SEQUENCE_ITEM = new Pattern('^\\-((?<leadspaces>\\s+)(?<value>.+?))?\\s*$');

  Parser.prototype.PATTERN_ANCHOR_VALUE = new Pattern('^&(?<ref>[^ ]+) *(?<value>.*)');

  Parser.prototype.PATTERN_COMPACT_NOTATION = new Pattern('^(?<key>' + Inline.REGEX_QUOTED_STRING + '|[^ \'"\\{\\[].*?) *\\:(\\s+(?<value>.+?))?\\s*$');

  Parser.prototype.PATTERN_MAPPING_ITEM = new Pattern('^(?<key>' + Inline.REGEX_QUOTED_STRING + '|[^ \'"\\[\\{].*?) *\\:(\\s+(?<value>.+?))?\\s*$');

  Parser.prototype.PATTERN_DECIMAL = new Pattern('\\d+');

  Parser.prototype.PATTERN_INDENT_SPACES = new Pattern('^ +');

  Parser.prototype.PATTERN_TRAILING_LINES = new Pattern('(\n*)$');

  Parser.prototype.PATTERN_YAML_HEADER = new Pattern('^\\%YAML[: ][\\d\\.]+.*\n');

  Parser.prototype.PATTERN_LEADING_COMMENTS = new Pattern('^(\\#.*?\n)+');

  Parser.prototype.PATTERN_DOCUMENT_MARKER_START = new Pattern('^\\-\\-\\-.*?\n');

  Parser.prototype.PATTERN_DOCUMENT_MARKER_END = new Pattern('^\\.\\.\\.\\s*$');

  Parser.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION = {};

  Parser.prototype.CONTEXT_NONE = 0;

  Parser.prototype.CONTEXT_SEQUENCE = 1;

  Parser.prototype.CONTEXT_MAPPING = 2;

  function Parser(offset) {
    this.offset = offset != null ? offset : 0;
    this.lines = [];
    this.currentLineNb = -1;
    this.currentLine = '';
    this.refs = {};
  }

  Parser.prototype.parse = function(value, exceptionOnInvalidType, objectDecoder) {
    var alias, allowOverwrite, block, c, context, data, e, error, error1, error2, first, i, indent, isRef, j, k, key, l, lastKey, len, len1, len2, len3, lineCount, m, matches, mergeNode, n, name, parsed, parsedItem, parser, ref, ref1, ref2, refName, refValue, val, values;
    if (exceptionOnInvalidType == null) {
      exceptionOnInvalidType = false;
    }
    if (objectDecoder == null) {
      objectDecoder = null;
    }
    this.currentLineNb = -1;
    this.currentLine = '';
    this.lines = this.cleanup(value).split("\n");
    data = null;
    context = this.CONTEXT_NONE;
    allowOverwrite = false;
    while (this.moveToNextLine()) {
      if (this.isCurrentLineEmpty()) {
        continue;
      }
      if ("\t" === this.currentLine[0]) {
        throw new ParseException('A YAML file cannot contain tabs as indentation.', this.getRealCurrentLineNb() + 1, this.currentLine);
      }
      isRef = mergeNode = false;
      if (values = this.PATTERN_SEQUENCE_ITEM.exec(this.currentLine)) {
        if (this.CONTEXT_MAPPING === context) {
          throw new ParseException('You cannot define a sequence item when in a mapping');
        }
        context = this.CONTEXT_SEQUENCE;
        if (data == null) {
          data = [];
        }
        if ((values.value != null) && (matches = this.PATTERN_ANCHOR_VALUE.exec(values.value))) {
          isRef = matches.ref;
          values.value = matches.value;
        }
        if (!(values.value != null) || '' === Utils.trim(values.value, ' ') || Utils.ltrim(values.value, ' ').indexOf('#') === 0) {
          if (this.currentLineNb < this.lines.length - 1 && !this.isNextLineUnIndentedCollection()) {
            c = this.getRealCurrentLineNb() + 1;
            parser = new Parser(c);
            parser.refs = this.refs;
            data.push(parser.parse(this.getNextEmbedBlock(null, true), exceptionOnInvalidType, objectDecoder));
          } else {
            data.push(null);
          }
        } else {
          if (((ref = values.leadspaces) != null ? ref.length : void 0) && (matches = this.PATTERN_COMPACT_NOTATION.exec(values.value))) {
            c = this.getRealCurrentLineNb();
            parser = new Parser(c);
            parser.refs = this.refs;
            block = values.value;
            indent = this.getCurrentLineIndentation();
            if (this.isNextLineIndented(false)) {
              block += "\n" + this.getNextEmbedBlock(indent + values.leadspaces.length + 1, true);
            }
            data.push(parser.parse(block, exceptionOnInvalidType, objectDecoder));
          } else {
            data.push(this.parseValue(values.value, exceptionOnInvalidType, objectDecoder));
          }
        }
      } else if ((values = this.PATTERN_MAPPING_ITEM.exec(this.currentLine)) && values.key.indexOf(' #') === -1) {
        if (this.CONTEXT_SEQUENCE === context) {
          throw new ParseException('You cannot define a mapping item when in a sequence');
        }
        context = this.CONTEXT_MAPPING;
        if (data == null) {
          data = {};
        }
        Inline.configure(exceptionOnInvalidType, objectDecoder);
        try {
          key = Inline.parseScalar(values.key);
        } catch (error) {
          e = error;
          e.parsedLine = this.getRealCurrentLineNb() + 1;
          e.snippet = this.currentLine;
          throw e;
        }
        if ('<<' === key) {
          mergeNode = true;
          allowOverwrite = true;
          if (((ref1 = values.value) != null ? ref1.indexOf('*') : void 0) === 0) {
            refName = values.value.slice(1);
            if (this.refs[refName] == null) {
              throw new ParseException('Reference "' + refName + '" does not exist.', this.getRealCurrentLineNb() + 1, this.currentLine);
            }
            refValue = this.refs[refName];
            if (typeof refValue !== 'object') {
              throw new ParseException('YAML merge keys used with a scalar value instead of an object.', this.getRealCurrentLineNb() + 1, this.currentLine);
            }
            if (refValue instanceof Array) {
              for (i = j = 0, len = refValue.length; j < len; i = ++j) {
                value = refValue[i];
                if (data[name = String(i)] == null) {
                  data[name] = value;
                }
              }
            } else {
              for (key in refValue) {
                value = refValue[key];
                if (data[key] == null) {
                  data[key] = value;
                }
              }
            }
          } else {
            if ((values.value != null) && values.value !== '') {
              value = values.value;
            } else {
              value = this.getNextEmbedBlock();
            }
            c = this.getRealCurrentLineNb() + 1;
            parser = new Parser(c);
            parser.refs = this.refs;
            parsed = parser.parse(value, exceptionOnInvalidType);
            if (typeof parsed !== 'object') {
              throw new ParseException('YAML merge keys used with a scalar value instead of an object.', this.getRealCurrentLineNb() + 1, this.currentLine);
            }
            if (parsed instanceof Array) {
              for (l = 0, len1 = parsed.length; l < len1; l++) {
                parsedItem = parsed[l];
                if (typeof parsedItem !== 'object') {
                  throw new ParseException('Merge items must be objects.', this.getRealCurrentLineNb() + 1, parsedItem);
                }
                if (parsedItem instanceof Array) {
                  for (i = m = 0, len2 = parsedItem.length; m < len2; i = ++m) {
                    value = parsedItem[i];
                    k = String(i);
                    if (!data.hasOwnProperty(k)) {
                      data[k] = value;
                    }
                  }
                } else {
                  for (key in parsedItem) {
                    value = parsedItem[key];
                    if (!data.hasOwnProperty(key)) {
                      data[key] = value;
                    }
                  }
                }
              }
            } else {
              for (key in parsed) {
                value = parsed[key];
                if (!data.hasOwnProperty(key)) {
                  data[key] = value;
                }
              }
            }
          }
        } else if ((values.value != null) && (matches = this.PATTERN_ANCHOR_VALUE.exec(values.value))) {
          isRef = matches.ref;
          values.value = matches.value;
        }
        if (mergeNode) {

        } else if (!(values.value != null) || '' === Utils.trim(values.value, ' ') || Utils.ltrim(values.value, ' ').indexOf('#') === 0) {
          if (!(this.isNextLineIndented()) && !(this.isNextLineUnIndentedCollection())) {
            if (allowOverwrite || data[key] === void 0) {
              data[key] = null;
            }
          } else {
            c = this.getRealCurrentLineNb() + 1;
            parser = new Parser(c);
            parser.refs = this.refs;
            val = parser.parse(this.getNextEmbedBlock(), exceptionOnInvalidType, objectDecoder);
            if (allowOverwrite || data[key] === void 0) {
              data[key] = val;
            }
          }
        } else {
          val = this.parseValue(values.value, exceptionOnInvalidType, objectDecoder);
          if (allowOverwrite || data[key] === void 0) {
            data[key] = val;
          }
        }
      } else {
        lineCount = this.lines.length;
        if (1 === lineCount || (2 === lineCount && Utils.isEmpty(this.lines[1]))) {
          try {
            value = Inline.parse(this.lines[0], exceptionOnInvalidType, objectDecoder);
          } catch (error1) {
            e = error1;
            e.parsedLine = this.getRealCurrentLineNb() + 1;
            e.snippet = this.currentLine;
            throw e;
          }
          if (typeof value === 'object') {
            if (value instanceof Array) {
              first = value[0];
            } else {
              for (key in value) {
                first = value[key];
                break;
              }
            }
            if (typeof first === 'string' && first.indexOf('*') === 0) {
              data = [];
              for (n = 0, len3 = value.length; n < len3; n++) {
                alias = value[n];
                data.push(this.refs[alias.slice(1)]);
              }
              value = data;
            }
          }
          return value;
        } else if ((ref2 = Utils.ltrim(value).charAt(0)) === '[' || ref2 === '{') {
          try {
            return Inline.parse(value, exceptionOnInvalidType, objectDecoder);
          } catch (error2) {
            e = error2;
            e.parsedLine = this.getRealCurrentLineNb() + 1;
            e.snippet = this.currentLine;
            throw e;
          }
        }
        throw new ParseException('Unable to parse.', this.getRealCurrentLineNb() + 1, this.currentLine);
      }
      if (isRef) {
        if (data instanceof Array) {
          this.refs[isRef] = data[data.length - 1];
        } else {
          lastKey = null;
          for (key in data) {
            lastKey = key;
          }
          this.refs[isRef] = data[lastKey];
        }
      }
    }
    if (Utils.isEmpty(data)) {
      return null;
    } else {
      return data;
    }
  };

  Parser.prototype.getRealCurrentLineNb = function() {
    return this.currentLineNb + this.offset;
  };

  Parser.prototype.getCurrentLineIndentation = function() {
    return this.currentLine.length - Utils.ltrim(this.currentLine, ' ').length;
  };

  Parser.prototype.getNextEmbedBlock = function(indentation, includeUnindentedCollection) {
    var data, indent, isItUnindentedCollection, newIndent, removeComments, removeCommentsPattern, unindentedEmbedBlock;
    if (indentation == null) {
      indentation = null;
    }
    if (includeUnindentedCollection == null) {
      includeUnindentedCollection = false;
    }
    this.moveToNextLine();
    if (indentation == null) {
      newIndent = this.getCurrentLineIndentation();
      unindentedEmbedBlock = this.isStringUnIndentedCollectionItem(this.currentLine);
      if (!(this.isCurrentLineEmpty()) && 0 === newIndent && !unindentedEmbedBlock) {
        throw new ParseException('Indentation problem.', this.getRealCurrentLineNb() + 1, this.currentLine);
      }
    } else {
      newIndent = indentation;
    }
    data = [this.currentLine.slice(newIndent)];
    if (!includeUnindentedCollection) {
      isItUnindentedCollection = this.isStringUnIndentedCollectionItem(this.currentLine);
    }
    removeCommentsPattern = this.PATTERN_FOLDED_SCALAR_END;
    removeComments = !removeCommentsPattern.test(this.currentLine);
    while (this.moveToNextLine()) {
      indent = this.getCurrentLineIndentation();
      if (indent === newIndent) {
        removeComments = !removeCommentsPattern.test(this.currentLine);
      }
      if (isItUnindentedCollection && !this.isStringUnIndentedCollectionItem(this.currentLine) && indent === newIndent) {
        this.moveToPreviousLine();
        break;
      }
      if (this.isCurrentLineBlank()) {
        data.push(this.currentLine.slice(newIndent));
        continue;
      }
      if (removeComments && this.isCurrentLineComment()) {
        if (indent === newIndent) {
          continue;
        }
      }
      if (indent >= newIndent) {
        data.push(this.currentLine.slice(newIndent));
      } else if (Utils.ltrim(this.currentLine).charAt(0) === '#') {

      } else if (0 === indent) {
        this.moveToPreviousLine();
        break;
      } else {
        throw new ParseException('Indentation problem.', this.getRealCurrentLineNb() + 1, this.currentLine);
      }
    }
    return data.join("\n");
  };

  Parser.prototype.moveToNextLine = function() {
    if (this.currentLineNb >= this.lines.length - 1) {
      return false;
    }
    this.currentLine = this.lines[++this.currentLineNb];
    return true;
  };

  Parser.prototype.moveToPreviousLine = function() {
    this.currentLine = this.lines[--this.currentLineNb];
  };

  Parser.prototype.parseValue = function(value, exceptionOnInvalidType, objectDecoder) {
    var e, error, error1, foldedIndent, matches, modifiers, pos, ref, ref1, val;
    if (0 === value.indexOf('*')) {
      pos = value.indexOf('#');
      if (pos !== -1) {
        value = value.substr(1, pos - 2);
      } else {
        value = value.slice(1);
      }
      if (this.refs[value] === void 0) {
        throw new ParseException('Reference "' + value + '" does not exist.', this.currentLine);
      }
      return this.refs[value];
    }
    if (matches = this.PATTERN_FOLDED_SCALAR_ALL.exec(value)) {
      modifiers = (ref = matches.modifiers) != null ? ref : '';
      foldedIndent = Math.abs(parseInt(modifiers));
      if (isNaN(foldedIndent)) {
        foldedIndent = 0;
      }
      val = this.parseFoldedScalar(matches.separator, this.PATTERN_DECIMAL.replace(modifiers, ''), foldedIndent);
      if (matches.type != null) {
        Inline.configure(exceptionOnInvalidType, objectDecoder);
        return Inline.parseScalar(matches.type + ' ' + val);
      } else {
        return val;
      }
    }
    try {
      return Inline.parse(value, exceptionOnInvalidType, objectDecoder);
    } catch (error) {
      e = error;
      if (((ref1 = value.charAt(0)) === '[' || ref1 === '{') && e instanceof ParseException && this.isNextLineIndented()) {
        value += "\n" + this.getNextEmbedBlock();
        try {
          return Inline.parse(value, exceptionOnInvalidType, objectDecoder);
        } catch (error1) {
          e = error1;
          e.parsedLine = this.getRealCurrentLineNb() + 1;
          e.snippet = this.currentLine;
          throw e;
        }
      } else {
        e.parsedLine = this.getRealCurrentLineNb() + 1;
        e.snippet = this.currentLine;
        throw e;
      }
    }
  };

  Parser.prototype.parseFoldedScalar = function(separator, indicator, indentation) {
    var isCurrentLineBlank, j, len, line, matches, newText, notEOF, pattern, ref, text;
    if (indicator == null) {
      indicator = '';
    }
    if (indentation == null) {
      indentation = 0;
    }
    notEOF = this.moveToNextLine();
    if (!notEOF) {
      return '';
    }
    isCurrentLineBlank = this.isCurrentLineBlank();
    text = '';
    while (notEOF && isCurrentLineBlank) {
      if (notEOF = this.moveToNextLine()) {
        text += "\n";
        isCurrentLineBlank = this.isCurrentLineBlank();
      }
    }
    if (0 === indentation) {
      if (matches = this.PATTERN_INDENT_SPACES.exec(this.currentLine)) {
        indentation = matches[0].length;
      }
    }
    if (indentation > 0) {
      pattern = this.PATTERN_FOLDED_SCALAR_BY_INDENTATION[indentation];
      if (pattern == null) {
        pattern = new Pattern('^ {' + indentation + '}(.*)$');
        Parser.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION[indentation] = pattern;
      }
      while (notEOF && (isCurrentLineBlank || (matches = pattern.exec(this.currentLine)))) {
        if (isCurrentLineBlank) {
          text += this.currentLine.slice(indentation);
        } else {
          text += matches[1];
        }
        if (notEOF = this.moveToNextLine()) {
          text += "\n";
          isCurrentLineBlank = this.isCurrentLineBlank();
        }
      }
    } else if (notEOF) {
      text += "\n";
    }
    if (notEOF) {
      this.moveToPreviousLine();
    }
    if ('>' === separator) {
      newText = '';
      ref = text.split("\n");
      for (j = 0, len = ref.length; j < len; j++) {
        line = ref[j];
        if (line.length === 0 || line.charAt(0) === ' ') {
          newText = Utils.rtrim(newText, ' ') + line + "\n";
        } else {
          newText += line + ' ';
        }
      }
      text = newText;
    }
    if ('+' !== indicator) {
      text = Utils.rtrim(text);
    }
    if ('' === indicator) {
      text = this.PATTERN_TRAILING_LINES.replace(text, "\n");
    } else if ('-' === indicator) {
      text = this.PATTERN_TRAILING_LINES.replace(text, '');
    }
    return text;
  };

  Parser.prototype.isNextLineIndented = function(ignoreComments) {
    var EOF, currentIndentation, ret;
    if (ignoreComments == null) {
      ignoreComments = true;
    }
    currentIndentation = this.getCurrentLineIndentation();
    EOF = !this.moveToNextLine();
    if (ignoreComments) {
      while (!EOF && this.isCurrentLineEmpty()) {
        EOF = !this.moveToNextLine();
      }
    } else {
      while (!EOF && this.isCurrentLineBlank()) {
        EOF = !this.moveToNextLine();
      }
    }
    if (EOF) {
      return false;
    }
    ret = false;
    if (this.getCurrentLineIndentation() > currentIndentation) {
      ret = true;
    }
    this.moveToPreviousLine();
    return ret;
  };

  Parser.prototype.isCurrentLineEmpty = function() {
    var trimmedLine;
    trimmedLine = Utils.trim(this.currentLine, ' ');
    return trimmedLine.length === 0 || trimmedLine.charAt(0) === '#';
  };

  Parser.prototype.isCurrentLineBlank = function() {
    return '' === Utils.trim(this.currentLine, ' ');
  };

  Parser.prototype.isCurrentLineComment = function() {
    var ltrimmedLine;
    ltrimmedLine = Utils.ltrim(this.currentLine, ' ');
    return ltrimmedLine.charAt(0) === '#';
  };

  Parser.prototype.cleanup = function(value) {
    var count, i, indent, j, l, len, len1, line, lines, ref, ref1, ref2, smallestIndent, trimmedValue;
    if (value.indexOf("\r") !== -1) {
      value = value.split("\r\n").join("\n").split("\r").join("\n");
    }
    count = 0;
    ref = this.PATTERN_YAML_HEADER.replaceAll(value, ''), value = ref[0], count = ref[1];
    this.offset += count;
    ref1 = this.PATTERN_LEADING_COMMENTS.replaceAll(value, '', 1), trimmedValue = ref1[0], count = ref1[1];
    if (count === 1) {
      this.offset += Utils.subStrCount(value, "\n") - Utils.subStrCount(trimmedValue, "\n");
      value = trimmedValue;
    }
    ref2 = this.PATTERN_DOCUMENT_MARKER_START.replaceAll(value, '', 1), trimmedValue = ref2[0], count = ref2[1];
    if (count === 1) {
      this.offset += Utils.subStrCount(value, "\n") - Utils.subStrCount(trimmedValue, "\n");
      value = trimmedValue;
      value = this.PATTERN_DOCUMENT_MARKER_END.replace(value, '');
    }
    lines = value.split("\n");
    smallestIndent = -1;
    for (j = 0, len = lines.length; j < len; j++) {
      line = lines[j];
      if (Utils.trim(line, ' ').length === 0) {
        continue;
      }
      indent = line.length - Utils.ltrim(line).length;
      if (smallestIndent === -1 || indent < smallestIndent) {
        smallestIndent = indent;
      }
    }
    if (smallestIndent > 0) {
      for (i = l = 0, len1 = lines.length; l < len1; i = ++l) {
        line = lines[i];
        lines[i] = line.slice(smallestIndent);
      }
      value = lines.join("\n");
    }
    return value;
  };

  Parser.prototype.isNextLineUnIndentedCollection = function(currentIndentation) {
    var notEOF, ret;
    if (currentIndentation == null) {
      currentIndentation = null;
    }
    if (currentIndentation == null) {
      currentIndentation = this.getCurrentLineIndentation();
    }
    notEOF = this.moveToNextLine();
    while (notEOF && this.isCurrentLineEmpty()) {
      notEOF = this.moveToNextLine();
    }
    if (false === notEOF) {
      return false;
    }
    ret = false;
    if (this.getCurrentLineIndentation() === currentIndentation && this.isStringUnIndentedCollectionItem(this.currentLine)) {
      ret = true;
    }
    this.moveToPreviousLine();
    return ret;
  };

  Parser.prototype.isStringUnIndentedCollectionItem = function() {
    return this.currentLine === '-' || this.currentLine.slice(0, 2) === '- ';
  };

  return Parser;

})();

module.exports = Parser;

},{"./Exception/ParseException":5,"./Inline":6,"./Pattern":8,"./Utils":10}],8:[function(_dereq_,module,exports){
// Generated by CoffeeScript 1.10.0
var Pattern;

Pattern = (function() {
  Pattern.prototype.regex = null;

  Pattern.prototype.rawRegex = null;

  Pattern.prototype.cleanedRegex = null;

  Pattern.prototype.mapping = null;

  function Pattern(rawRegex, modifiers) {
    var _char, capturingBracketNumber, cleanedRegex, i, len, mapping, name, part, subChar;
    if (modifiers == null) {
      modifiers = '';
    }
    cleanedRegex = '';
    len = rawRegex.length;
    mapping = null;
    capturingBracketNumber = 0;
    i = 0;
    while (i < len) {
      _char = rawRegex.charAt(i);
      if (_char === '\\') {
        cleanedRegex += rawRegex.slice(i, +(i + 1) + 1 || 9e9);
        i++;
      } else if (_char === '(') {
        if (i < len - 2) {
          part = rawRegex.slice(i, +(i + 2) + 1 || 9e9);
          if (part === '(?:') {
            i += 2;
            cleanedRegex += part;
          } else if (part === '(?<') {
            capturingBracketNumber++;
            i += 2;
            name = '';
            while (i + 1 < len) {
              subChar = rawRegex.charAt(i + 1);
              if (subChar === '>') {
                cleanedRegex += '(';
                i++;
                if (name.length > 0) {
                  if (mapping == null) {
                    mapping = {};
                  }
                  mapping[name] = capturingBracketNumber;
                }
                break;
              } else {
                name += subChar;
              }
              i++;
            }
          } else {
            cleanedRegex += _char;
            capturingBracketNumber++;
          }
        } else {
          cleanedRegex += _char;
        }
      } else {
        cleanedRegex += _char;
      }
      i++;
    }
    this.rawRegex = rawRegex;
    this.cleanedRegex = cleanedRegex;
    this.regex = new RegExp(this.cleanedRegex, 'g' + modifiers.replace('g', ''));
    this.mapping = mapping;
  }

  Pattern.prototype.exec = function(str) {
    var index, matches, name, ref;
    this.regex.lastIndex = 0;
    matches = this.regex.exec(str);
    if (matches == null) {
      return null;
    }
    if (this.mapping != null) {
      ref = this.mapping;
      for (name in ref) {
        index = ref[name];
        matches[name] = matches[index];
      }
    }
    return matches;
  };

  Pattern.prototype.test = function(str) {
    this.regex.lastIndex = 0;
    return this.regex.test(str);
  };

  Pattern.prototype.replace = function(str, replacement) {
    this.regex.lastIndex = 0;
    return str.replace(this.regex, replacement);
  };

  Pattern.prototype.replaceAll = function(str, replacement, limit) {
    var count;
    if (limit == null) {
      limit = 0;
    }
    this.regex.lastIndex = 0;
    count = 0;
    while (this.regex.test(str) && (limit === 0 || count < limit)) {
      this.regex.lastIndex = 0;
      str = str.replace(this.regex, '');
      count++;
    }
    return [str, count];
  };

  return Pattern;

})();

module.exports = Pattern;

},{}],9:[function(_dereq_,module,exports){
// Generated by CoffeeScript 1.10.0
var Pattern, Unescaper, Utils;

Utils = _dereq_('./Utils');

Pattern = _dereq_('./Pattern');

Unescaper = (function() {
  function Unescaper() {}

  Unescaper.PATTERN_ESCAPED_CHARACTER = new Pattern('\\\\([0abt\tnvfre "\\/\\\\N_LP]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})');

  Unescaper.unescapeSingleQuotedString = function(value) {
    return value.replace(/\'\'/g, '\'');
  };

  Unescaper.unescapeDoubleQuotedString = function(value) {
    if (this._unescapeCallback == null) {
      this._unescapeCallback = (function(_this) {
        return function(str) {
          return _this.unescapeCharacter(str);
        };
      })(this);
    }
    return this.PATTERN_ESCAPED_CHARACTER.replace(value, this._unescapeCallback);
  };

  Unescaper.unescapeCharacter = function(value) {
    var ch;
    ch = String.fromCharCode;
    switch (value.charAt(1)) {
      case '0':
        return ch(0);
      case 'a':
        return ch(7);
      case 'b':
        return ch(8);
      case 't':
        return "\t";
      case "\t":
        return "\t";
      case 'n':
        return "\n";
      case 'v':
        return ch(11);
      case 'f':
        return ch(12);
      case 'r':
        return ch(13);
      case 'e':
        return ch(27);
      case ' ':
        return ' ';
      case '"':
        return '"';
      case '/':
        return '/';
      case '\\':
        return '\\';
      case 'N':
        return ch(0x0085);
      case '_':
        return ch(0x00A0);
      case 'L':
        return ch(0x2028);
      case 'P':
        return ch(0x2029);
      case 'x':
        return Utils.utf8chr(Utils.hexDec(value.substr(2, 2)));
      case 'u':
        return Utils.utf8chr(Utils.hexDec(value.substr(2, 4)));
      case 'U':
        return Utils.utf8chr(Utils.hexDec(value.substr(2, 8)));
      default:
        return '';
    }
  };

  return Unescaper;

})();

module.exports = Unescaper;

},{"./Pattern":8,"./Utils":10}],10:[function(_dereq_,module,exports){
// Generated by CoffeeScript 1.10.0
var Pattern, Utils;

Pattern = _dereq_('./Pattern');

Utils = (function() {
  function Utils() {}

  Utils.REGEX_LEFT_TRIM_BY_CHAR = {};

  Utils.REGEX_RIGHT_TRIM_BY_CHAR = {};

  Utils.REGEX_SPACES = /\s+/g;

  Utils.REGEX_DIGITS = /^\d+$/;

  Utils.REGEX_OCTAL = /[^0-7]/gi;

  Utils.REGEX_HEXADECIMAL = /[^a-f0-9]/gi;

  Utils.PATTERN_DATE = new Pattern('^' + '(?<year>[0-9][0-9][0-9][0-9])' + '-(?<month>[0-9][0-9]?)' + '-(?<day>[0-9][0-9]?)' + '(?:(?:[Tt]|[ \t]+)' + '(?<hour>[0-9][0-9]?)' + ':(?<minute>[0-9][0-9])' + ':(?<second>[0-9][0-9])' + '(?:\.(?<fraction>[0-9]*))?' + '(?:[ \t]*(?<tz>Z|(?<tz_sign>[-+])(?<tz_hour>[0-9][0-9]?)' + '(?::(?<tz_minute>[0-9][0-9]))?))?)?' + '$', 'i');

  Utils.LOCAL_TIMEZONE_OFFSET = new Date().getTimezoneOffset() * 60 * 1000;

  Utils.trim = function(str, _char) {
    var regexLeft, regexRight;
    if (_char == null) {
      _char = '\\s';
    }
    return str.trim();
    regexLeft = this.REGEX_LEFT_TRIM_BY_CHAR[_char];
    if (regexLeft == null) {
      this.REGEX_LEFT_TRIM_BY_CHAR[_char] = regexLeft = new RegExp('^' + _char + '' + _char + '*');
    }
    regexLeft.lastIndex = 0;
    regexRight = this.REGEX_RIGHT_TRIM_BY_CHAR[_char];
    if (regexRight == null) {
      this.REGEX_RIGHT_TRIM_BY_CHAR[_char] = regexRight = new RegExp(_char + '' + _char + '*$');
    }
    regexRight.lastIndex = 0;
    return str.replace(regexLeft, '').replace(regexRight, '');
  };

  Utils.ltrim = function(str, _char) {
    var regexLeft;
    if (_char == null) {
      _char = '\\s';
    }
    regexLeft = this.REGEX_LEFT_TRIM_BY_CHAR[_char];
    if (regexLeft == null) {
      this.REGEX_LEFT_TRIM_BY_CHAR[_char] = regexLeft = new RegExp('^' + _char + '' + _char + '*');
    }
    regexLeft.lastIndex = 0;
    return str.replace(regexLeft, '');
  };

  Utils.rtrim = function(str, _char) {
    var regexRight;
    if (_char == null) {
      _char = '\\s';
    }
    regexRight = this.REGEX_RIGHT_TRIM_BY_CHAR[_char];
    if (regexRight == null) {
      this.REGEX_RIGHT_TRIM_BY_CHAR[_char] = regexRight = new RegExp(_char + '' + _char + '*$');
    }
    regexRight.lastIndex = 0;
    return str.replace(regexRight, '');
  };

  Utils.isEmpty = function(value) {
    return !value || value === '' || value === '0' || (value instanceof Array && value.length === 0);
  };

  Utils.subStrCount = function(string, subString, start, length) {
    var c, i, j, len, ref, sublen;
    c = 0;
    string = '' + string;
    subString = '' + subString;
    if (start != null) {
      string = string.slice(start);
    }
    if (length != null) {
      string = string.slice(0, length);
    }
    len = string.length;
    sublen = subString.length;
    for (i = j = 0, ref = len; 0 <= ref ? j < ref : j > ref; i = 0 <= ref ? ++j : --j) {
      if (subString === string.slice(i, sublen)) {
        c++;
        i += sublen - 1;
      }
    }
    return c;
  };

  Utils.isDigits = function(input) {
    this.REGEX_DIGITS.lastIndex = 0;
    return this.REGEX_DIGITS.test(input);
  };

  Utils.octDec = function(input) {
    this.REGEX_OCTAL.lastIndex = 0;
    return parseInt((input + '').replace(this.REGEX_OCTAL, ''), 8);
  };

  Utils.hexDec = function(input) {
    this.REGEX_HEXADECIMAL.lastIndex = 0;
    input = this.trim(input);
    if ((input + '').slice(0, 2) === '0x') {
      input = (input + '').slice(2);
    }
    return parseInt((input + '').replace(this.REGEX_HEXADECIMAL, ''), 16);
  };

  Utils.utf8chr = function(c) {
    var ch;
    ch = String.fromCharCode;
    if (0x80 > (c %= 0x200000)) {
      return ch(c);
    }
    if (0x800 > c) {
      return ch(0xC0 | c >> 6) + ch(0x80 | c & 0x3F);
    }
    if (0x10000 > c) {
      return ch(0xE0 | c >> 12) + ch(0x80 | c >> 6 & 0x3F) + ch(0x80 | c & 0x3F);
    }
    return ch(0xF0 | c >> 18) + ch(0x80 | c >> 12 & 0x3F) + ch(0x80 | c >> 6 & 0x3F) + ch(0x80 | c & 0x3F);
  };

  Utils.parseBoolean = function(input, strict) {
    var lowerInput;
    if (strict == null) {
      strict = true;
    }
    if (typeof input === 'string') {
      lowerInput = input.toLowerCase();
      if (!strict) {
        if (lowerInput === 'no') {
          return false;
        }
      }
      if (lowerInput === '0') {
        return false;
      }
      if (lowerInput === 'false') {
        return false;
      }
      if (lowerInput === '') {
        return false;
      }
      return true;
    }
    return !!input;
  };

  Utils.isNumeric = function(input) {
    this.REGEX_SPACES.lastIndex = 0;
    return typeof input === 'number' || typeof input === 'string' && !isNaN(input) && input.replace(this.REGEX_SPACES, '') !== '';
  };

  Utils.stringToDate = function(str) {
    var date, day, fraction, hour, info, minute, month, second, tz_hour, tz_minute, tz_offset, year;
    if (!(str != null ? str.length : void 0)) {
      return null;
    }
    info = this.PATTERN_DATE.exec(str);
    if (!info) {
      return null;
    }
    year = parseInt(info.year, 10);
    month = parseInt(info.month, 10) - 1;
    day = parseInt(info.day, 10);
    if (info.hour == null) {
      date = new Date(Date.UTC(year, month, day));
      return date;
    }
    hour = parseInt(info.hour, 10);
    minute = parseInt(info.minute, 10);
    second = parseInt(info.second, 10);
    if (info.fraction != null) {
      fraction = info.fraction.slice(0, 3);
      while (fraction.length < 3) {
        fraction += '0';
      }
      fraction = parseInt(fraction, 10);
    } else {
      fraction = 0;
    }
    if (info.tz != null) {
      tz_hour = parseInt(info.tz_hour, 10);
      if (info.tz_minute != null) {
        tz_minute = parseInt(info.tz_minute, 10);
      } else {
        tz_minute = 0;
      }
      tz_offset = (tz_hour * 60 + tz_minute) * 60000;
      if ('-' === info.tz_sign) {
        tz_offset *= -1;
      }
    }
    date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));
    if (tz_offset) {
      date.setTime(date.getTime() + tz_offset);
    }
    return date;
  };

  Utils.strRepeat = function(str, number) {
    var i, res;
    res = '';
    i = 0;
    while (i < number) {
      res += str;
      i++;
    }
    return res;
  };

  Utils.getStringFromFile = function(path, callback) {
    var data, fs, j, len1, name, ref, req, xhr;
    if (callback == null) {
      callback = null;
    }
    xhr = null;
    if (typeof window !== "undefined" && window !== null) {
      if (window.XMLHttpRequest) {
        xhr = new XMLHttpRequest();
      } else if (window.ActiveXObject) {
        ref = ["Msxml2.XMLHTTP.6.0", "Msxml2.XMLHTTP.3.0", "Msxml2.XMLHTTP", "Microsoft.XMLHTTP"];
        for (j = 0, len1 = ref.length; j < len1; j++) {
          name = ref[j];
          try {
            xhr = new ActiveXObject(name);
          } catch (undefined) {}
        }
      }
    }
    if (xhr != null) {
      if (callback != null) {
        xhr.onreadystatechange = function() {
          if (xhr.readyState === 4) {
            if (xhr.status === 200 || xhr.status === 0) {
              return callback(xhr.responseText);
            } else {
              return callback(null);
            }
          }
        };
        xhr.open('GET', path, true);
        return xhr.send(null);
      } else {
        xhr.open('GET', path, false);
        xhr.send(null);
        if (xhr.status === 200 || xhr.status === 0) {
          return xhr.responseText;
        }
        return null;
      }
    } else {
      req = _dereq_;
      fs = req('fs');
      if (callback != null) {
        return fs.readFile(path, function(err, data) {
          if (err) {
            return callback(null);
          } else {
            return callback(String(data));
          }
        });
      } else {
        data = fs.readFileSync(path);
        if (data != null) {
          return String(data);
        }
        return null;
      }
    }
  };

  return Utils;

})();

module.exports = Utils;

},{"./Pattern":8}],11:[function(_dereq_,module,exports){
// Generated by CoffeeScript 1.10.0
var Dumper, Parser, Utils, Yaml;

Parser = _dereq_('./Parser');

Dumper = _dereq_('./Dumper');

Utils = _dereq_('./Utils');

Yaml = (function() {
  function Yaml() {}

  Yaml.parse = function(input, exceptionOnInvalidType, objectDecoder) {
    if (exceptionOnInvalidType == null) {
      exceptionOnInvalidType = false;
    }
    if (objectDecoder == null) {
      objectDecoder = null;
    }
    return new Parser().parse(input, exceptionOnInvalidType, objectDecoder);
  };

  Yaml.parseFile = function(path, callback, exceptionOnInvalidType, objectDecoder) {
    var input;
    if (callback == null) {
      callback = null;
    }
    if (exceptionOnInvalidType == null) {
      exceptionOnInvalidType = false;
    }
    if (objectDecoder == null) {
      objectDecoder = null;
    }
    if (callback != null) {
      return Utils.getStringFromFile(path, (function(_this) {
        return function(input) {
          var result;
          result = null;
          if (input != null) {
            result = _this.parse(input, exceptionOnInvalidType, objectDecoder);
          }
          callback(result);
        };
      })(this));
    } else {
      input = Utils.getStringFromFile(path);
      if (input != null) {
        return this.parse(input, exceptionOnInvalidType, objectDecoder);
      }
      return null;
    }
  };

  Yaml.dump = function(input, inline, indent, exceptionOnInvalidType, objectEncoder) {
    var yaml;
    if (inline == null) {
      inline = 2;
    }
    if (indent == null) {
      indent = 4;
    }
    if (exceptionOnInvalidType == null) {
      exceptionOnInvalidType = false;
    }
    if (objectEncoder == null) {
      objectEncoder = null;
    }
    yaml = new Dumper();
    yaml.indentation = indent;
    return yaml.dump(input, inline, 0, exceptionOnInvalidType, objectEncoder);
  };

  Yaml.register = function() {
    var require_handler;
    require_handler = function(module, filename) {
      return module.exports = YAML.parseFile(filename);
    };
    if ((typeof _dereq_ !== "undefined" && _dereq_ !== null ? _dereq_.extensions : void 0) != null) {
      _dereq_.extensions['.yml'] = require_handler;
      return _dereq_.extensions['.yaml'] = require_handler;
    }
  };

  Yaml.stringify = function(input, inline, indent, exceptionOnInvalidType, objectEncoder) {
    return this.dump(input, inline, indent, exceptionOnInvalidType, objectEncoder);
  };

  Yaml.load = function(path, callback, exceptionOnInvalidType, objectDecoder) {
    return this.parseFile(path, callback, exceptionOnInvalidType, objectDecoder);
  };

  return Yaml;

})();

if (typeof window !== "undefined" && window !== null) {
  window.YAML = Yaml;
}

if (typeof window === "undefined" || window === null) {
  this.YAML = Yaml;
}

module.exports = Yaml;

},{"./Dumper":2,"./Parser":7,"./Utils":10}],12:[function(_dereq_,module,exports){
'use strict';

var _tangram = _dereq_('./tangram');

var _tangram2 = _interopRequireDefault(_tangram);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

module.exports = _tangram2.default;

},{"./tangram":13}],13:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _tangramCartocss = _dereq_('tangram-cartocss');

var _tangramCartocss2 = _interopRequireDefault(_tangramCartocss);

var _yaml = _dereq_('./yaml');

var _yaml2 = _interopRequireDefault(_yaml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var SOURCES = {
  mapnik: {
    type: 'MVT',
    url: function url(_url) {
      return _url.replace('{layerIndexes}', 'mapnik').replace('.png', '.mvt');
    }
  }
};

var generateSources = function generateSources(url) {
  // TODO: make this dynamic if it is neccessary
  var source = SOURCES['mapnik'];

  return {
    type: source.type,
    url: source.url(url)
  };
};

var TC = function TC(map) {
  this.scene = Tangram.leafletLayer({
    scene: _yaml2.default.getBaseFile()
  }).addTo(map).scene;
};

TC.prototype = {
  addLayer: function addLayer(layer) {
    var ly = {
      data: {
        layer: 'layer' + layer.source.match(/\d/g)[0],
        source: 'CartoDB'
      },
      draw: _tangramCartocss2.default.carto2Draw(layer.meta.cartocss)
    };

    this.scene.config.layers[layer.layer_name] = ly;
    this.scene.updateConfig();
  },

  addDataSource: function addDataSource(url) {
    this.scene.setDataSource('CartoDB', generateSources(url));
  }
};

exports.default = TC;

},{"./yaml":14,"tangram-cartocss":1}],14:[function(_dereq_,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var yamljs = _dereq_('yamljs');

var SOURCES = {
  mapnik: {
    type: 'MVT',
    url: function url(_url) {
      return _url.replace('{layerIndexes}', 'mapnik').replace('.png', '.mvt');
    }
  }
};

var getBaseProperties = function getBaseProperties() {
  return {
    global: {
      language: 'en'
    },

    cameras: {
      prespective: {
        type: 'perspective',
        vanishing_point: ['0', '-250px'],
        active: false
      },

      isometric: {
        type: 'isometric',
        axis: [0, 1],
        active: true
      },
      flat: {
        type: 'flat',
        active: false
      }
    },

    fonts: {
      Montserrat: {
        url: 'https://fonts.gstatic.com/s/montserrat/v7/zhcz-_WihjSQC0oHJ9TCYL3hpw3pgy2gAi-Ip7WPMi0.woff'
      }
    },

    layers: {}
  };
};

var generateYAML = function generateYAML() {
  return yamljs.stringify(getBaseProperties(), 3);
};

var getBaseFile = function getBaseFile() {
  return URL.createObjectURL(new Blob([generateYAML()]));
};

var yaml;
exports.default = yaml = {
  getBaseFile: getBaseFile
};

},{"yamljs":11}]},{},[12])(12)
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvdGFuZ3JhbS1jYXJ0b2Nzcy9kaXN0L3RhbmdyYW0tY2FydG9jc3MubWluLmpzIiwibm9kZV9tb2R1bGVzL3lhbWxqcy9saWIvRHVtcGVyLmpzIiwibm9kZV9tb2R1bGVzL3lhbWxqcy9saWIvRXNjYXBlci5qcyIsIm5vZGVfbW9kdWxlcy95YW1sanMvbGliL0V4Y2VwdGlvbi9EdW1wRXhjZXB0aW9uLmpzIiwibm9kZV9tb2R1bGVzL3lhbWxqcy9saWIvRXhjZXB0aW9uL1BhcnNlRXhjZXB0aW9uLmpzIiwibm9kZV9tb2R1bGVzL3lhbWxqcy9saWIvSW5saW5lLmpzIiwibm9kZV9tb2R1bGVzL3lhbWxqcy9saWIvUGFyc2VyLmpzIiwibm9kZV9tb2R1bGVzL3lhbWxqcy9saWIvUGF0dGVybi5qcyIsIm5vZGVfbW9kdWxlcy95YW1sanMvbGliL1VuZXNjYXBlci5qcyIsIm5vZGVfbW9kdWxlcy95YW1sanMvbGliL1V0aWxzLmpzIiwibm9kZV9tb2R1bGVzL3lhbWxqcy9saWIvWWFtbC5qcyIsInNyYy9tb2R1bGUuanMiLCJzcmMvdGFuZ3JhbS5qcyIsInNyYy95YW1sLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztBQ0FBO0FBQ0E7QUFDQTs7OztBQ0ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25lQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMWxCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkhBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzVSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN4R0E7Ozs7OztBQUVBLE9BQU8sT0FBUDs7Ozs7Ozs7O0FDRkE7Ozs7QUFDQTs7Ozs7O0FBRUEsSUFBSSxVQUFVO0FBQ1YsVUFBUTtBQUNKLFVBQU0sS0FERjtBQUVKLFNBQUssYUFBVSxJQUFWLEVBQWdCO0FBQ2pCLGFBQU8sS0FBSSxPQUFKLENBQVksZ0JBQVosRUFBOEIsUUFBOUIsRUFBd0MsT0FBeEMsQ0FBZ0QsTUFBaEQsRUFBd0QsTUFBeEQsQ0FBUDtBQUNIO0FBSkc7QUFERSxDQUFkOztBQVNBLElBQUksa0JBQWtCLFNBQVMsZUFBVCxDQUF5QixHQUF6QixFQUE4QjtBQUNsRDtBQUNBLE1BQUksU0FBUyxRQUFRLFFBQVIsQ0FBYjs7QUFFQSxTQUFPO0FBQ0wsVUFBTSxPQUFPLElBRFI7QUFFTCxTQUFLLE9BQU8sR0FBUCxDQUFZLEdBQVo7QUFGQSxHQUFQO0FBSUQsQ0FSRDs7QUFVQSxJQUFJLEtBQUssU0FBTCxFQUFLLENBQVUsR0FBVixFQUFlO0FBQ3RCLE9BQUssS0FBTCxHQUFhLFFBQVEsWUFBUixDQUFxQjtBQUNoQyxXQUFPLGVBQUssV0FBTDtBQUR5QixHQUFyQixFQUVWLEtBRlUsQ0FFSixHQUZJLEVBRUMsS0FGZDtBQUdELENBSkQ7O0FBTUEsR0FBRyxTQUFILEdBQWU7QUFDYixZQUFVLGtCQUFVLEtBQVYsRUFBaUI7QUFDekIsUUFBSSxLQUFLO0FBQ1AsWUFBTTtBQUNKLGVBQU8sVUFBVSxNQUFNLE1BQU4sQ0FBYSxLQUFiLENBQW1CLEtBQW5CLEVBQTBCLENBQTFCLENBRGI7QUFFSixnQkFBUTtBQUZKLE9BREM7QUFLUCxZQUFNLDBCQUFLLFVBQUwsQ0FBZ0IsTUFBTSxJQUFOLENBQVcsUUFBM0I7QUFMQyxLQUFUOztBQVFBLFNBQUssS0FBTCxDQUFXLE1BQVgsQ0FBa0IsTUFBbEIsQ0FBeUIsTUFBTSxVQUEvQixJQUE2QyxFQUE3QztBQUNBLFNBQUssS0FBTCxDQUFXLFlBQVg7QUFDRCxHQVpZOztBQWNiLGlCQUFlLHVCQUFVLEdBQVYsRUFBZTtBQUM1QixTQUFLLEtBQUwsQ0FBVyxhQUFYLENBQXlCLFNBQXpCLEVBQW9DLGdCQUFnQixHQUFoQixDQUFwQztBQUNEO0FBaEJZLENBQWY7O2tCQW1CZSxFOzs7Ozs7OztBQy9DZixJQUFJLFNBQVMsUUFBUSxRQUFSLENBQWI7O0FBRUEsSUFBTSxVQUFVO0FBQ1osVUFBUTtBQUNKLFVBQU0sS0FERjtBQUVKLFNBQUssYUFBVSxJQUFWLEVBQWdCO0FBQ2pCLGFBQU8sS0FBSSxPQUFKLENBQVksZ0JBQVosRUFBOEIsUUFBOUIsRUFBd0MsT0FBeEMsQ0FBZ0QsTUFBaEQsRUFBd0QsTUFBeEQsQ0FBUDtBQUNIO0FBSkc7QUFESSxDQUFoQjs7QUFTQSxJQUFNLG9CQUFvQixTQUFTLGlCQUFULEdBQTZCO0FBQ3JELFNBQU87QUFDTCxZQUFRO0FBQ04sZ0JBQVU7QUFESixLQURIOztBQUtMLGFBQVM7QUFDUCxtQkFBYTtBQUNYLGNBQU0sYUFESztBQUVYLHlCQUFpQixDQUFFLEdBQUYsRUFBTyxRQUFQLENBRk47QUFHWCxnQkFBUTtBQUhHLE9BRE47O0FBT1AsaUJBQVc7QUFDVCxjQUFNLFdBREc7QUFFVCxjQUFNLENBQUUsQ0FBRixFQUFLLENBQUwsQ0FGRztBQUdULGdCQUFRO0FBSEMsT0FQSjtBQVlQLFlBQU07QUFDSixjQUFNLE1BREY7QUFFSixnQkFBUTtBQUZKO0FBWkMsS0FMSjs7QUF1QkwsV0FBTztBQUNMLGtCQUFZO0FBQ1YsYUFBSztBQURLO0FBRFAsS0F2QkY7O0FBNkJMLFlBQVE7QUE3QkgsR0FBUDtBQStCRCxDQWhDRDs7QUFrQ0EsSUFBTSxlQUFlLFNBQWYsWUFBZSxHQUFZO0FBQy9CLFNBQU8sT0FBTyxTQUFQLENBQWtCLG1CQUFsQixFQUF1QyxDQUF2QyxDQUFQO0FBQ0QsQ0FGRDs7QUFJQSxJQUFNLGNBQWMsU0FBZCxXQUFjLEdBQVk7QUFDOUIsU0FBTyxJQUFJLGVBQUosQ0FBcUIsSUFBSSxJQUFKLENBQVUsQ0FBRSxjQUFGLENBQVYsQ0FBckIsQ0FBUDtBQUNELENBRkQ7O0FBSUEsSUFBSSxJQUFKO2tCQUNlLE9BQU87QUFDcEI7QUFEb0IsQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIhZnVuY3Rpb24oZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuQ0NTUz1lKCl9fShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIGkoYSxzKXtpZighblthXSl7aWYoIXRbYV0pe3ZhciBsPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIXMmJmwpcmV0dXJuIGwoYSwhMCk7aWYobylyZXR1cm4gbyhhLCEwKTt2YXIgdT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2ErXCInXCIpO3Rocm93IHUuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIix1fXZhciBjPW5bYV09e2V4cG9ydHM6e319O3RbYV1bMF0uY2FsbChjLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFthXVsxXVtlXTtyZXR1cm4gaShuP246ZSl9LGMsYy5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW2FdLmV4cG9ydHN9Zm9yKHZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsYT0wO2E8ci5sZW5ndGg7YSsrKWkoclthXSk7cmV0dXJuIGl9KHsxOltmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oZSx0KXtyZXR1cm4gZC5pc1VuZGVmaW5lZCh0KT9cIlwiK3Q6ZC5pc051bWJlcih0KSYmIWlzRmluaXRlKHQpP3QudG9TdHJpbmcoKTpkLmlzRnVuY3Rpb24odCl8fGQuaXNSZWdFeHAodCk/dC50b1N0cmluZygpOnR9ZnVuY3Rpb24gcihlLHQpe3JldHVybiBkLmlzU3RyaW5nKGUpP2UubGVuZ3RoPHQ/ZTplLnNsaWNlKDAsdCk6ZX1mdW5jdGlvbiBpKGUpe3JldHVybiByKEpTT04uc3RyaW5naWZ5KGUuYWN0dWFsLG4pLDEyOCkrXCIgXCIrZS5vcGVyYXRvcitcIiBcIityKEpTT04uc3RyaW5naWZ5KGUuZXhwZWN0ZWQsbiksMTI4KX1mdW5jdGlvbiBvKGUsdCxuLHIsaSl7dGhyb3cgbmV3IG0uQXNzZXJ0aW9uRXJyb3Ioe21lc3NhZ2U6bixhY3R1YWw6ZSxleHBlY3RlZDp0LG9wZXJhdG9yOnIsc3RhY2tTdGFydEZ1bmN0aW9uOml9KX1mdW5jdGlvbiBhKGUsdCl7ZXx8byhlLCEwLHQsXCI9PVwiLG0ub2spfWZ1bmN0aW9uIHMoZSx0KXtpZihlPT09dClyZXR1cm4hMDtpZihkLmlzQnVmZmVyKGUpJiZkLmlzQnVmZmVyKHQpKXtpZihlLmxlbmd0aCE9dC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBuPTA7bjxlLmxlbmd0aDtuKyspaWYoZVtuXSE9PXRbbl0pcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuIGQuaXNEYXRlKGUpJiZkLmlzRGF0ZSh0KT9lLmdldFRpbWUoKT09PXQuZ2V0VGltZSgpOmQuaXNSZWdFeHAoZSkmJmQuaXNSZWdFeHAodCk/ZS5zb3VyY2U9PT10LnNvdXJjZSYmZS5nbG9iYWw9PT10Lmdsb2JhbCYmZS5tdWx0aWxpbmU9PT10Lm11bHRpbGluZSYmZS5sYXN0SW5kZXg9PT10Lmxhc3RJbmRleCYmZS5pZ25vcmVDYXNlPT09dC5pZ25vcmVDYXNlOmQuaXNPYmplY3QoZSl8fGQuaXNPYmplY3QodCk/dShlLHQpOmU9PXR9ZnVuY3Rpb24gbChlKXtyZXR1cm5cIltvYmplY3QgQXJndW1lbnRzXVwiPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gdShlLHQpe2lmKGQuaXNOdWxsT3JVbmRlZmluZWQoZSl8fGQuaXNOdWxsT3JVbmRlZmluZWQodCkpcmV0dXJuITE7aWYoZS5wcm90b3R5cGUhPT10LnByb3RvdHlwZSlyZXR1cm4hMTtpZihkLmlzUHJpbWl0aXZlKGUpfHxkLmlzUHJpbWl0aXZlKHQpKXJldHVybiBlPT09dDt2YXIgbj1sKGUpLHI9bCh0KTtpZihuJiYhcnx8IW4mJnIpcmV0dXJuITE7aWYobilyZXR1cm4gZT1oLmNhbGwoZSksdD1oLmNhbGwodCkscyhlLHQpO3ZhciBpLG8sYT1nKGUpLHU9Zyh0KTtpZihhLmxlbmd0aCE9dS5sZW5ndGgpcmV0dXJuITE7Zm9yKGEuc29ydCgpLHUuc29ydCgpLG89YS5sZW5ndGgtMTtvPj0wO28tLSlpZihhW29dIT11W29dKXJldHVybiExO2ZvcihvPWEubGVuZ3RoLTE7bz49MDtvLS0paWYoaT1hW29dLCFzKGVbaV0sdFtpXSkpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gYyhlLHQpe3JldHVybiBlJiZ0P1wiW29iamVjdCBSZWdFeHBdXCI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KT90LnRlc3QoZSk6ZSBpbnN0YW5jZW9mIHQ/ITA6dC5jYWxsKHt9LGUpPT09ITA/ITA6ITE6ITF9ZnVuY3Rpb24gZihlLHQsbixyKXt2YXIgaTtkLmlzU3RyaW5nKG4pJiYocj1uLG49bnVsbCk7dHJ5e3QoKX1jYXRjaChhKXtpPWF9aWYocj0obiYmbi5uYW1lP1wiIChcIituLm5hbWUrXCIpLlwiOlwiLlwiKSsocj9cIiBcIityOlwiLlwiKSxlJiYhaSYmbyhpLG4sXCJNaXNzaW5nIGV4cGVjdGVkIGV4Y2VwdGlvblwiK3IpLCFlJiZjKGksbikmJm8oaSxuLFwiR290IHVud2FudGVkIGV4Y2VwdGlvblwiK3IpLGUmJmkmJm4mJiFjKGksbil8fCFlJiZpKXRocm93IGl9dmFyIGQ9ZShcInV0aWwvXCIpLGg9QXJyYXkucHJvdG90eXBlLnNsaWNlLHA9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxtPXQuZXhwb3J0cz1hO20uQXNzZXJ0aW9uRXJyb3I9ZnVuY3Rpb24oZSl7dGhpcy5uYW1lPVwiQXNzZXJ0aW9uRXJyb3JcIix0aGlzLmFjdHVhbD1lLmFjdHVhbCx0aGlzLmV4cGVjdGVkPWUuZXhwZWN0ZWQsdGhpcy5vcGVyYXRvcj1lLm9wZXJhdG9yLGUubWVzc2FnZT8odGhpcy5tZXNzYWdlPWUubWVzc2FnZSx0aGlzLmdlbmVyYXRlZE1lc3NhZ2U9ITEpOih0aGlzLm1lc3NhZ2U9aSh0aGlzKSx0aGlzLmdlbmVyYXRlZE1lc3NhZ2U9ITApO3ZhciB0PWUuc3RhY2tTdGFydEZ1bmN0aW9ufHxvO2lmKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKUVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsdCk7ZWxzZXt2YXIgbj1uZXcgRXJyb3I7aWYobi5zdGFjayl7dmFyIHI9bi5zdGFjayxhPXQubmFtZSxzPXIuaW5kZXhPZihcIlxcblwiK2EpO2lmKHM+PTApe3ZhciBsPXIuaW5kZXhPZihcIlxcblwiLHMrMSk7cj1yLnN1YnN0cmluZyhsKzEpfXRoaXMuc3RhY2s9cn19fSxkLmluaGVyaXRzKG0uQXNzZXJ0aW9uRXJyb3IsRXJyb3IpLG0uZmFpbD1vLG0ub2s9YSxtLmVxdWFsPWZ1bmN0aW9uKGUsdCxuKXtlIT10JiZvKGUsdCxuLFwiPT1cIixtLmVxdWFsKX0sbS5ub3RFcXVhbD1mdW5jdGlvbihlLHQsbil7ZT09dCYmbyhlLHQsbixcIiE9XCIsbS5ub3RFcXVhbCl9LG0uZGVlcEVxdWFsPWZ1bmN0aW9uKGUsdCxuKXtzKGUsdCl8fG8oZSx0LG4sXCJkZWVwRXF1YWxcIixtLmRlZXBFcXVhbCl9LG0ubm90RGVlcEVxdWFsPWZ1bmN0aW9uKGUsdCxuKXtzKGUsdCkmJm8oZSx0LG4sXCJub3REZWVwRXF1YWxcIixtLm5vdERlZXBFcXVhbCl9LG0uc3RyaWN0RXF1YWw9ZnVuY3Rpb24oZSx0LG4pe2UhPT10JiZvKGUsdCxuLFwiPT09XCIsbS5zdHJpY3RFcXVhbCl9LG0ubm90U3RyaWN0RXF1YWw9ZnVuY3Rpb24oZSx0LG4pe2U9PT10JiZvKGUsdCxuLFwiIT09XCIsbS5ub3RTdHJpY3RFcXVhbCl9LG0udGhyb3dzPWZ1bmN0aW9uKCl7Zi5hcHBseSh0aGlzLFshMF0uY29uY2F0KGguY2FsbChhcmd1bWVudHMpKSl9LG0uZG9lc05vdFRocm93PWZ1bmN0aW9uKCl7Zi5hcHBseSh0aGlzLFshMV0uY29uY2F0KGguY2FsbChhcmd1bWVudHMpKSl9LG0uaWZFcnJvcj1mdW5jdGlvbihlKXtpZihlKXRocm93IGV9O3ZhciBnPU9iamVjdC5rZXlzfHxmdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gZSlwLmNhbGwoZSxuKSYmdC5wdXNoKG4pO3JldHVybiB0fX0se1widXRpbC9cIjo0NX1dLDI6W2Z1bmN0aW9uKCl7fSx7fV0sMzpbZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQodCl7cmV0dXJuIGUuZnVuY3Rpb25zLmhzbGEodC5oLHQucyx0LmwsdC5hKX1mdW5jdGlvbiBuKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZS5EaW1lbnNpb24/cGFyc2VGbG9hdChcIiVcIj09dC51bml0P3QudmFsdWUvMTAwOnQudmFsdWUpOlwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6MC8wfWZ1bmN0aW9uIHIoZSl7cmV0dXJuIE1hdGgubWluKDEsTWF0aC5tYXgoMCxlKSl9ZS5mdW5jdGlvbnM9e3JnYjpmdW5jdGlvbihlLHQsbil7cmV0dXJuIHRoaXMucmdiYShlLHQsbiwxKX0scmdiYTpmdW5jdGlvbih0LHIsaSxvKXt2YXIgYT1bdCxyLGldLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbihlKX0pO3JldHVybiBvPW4obyksYS5zb21lKGlzTmFOKXx8aXNOYU4obyk/bnVsbDpuZXcgZS5Db2xvcihhLG8pfSxzdG9wOmZ1bmN0aW9uKGUpe3ZhciB0LG47cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MSYmKHQ9YXJndW1lbnRzWzFdKSxhcmd1bWVudHMubGVuZ3RoPjImJihuPWFyZ3VtZW50c1syXSkse2lzOlwidGFnXCIsdmFsOmUsY29sb3I6dCxtb2RlOm4sdG9TdHJpbmc6ZnVuY3Rpb24ocil7cmV0dXJuJ1xcblx0PHN0b3AgdmFsdWU9XCInK2UuZXYocikrJ1wiJysodD8nIGNvbG9yPVwiJyt0LmV2KHIpKydcIiAnOlwiXCIpKyhuPycgbW9kZT1cIicrbi5ldihyKSsnXCIgJzpcIlwiKStcIi8+XCJ9fX0saHNsOmZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdGhpcy5oc2xhKGUsdCxuLDEpfSxoc2xhOmZ1bmN0aW9uKGUsdCxyLGkpe2Z1bmN0aW9uIG8oZSl7cmV0dXJuIGU9MD5lP2UrMTplPjE/ZS0xOmUsMT42KmU/cysoYS1zKSplKjY6MT4yKmU/YToyPjMqZT9zKyhhLXMpKigyLzMtZSkqNjpzfWlmKGU9bihlKSUzNjAvMzYwLHQ9bih0KSxyPW4ociksaT1uKGkpLFtlLHQscixpXS5zb21lKGlzTmFOKSlyZXR1cm4gbnVsbDt2YXIgYT0uNT49cj9yKih0KzEpOnIrdC1yKnQscz0yKnItYTtyZXR1cm4gdGhpcy5yZ2JhKDI1NSpvKGUrMS8zKSwyNTUqbyhlKSwyNTUqbyhlLTEvMyksaSl9LGh1ZTpmdW5jdGlvbih0KXtyZXR1cm5cInRvSFNMXCJpbiB0P25ldyBlLkRpbWVuc2lvbihNYXRoLnJvdW5kKHQudG9IU0woKS5oKSk6bnVsbH0sc2F0dXJhdGlvbjpmdW5jdGlvbih0KXtyZXR1cm5cInRvSFNMXCJpbiB0P25ldyBlLkRpbWVuc2lvbihNYXRoLnJvdW5kKDEwMCp0LnRvSFNMKCkucyksXCIlXCIpOm51bGx9LGxpZ2h0bmVzczpmdW5jdGlvbih0KXtyZXR1cm5cInRvSFNMXCJpbiB0P25ldyBlLkRpbWVuc2lvbihNYXRoLnJvdW5kKDEwMCp0LnRvSFNMKCkubCksXCIlXCIpOm51bGx9LGFscGhhOmZ1bmN0aW9uKHQpe3JldHVyblwidG9IU0xcImluIHQ/bmV3IGUuRGltZW5zaW9uKHQudG9IU0woKS5hKTpudWxsfSxzYXR1cmF0ZTpmdW5jdGlvbihlLG4pe2lmKCEoXCJ0b0hTTFwiaW4gZSkpcmV0dXJuIG51bGw7dmFyIGk9ZS50b0hTTCgpO3JldHVybiBpLnMrPW4udmFsdWUvMTAwLGkucz1yKGkucyksdChpKX0sZGVzYXR1cmF0ZTpmdW5jdGlvbihlLG4pe2lmKCEoXCJ0b0hTTFwiaW4gZSkpcmV0dXJuIG51bGw7dmFyIGk9ZS50b0hTTCgpO3JldHVybiBpLnMtPW4udmFsdWUvMTAwLGkucz1yKGkucyksdChpKX0sbGlnaHRlbjpmdW5jdGlvbihlLG4pe2lmKCEoXCJ0b0hTTFwiaW4gZSkpcmV0dXJuIG51bGw7dmFyIGk9ZS50b0hTTCgpO3JldHVybiBpLmwrPW4udmFsdWUvMTAwLGkubD1yKGkubCksdChpKX0sZGFya2VuOmZ1bmN0aW9uKGUsbil7aWYoIShcInRvSFNMXCJpbiBlKSlyZXR1cm4gbnVsbDt2YXIgaT1lLnRvSFNMKCk7cmV0dXJuIGkubC09bi52YWx1ZS8xMDAsaS5sPXIoaS5sKSx0KGkpfSxmYWRlaW46ZnVuY3Rpb24oZSxuKXtpZighKFwidG9IU0xcImluIGUpKXJldHVybiBudWxsO3ZhciBpPWUudG9IU0woKTtyZXR1cm4gaS5hKz1uLnZhbHVlLzEwMCxpLmE9cihpLmEpLHQoaSl9LGZhZGVvdXQ6ZnVuY3Rpb24oZSxuKXtpZighKFwidG9IU0xcImluIGUpKXJldHVybiBudWxsO3ZhciBpPWUudG9IU0woKTtyZXR1cm4gaS5hLT1uLnZhbHVlLzEwMCxpLmE9cihpLmEpLHQoaSl9LHNwaW46ZnVuY3Rpb24oZSxuKXtpZighKFwidG9IU0xcImluIGUpKXJldHVybiBudWxsO3ZhciByPWUudG9IU0woKSxpPShyLmgrbi52YWx1ZSklMzYwO3JldHVybiByLmg9MD5pPzM2MCtpOmksdChyKX0scmVwbGFjZTpmdW5jdGlvbihlLHQsbil7cmV0dXJuXCJmaWVsZFwiPT09ZS5pcz9lLnRvU3RyaW5nK1wiLnJlcGxhY2UoXCIrdC50b1N0cmluZygpK1wiLCBcIituLnRvU3RyaW5nKCkrXCIpXCI6ZS5yZXBsYWNlKHQsbil9LG1peDpmdW5jdGlvbih0LG4scil7dmFyIGk9ci52YWx1ZS8xMDAsbz0yKmktMSxhPXQudG9IU0woKS5hLW4udG9IU0woKS5hLHM9KChvKmE9PS0xP286KG8rYSkvKDErbyphKSkrMSkvMixsPTEtcyx1PVt0LnJnYlswXSpzK24ucmdiWzBdKmwsdC5yZ2JbMV0qcytuLnJnYlsxXSpsLHQucmdiWzJdKnMrbi5yZ2JbMl0qbF0sYz10LmFscGhhKmkrbi5hbHBoYSooMS1pKTtyZXR1cm4gbmV3IGUuQ29sb3IodSxjKX0sZ3JleXNjYWxlOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmRlc2F0dXJhdGUodCxuZXcgZS5EaW1lbnNpb24oMTAwKSl9LFwiJVwiOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkscj10LnZhbHVlLGk9MDtpPG4ubGVuZ3RoO2krKylyPXIucmVwbGFjZSgvJXMvLG5baV0udmFsdWUpLnJlcGxhY2UoLyVbZGFdLyxuW2ldLnRvU3RyaW5nKCkpO3JldHVybiByPXIucmVwbGFjZSgvJSUvZyxcIiVcIiksbmV3IGUuUXVvdGVkKHIpfX07Zm9yKHZhciBpPVtcImVtYm9zc1wiLFwiYmx1clwiLFwiZ3JheVwiLFwic29iZWxcIixcImVkZ2UtZGV0ZWN0XCIsXCJ4LWdyYWRpZW50XCIsXCJ5LWdyYWRpZW50XCIsXCJzaGFycGVuXCJdLG89MDtvPGkubGVuZ3RoO28rKyl7dmFyIGE9aVtvXTtlLmZ1bmN0aW9uc1thXT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGUuSW1hZ2VGaWx0ZXIodCl9fShhKX1lLmZ1bmN0aW9uc1tcImFnZy1zdGFjay1ibHVyXCJdPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBlLkltYWdlRmlsdGVyKFwiYWdnLXN0YWNrLWJsdXJcIixbdCxuXSl9LGUuZnVuY3Rpb25zW1wic2NhbGUtaHNsYVwiXT1mdW5jdGlvbih0LG4scixpLG8sYSxzLGwpe3JldHVybiBuZXcgZS5JbWFnZUZpbHRlcihcInNjYWxlLWhzbGFcIixbdCxuLHIsaSxvLGEscyxsXSl9fShlKFwiLi90cmVlXCIpKX0se1wiLi90cmVlXCI6OX1dLDQ6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCxyKXtmdW5jdGlvbiBpKCl7aWYodC5icm93c2VyKXJldHVybiBlKFwiLi4vLi4vcGFja2FnZS5qc29uXCIpLnZlcnNpb24uc3BsaXQoXCIuXCIpO2lmKHBhcnNlSW50KHQudmVyc2lvbi5zcGxpdChcIi5cIilbMV0sMTApPjQpcmV0dXJuIGUoXCIuLi8uLi9wYWNrYWdlLmpzb25cIikudmVyc2lvbi5zcGxpdChcIi5cIik7dmFyIG49SlNPTi5wYXJzZShzLnJlYWRGaWxlU3luYyhsLmpvaW4ocixcIi4uLy4uL3BhY2thZ2UuanNvblwiKSkpO3JldHVybiBuLnZlcnNpb24uc3BsaXQoXCIuXCIpfWZ1bmN0aW9uIG8oZSx0KXt2YXIgbj17Ym9sZDpbMSwyMl0saW52ZXJzZTpbNywyN10sdW5kZXJsaW5lOls0LDI0XSx5ZWxsb3c6WzMzLDM5XSxncmVlbjpbMzIsMzldLHJlZDpbMzEsMzldLGdyZXk6WzkwLDM5XX07cmV0dXJuXCJcdTAwMWJbXCIrblt0XVswXStcIm1cIitlK1wiXHUwMDFiW1wiK25bdF1bMV0rXCJtXCJ9dmFyIGE9ZShcInV0aWxcIikscz1lKFwiZnNcIiksbD1lKFwicGF0aFwiKSx1PXt2ZXJzaW9uOmkoKSxQYXJzZXI6ZShcIi4vcGFyc2VyXCIpLlBhcnNlcixSZW5kZXJlcjplKFwiLi9yZW5kZXJlclwiKS5SZW5kZXJlcix0cmVlOmUoXCIuL3RyZWVcIiksUmVuZGVyZXJKUzplKFwiLi9yZW5kZXJlcl9qc1wiKSxkZWZhdWx0X3JlZmVyZW5jZTplKFwiLi90b3JxdWUtcmVmZXJlbmNlXCIpLHdyaXRlRXJyb3I6ZnVuY3Rpb24oZSx0KXt2YXIgbj1cIlwiLHI9ZS5leHRyYWN0LGk9W107aWYodD10fHx7fSwhdC5zaWxlbnQpe2lmKHQuaW5kZW50PXQuaW5kZW50fHxcIlwiLCEoXCJpbmRleFwiaW4gZSYmcikpcmV0dXJuIGEuZXJyb3IodC5pbmRlbnQrKGUuc3RhY2t8fGUubWVzc2FnZSkpO1wic3RyaW5nXCI9PXR5cGVvZiByWzBdJiZpLnB1c2gobyhlLmxpbmUtMStcIiBcIityWzBdLFwiZ3JleVwiKSksXCJcIj09PXJbMV0mJlwidW5kZWZpbmVkXCI9PXR5cGVvZiByWzJdJiYoclsxXT1cIsK2XCIpLGkucHVzaChlLmxpbmUrXCIgXCIrclsxXS5zbGljZSgwLGUuY29sdW1uKStvKG8oclsxXVtlLmNvbHVtbl0sXCJib2xkXCIpK3JbMV0uc2xpY2UoZS5jb2x1bW4rMSksXCJ5ZWxsb3dcIikpLFwic3RyaW5nXCI9PXR5cGVvZiByWzJdJiZpLnB1c2gobyhlLmxpbmUrMStcIiBcIityWzJdLFwiZ3JleVwiKSksaT10LmluZGVudCtpLmpvaW4oXCJcXG5cIit0LmluZGVudCkrXCJcdTAwMWJbMG1cXG5cIixuPXQuaW5kZW50K24rbyhlLm1lc3NhZ2UsXCJyZWRcIiksZS5maWxlbmFtZSYmKG4rPW8oXCIgaW4gXCIsXCJyZWRcIikrZS5maWxlbmFtZSksYS5lcnJvcihuLGkpLGUuY2FsbExpbmUmJihhLmVycm9yKG8oXCJmcm9tIFwiLFwicmVkXCIpKyhlLmZpbGVuYW1lfHxcIlwiKSksYS5lcnJvcihvKGUuY2FsbExpbmUsXCJncmV5XCIpK1wiIFwiK2UuY2FsbEV4dHJhY3QpKSxlLnN0YWNrJiZhLmVycm9yKG8oZS5zdGFjayxcInJlZFwiKSl9fX07ZShcIi4vdHJlZS9jYWxsXCIpLGUoXCIuL3RyZWUvY29sb3JcIiksZShcIi4vdHJlZS9jb21tZW50XCIpLGUoXCIuL3RyZWUvZGVmaW5pdGlvblwiKSxlKFwiLi90cmVlL2RpbWVuc2lvblwiKSxlKFwiLi90cmVlL2VsZW1lbnRcIiksZShcIi4vdHJlZS9leHByZXNzaW9uXCIpLGUoXCIuL3RyZWUvZmlsdGVyc2V0XCIpLGUoXCIuL3RyZWUvZmlsdGVyXCIpLGUoXCIuL3RyZWUvZmllbGRcIiksZShcIi4vdHJlZS9rZXl3b3JkXCIpLGUoXCIuL3RyZWUvbGF5ZXJcIiksZShcIi4vdHJlZS9saXRlcmFsXCIpLGUoXCIuL3RyZWUvb3BlcmF0aW9uXCIpLGUoXCIuL3RyZWUvcXVvdGVkXCIpLGUoXCIuL3RyZWUvaW1hZ2VmaWx0ZXJcIiksZShcIi4vdHJlZS9yZWZlcmVuY2VcIiksZShcIi4vdHJlZS9ydWxlXCIpLGUoXCIuL3RyZWUvcnVsZXNldFwiKSxlKFwiLi90cmVlL3NlbGVjdG9yXCIpLGUoXCIuL3RyZWUvc3R5bGVcIiksZShcIi4vdHJlZS91cmxcIiksZShcIi4vdHJlZS92YWx1ZVwiKSxlKFwiLi90cmVlL3ZhcmlhYmxlXCIpLGUoXCIuL3RyZWUvem9vbVwiKSxlKFwiLi90cmVlL2ludmFsaWRcIiksZShcIi4vdHJlZS9mb250c2V0XCIpLGUoXCIuL3RyZWUvZnJhbWVfb2Zmc2V0XCIpLGUoXCIuL2Z1bmN0aW9uc1wiKTtmb3IodmFyIGMgaW4gdSluW2NdPXVbY119KS5jYWxsKHRoaXMsZShcIl9wcm9jZXNzXCIpLFwiL25vZGVfbW9kdWxlcy9jYXJ0by9saWIvY2FydG9cIil9LHtcIi4uLy4uL3BhY2thZ2UuanNvblwiOjM4LFwiLi9mdW5jdGlvbnNcIjozLFwiLi9wYXJzZXJcIjo1LFwiLi9yZW5kZXJlclwiOjYsXCIuL3JlbmRlcmVyX2pzXCI6NyxcIi4vdG9ycXVlLXJlZmVyZW5jZVwiOjgsXCIuL3RyZWVcIjo5LFwiLi90cmVlL2NhbGxcIjoxMCxcIi4vdHJlZS9jb2xvclwiOjExLFwiLi90cmVlL2NvbW1lbnRcIjoxMixcIi4vdHJlZS9kZWZpbml0aW9uXCI6MTMsXCIuL3RyZWUvZGltZW5zaW9uXCI6MTQsXCIuL3RyZWUvZWxlbWVudFwiOjE1LFwiLi90cmVlL2V4cHJlc3Npb25cIjoxNixcIi4vdHJlZS9maWVsZFwiOjE3LFwiLi90cmVlL2ZpbHRlclwiOjE4LFwiLi90cmVlL2ZpbHRlcnNldFwiOjE5LFwiLi90cmVlL2ZvbnRzZXRcIjoyMCxcIi4vdHJlZS9mcmFtZV9vZmZzZXRcIjoyMSxcIi4vdHJlZS9pbWFnZWZpbHRlclwiOjIyLFwiLi90cmVlL2ludmFsaWRcIjoyMyxcIi4vdHJlZS9rZXl3b3JkXCI6MjQsXCIuL3RyZWUvbGF5ZXJcIjoyNSxcIi4vdHJlZS9saXRlcmFsXCI6MjYsXCIuL3RyZWUvb3BlcmF0aW9uXCI6MjcsXCIuL3RyZWUvcXVvdGVkXCI6MjgsXCIuL3RyZWUvcmVmZXJlbmNlXCI6MjksXCIuL3RyZWUvcnVsZVwiOjMwLFwiLi90cmVlL3J1bGVzZXRcIjozMSxcIi4vdHJlZS9zZWxlY3RvclwiOjMyLFwiLi90cmVlL3N0eWxlXCI6MzMsXCIuL3RyZWUvdXJsXCI6MzQsXCIuL3RyZWUvdmFsdWVcIjozNSxcIi4vdHJlZS92YXJpYWJsZVwiOjM2LFwiLi90cmVlL3pvb21cIjozNyxfcHJvY2Vzczo0MSxmczoyLHBhdGg6NDAsdXRpbDo0NX1dLDU6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24odCl7dmFyIHI9bixpPWUoXCIuL3RyZWVcIiksbz10Ll98fGUoXCJ1bmRlcnNjb3JlXCIpO3IuUGFyc2VyPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoKXtoPWdbZF0scD1mLHY9Zn1mdW5jdGlvbiBuKCl7Z1tkXT1oLGY9cCx2PWZ9ZnVuY3Rpb24gcigpe2Y+diYmKGdbZF09Z1tkXS5zbGljZShmLXYpLHY9Zil9ZnVuY3Rpb24gYShlKXt2YXIgdCxuLGksbztpZihlIGluc3RhbmNlb2YgRnVuY3Rpb24pcmV0dXJuIGUuY2FsbCh5LnBhcnNlcnMpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXQ9Yy5jaGFyQXQoZik9PT1lP2U6bnVsbCxuPTEscigpO2Vsc2V7aWYocigpLHQ9ZS5leGVjKGdbZF0pLCF0KXJldHVybiBudWxsO249dFswXS5sZW5ndGh9aWYodCl7dmFyIGE9Zis9bjtmb3Iobz1mK2dbZF0ubGVuZ3RoLW47bz5mJiYoaT1jLmNoYXJDb2RlQXQoZiksMzI9PT1pfHwxMD09PWl8fDk9PT1pKTspZisrO3JldHVybiBnW2RdPWdbZF0uc2xpY2UobisoZi1hKSksdj1mLDA9PT1nW2RdLmxlbmd0aCYmZDxnLmxlbmd0aC0xJiZkKyssXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDoxPT09dC5sZW5ndGg/dFswXTp0fX1mdW5jdGlvbiBzKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP2MuY2hhckF0KGYpPT09ZTohIWUudGVzdChnW2RdKX1mdW5jdGlvbiBsKGUsdCl7cmV0dXJuKGUuc2xpY2UoMCx0KS5tYXRjaCgvXFxuL2cpfHxcIlwiKS5sZW5ndGgrMX1mdW5jdGlvbiB1KHQpe3ZhciBuLHI7by5kZWZhdWx0cyh0LHtpbmRleDptLGZpbGVuYW1lOmUuZmlsZW5hbWUsbWVzc2FnZTpcIlBhcnNlIGVycm9yLlwiLGxpbmU6MCxjb2x1bW46LTF9KSxuPXQuZmlsZW5hbWUmJmIuZW52LmlucHV0cyYmYi5lbnYuaW5wdXRzW3QuZmlsZW5hbWVdP2IuZW52LmlucHV0c1t0LmZpbGVuYW1lXTpjLHQubGluZT1sKG4sdC5pbmRleCk7Zm9yKHZhciBpPXQuaW5kZXg7aT49MCYmXCJcXG5cIiE9PW4uY2hhckF0KGkpO2ktLSl0LmNvbHVtbisrO3JldHVybiByPW8udGVtcGxhdGUoXCI8JT1maWxlbmFtZSU+OjwlPWxpbmUlPjo8JT1jb2x1bW4lPiA8JT1tZXNzYWdlJT5cIiksbmV3IEVycm9yKHIodCkpfXZhciBjLGYsZCxoLHAsbSxnLHYseSxiPXRoaXM7cmV0dXJuIHRoaXMuZW52PWU9ZXx8e30sdGhpcy5lbnYuZmlsZW5hbWU9dGhpcy5lbnYuZmlsZW5hbWV8fG51bGwsdGhpcy5lbnYuaW5wdXRzPXRoaXMuZW52LmlucHV0c3x8e30seT17ZXh0cmFjdEVycm9yTGluZTpsLHBhcnNlOmZ1bmN0aW9uKHQpe3ZhciBuLHI9bnVsbDtmPWQ9dj1tPTAsZz1bXSxjPXQucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIiksZS5maWxlbmFtZSYmKGIuZW52LmlucHV0c1tlLmZpbGVuYW1lXT1jKTtpZihnPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCxuLGksbyxhPTAscz0vKD86QFxce1tcXHctXStcXH18W15cIidgXFx7XFx9XFwvXFwoXFwpXFxcXF0pKy9nLGw9L1xcL1xcKig/OlteKl18XFwqK1teXFwvKl0pKlxcKitcXC98XFwvXFwvLiovZyx1PS9cIigoPzpbXlwiXFxcXFxcclxcbl18XFxcXC4pKilcInwnKCg/OlteJ1xcXFxcXHJcXG5dfFxcXFwuKSopJ3xgKCg/OlteYF18XFxcXC4pKilgL2csZj0wLGQ9ZVswXSxoPTA7aDxjLmxlbmd0aDspaWYocy5sYXN0SW5kZXg9aCwodD1zLmV4ZWMoYykpJiZ0LmluZGV4PT09aCYmKGgrPXRbMF0ubGVuZ3RoLGQucHVzaCh0WzBdKSksaT1jLmNoYXJBdChoKSxsLmxhc3RJbmRleD11Lmxhc3RJbmRleD1oLCh0PXUuZXhlYyhjKSkmJnQuaW5kZXg9PT1oKWgrPXRbMF0ubGVuZ3RoLGQucHVzaCh0WzBdKTtlbHNlIGlmKG58fFwiL1wiIT09aXx8KG89Yy5jaGFyQXQoaCsxKSxcIi9cIiE9PW8mJlwiKlwiIT09b3x8ISh0PWwuZXhlYyhjKSl8fHQuaW5kZXghPT1oKSl7c3dpdGNoKGkpe2Nhc2VcIntcIjppZighbil7ZisrLGQucHVzaChpKTticmVha31jYXNlXCJ9XCI6aWYoIW4pe2YtLSxkLnB1c2goaSksZVsrK2FdPWQ9W107YnJlYWt9Y2FzZVwiKFwiOmlmKCFuKXtuPSEwLGQucHVzaChpKTticmVha31jYXNlXCIpXCI6aWYobil7bj0hMSxkLnB1c2goaSk7YnJlYWt9ZGVmYXVsdDpkLnB1c2goaSl9aCsrfWVsc2UgaCs9dFswXS5sZW5ndGgsZC5wdXNoKHRbMF0pO3JldHVybiAwIT09ZiYmKHI9e2luZGV4OmgtMSx0eXBlOlwiUGFyc2VcIixtZXNzYWdlOmY+MD9cIm1pc3NpbmcgY2xvc2luZyBgfWBcIjpcIm1pc3Npbmcgb3BlbmluZyBge2BcIn0pLGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmpvaW4oXCJcIil9KX0oW1tdXSkscil0aHJvdyB1KHIpO249bmV3IGkuUnVsZXNldChbXSxhKHRoaXMucGFyc2Vycy5wcmltYXJ5KSksbi5yb290PSEwLG4udG9MaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2UuZXJyb3I9ZnVuY3Rpb24odCl7ZS5lcnJvcnN8fChlLmVycm9ycz1uZXcgRXJyb3IoXCJcIikpLGUuZXJyb3JzLm1lc3NhZ2U/ZS5lcnJvcnMubWVzc2FnZSs9XCJcXG5cIit1KHQpLm1lc3NhZ2U6ZS5lcnJvcnMubWVzc2FnZT11KHQpLm1lc3NhZ2V9LGUuZnJhbWVzPWUuZnJhbWVzfHxbXTt2YXIgdD10aGlzLmZsYXR0ZW4oW10sW10sZSk7cmV0dXJuIHQuc29ydChvKSx0fX0oKTt2YXIgbz1mdW5jdGlvbihlLHQpe3ZhciBuPWUuc3BlY2lmaWNpdHkscj10LnNwZWNpZmljaXR5O3JldHVybiBuWzBdIT1yWzBdP3JbMF0tblswXTpuWzFdIT1yWzFdP3JbMV0tblsxXTpuWzJdIT1yWzJdP3JbMl0tblsyXTpyWzNdLW5bM119O3JldHVybiBufSxwYXJzZXJzOntwcmltYXJ5OmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9W107KGU9YSh0aGlzLnJ1bGUpfHxhKHRoaXMucnVsZXNldCl8fGEodGhpcy5jb21tZW50KSl8fGEoL15bXFxzXFxuXSsvKXx8KGU9YSh0aGlzLmludmFsaWQpKTspZSYmdC5wdXNoKGUpO3JldHVybiB0fSxpbnZhbGlkOmZ1bmN0aW9uKCl7dmFyIGU9YSgvXlteO1xcbl0qWztcXG5dLyk7cmV0dXJuIGU/bmV3IGkuSW52YWxpZChlLHApOnZvaWQgMH0sY29tbWVudDpmdW5jdGlvbigpe3ZhciBlO2lmKFwiL1wiPT09Yy5jaGFyQXQoZikpcmV0dXJuXCIvXCI9PT1jLmNoYXJBdChmKzEpP25ldyBpLkNvbW1lbnQoYSgvXlxcL1xcLy4qLyksITApOihlPWEoL15cXC9cXCooPzpbXipdfFxcKitbXlxcLypdKSpcXCorXFwvXFxuPy8pKT9uZXcgaS5Db21tZW50KGUpOnZvaWQgMH0sZW50aXRpZXM6e3F1b3RlZDpmdW5jdGlvbigpe2lmKCdcIic9PT1jLmNoYXJBdChmKXx8XCInXCI9PT1jLmNoYXJBdChmKSl7dmFyIGU9YSgvXlwiKCg/OlteXCJcXFxcXFxyXFxuXXxcXFxcLikqKVwifCcoKD86W14nXFxcXFxcclxcbl18XFxcXC4pKiknLyk7cmV0dXJuIGU/bmV3IGkuUXVvdGVkKGVbMV18fGVbMl0pOnZvaWQgMH19LGZpZWxkOmZ1bmN0aW9uKCl7aWYoYShcIltcIikpe3ZhciBlPWEoLyheW15cXF1dKykvKTtpZihhKFwiXVwiKSlyZXR1cm4gZT9uZXcgaS5GaWVsZChlWzFdKTp2b2lkIDB9fSxjb21wYXJpc29uOmZ1bmN0aW9uKCl7dmFyIGU9YSgvXj1+fD18IT18PD18Pj18PHw+Lyk7cmV0dXJuIGU/ZTp2b2lkIDB9LGtleXdvcmQ6ZnVuY3Rpb24oKXt2YXIgZT1hKC9eW0EtWmEtei1dK1tBLVphLXotMC05X10qLyk7cmV0dXJuIGU/bmV3IGkuS2V5d29yZChlKTp2b2lkIDB9LGNhbGw6ZnVuY3Rpb24oKXt2YXIgZSx0O2lmKGU9L14oW1xcd1xcLV0rfCUpXFwoLy5leGVjKGdbZF0pKXtpZihlPWVbMV0sXCJ1cmxcIj09PWUpcmV0dXJuIG51bGw7aWYoZis9ZS5sZW5ndGgsYShcIihcIiksdD1hKHRoaXMuZW50aXRpZXMuYXJndW1lbnRzKSxhKFwiKVwiKSlyZXR1cm4gZT9uZXcgaS5DYWxsKGUsdCxmKTp2b2lkIDB9fSxhcmd1bWVudHM6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1bXTsoZT1hKHRoaXMuZXhwcmVzc2lvbikpJiYodC5wdXNoKGUpLGEoXCIsXCIpKTspO3JldHVybiB0fSxsaXRlcmFsOmZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcy5lbnRpdGllcy5kaW1lbnNpb24pfHxhKHRoaXMuZW50aXRpZXMua2V5d29yZGNvbG9yKXx8YSh0aGlzLmVudGl0aWVzLmhleGNvbG9yKXx8YSh0aGlzLmVudGl0aWVzLnF1b3RlZCl9LHVybDpmdW5jdGlvbigpe3ZhciBlO2lmKFwidVwiPT09Yy5jaGFyQXQoZikmJmEoL151cmxcXCgvKSlyZXR1cm4gZT1hKHRoaXMuZW50aXRpZXMucXVvdGVkKXx8YSh0aGlzLmVudGl0aWVzLnZhcmlhYmxlKXx8YSgvXltcXC1cXHclQCRcXC8uJj06OyMrP35dKy8pfHxcIlwiLGEoXCIpXCIpP25ldyBpLlVSTChcInVuZGVmaW5lZFwiIT10eXBlb2YgZS52YWx1ZXx8ZSBpbnN0YW5jZW9mIGkuVmFyaWFibGU/ZTpuZXcgaS5RdW90ZWQoZSkpOm5ldyBpLkludmFsaWQoZSxwLFwiTWlzc2luZyBjbG9zaW5nICkgaW4gVVJMLlwiKX0sdmFyaWFibGU6ZnVuY3Rpb24oKXt2YXIgdCxuPWY7cmV0dXJuXCJAXCI9PT1jLmNoYXJBdChmKSYmKHQ9YSgvXkBbXFx3LV0rLykpP25ldyBpLlZhcmlhYmxlKHQsbixlLmZpbGVuYW1lKTp2b2lkIDB9LGhleGNvbG9yOmZ1bmN0aW9uKCl7dmFyIGU7cmV0dXJuXCIjXCI9PT1jLmNoYXJBdChmKSYmKGU9YSgvXiMoW2EtZkEtRjAtOV17Nn18W2EtZkEtRjAtOV17M30pLykpP25ldyBpLkNvbG9yKGVbMV0pOnZvaWQgMH0sa2V5d29yZGNvbG9yOmZ1bmN0aW9uKCl7dmFyIGU9Z1tkXS5tYXRjaCgvXlthLXpdKy8pO3JldHVybiBlJiZlWzBdaW4gaS5SZWZlcmVuY2UuZGF0YS5jb2xvcnM/bmV3IGkuQ29sb3IoaS5SZWZlcmVuY2UuZGF0YS5jb2xvcnNbYSgvXlthLXpdKy8pXSk6dm9pZCAwfSxkaW1lbnNpb246ZnVuY3Rpb24oKXt2YXIgZT1jLmNoYXJDb2RlQXQoZik7aWYoIShlPjU3fHw0NT5lfHw0Nz09PWUpKXt2YXIgdD1hKC9eKC0/XFxkKlxcLj9cXGQrKD86W2VFXVstK10/XFxkKyk/KShcXCV8XFx3Kyk/Lyk7cmV0dXJuIHQ/bmV3IGkuRGltZW5zaW9uKHRbMV0sdFsyXSxwKTp2b2lkIDB9fX0sdmFyaWFibGU6ZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm5cIkBcIj09PWMuY2hhckF0KGYpJiYoZT1hKC9eKEBbXFx3LV0rKVxccyo6LykpP2VbMV06dm9pZCAwfSxlbnRpdHk6ZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLmVudGl0aWVzLmNhbGwpfHxhKHRoaXMuZW50aXRpZXMubGl0ZXJhbCl8fGEodGhpcy5lbnRpdGllcy5maWVsZCl8fGEodGhpcy5lbnRpdGllcy52YXJpYWJsZSl8fGEodGhpcy5lbnRpdGllcy51cmwpfHxhKHRoaXMuZW50aXRpZXMua2V5d29yZCl9LGVuZDpmdW5jdGlvbigpe3JldHVybiBhKFwiO1wiKXx8cyhcIn1cIil9LGVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgZT1hKC9eKD86Wy4jXVtcXHdcXC1dK3xcXCp8TWFwKS8pO3JldHVybiBlP25ldyBpLkVsZW1lbnQoZSk6dm9pZCAwfSxhdHRhY2htZW50OmZ1bmN0aW9uKCl7dmFyIGU9YSgvXjo6KFtcXHdcXC1dKyg/OlxcL1tcXHdcXC1dKykqKS8pO3JldHVybiBlP2VbMV06dm9pZCAwfSxzZWxlY3RvcjpmdW5jdGlvbigpe3ZhciBlLHQsbixyLG8scz1bXSxsPW5ldyBpLkZpbHRlcnNldCxkPVtdLGg9aS5GcmFtZU9mZnNldC5ub25lO2ZvcihzZWdtZW50cz0wLGNvbmRpdGlvbnM9MDsobj1hKHRoaXMuZWxlbWVudCkpfHwobz1hKHRoaXMuem9vbSkpfHwoZm89YSh0aGlzLmZyYW1lX29mZnNldCkpfHwocj1hKHRoaXMuZmlsdGVyKSl8fChlPWEodGhpcy5hdHRhY2htZW50KSk7KXtpZihzZWdtZW50cysrLG4pcy5wdXNoKG4pO2Vsc2UgaWYobylkLnB1c2gobyksY29uZGl0aW9ucysrO2Vsc2UgaWYoZm8paD1mbyxjb25kaXRpb25zKys7ZWxzZSBpZihyKXt2YXIgbT1sLmFkZChyKTtpZihtKXRocm93IHUoe21lc3NhZ2U6bSxpbmRleDpmLTF9KTtjb25kaXRpb25zKyt9ZWxzZXtpZih0KXRocm93IHUoe21lc3NhZ2U6XCJFbmNvdW50ZXJlZCBzZWNvbmQgYXR0YWNobWVudCBuYW1lLlwiLGluZGV4OmYtMX0pO3Q9ZX12YXIgZz1jLmNoYXJBdChmKTtpZihcIntcIj09PWd8fFwifVwiPT09Z3x8XCI7XCI9PT1nfHxcIixcIj09PWcpYnJlYWt9cmV0dXJuIHNlZ21lbnRzP25ldyBpLlNlbGVjdG9yKGwsZCxoLHMsdCxjb25kaXRpb25zLHApOnZvaWQgMH0sZmlsdGVyOmZ1bmN0aW9uKCl7dCgpO3ZhciBuLHIsbztpZihhKFwiW1wiKSYmKG49YSgvXlthLXpBLVowLTlcXC1fXSsvKXx8YSh0aGlzLmVudGl0aWVzLnF1b3RlZCl8fGEodGhpcy5lbnRpdGllcy52YXJpYWJsZSl8fGEodGhpcy5lbnRpdGllcy5rZXl3b3JkKXx8YSh0aGlzLmVudGl0aWVzLmZpZWxkKSkmJihuIGluc3RhbmNlb2YgaS5RdW90ZWQmJihuPW5ldyBpLkZpZWxkKG4udG9TdHJpbmcoKSkpLChyPWEodGhpcy5lbnRpdGllcy5jb21wYXJpc29uKSkmJihvPWEodGhpcy5lbnRpdGllcy5xdW90ZWQpfHxhKHRoaXMuZW50aXRpZXMudmFyaWFibGUpfHxhKHRoaXMuZW50aXRpZXMuZGltZW5zaW9uKXx8YSh0aGlzLmVudGl0aWVzLmtleXdvcmQpfHxhKHRoaXMuZW50aXRpZXMuZmllbGQpKSkpe2lmKCFhKFwiXVwiKSl0aHJvdyB1KHttZXNzYWdlOlwiTWlzc2luZyBjbG9zaW5nIF0gb2YgZmlsdGVyLlwiLGluZGV4OnAtMX0pO3JldHVybiBuLmlzfHwobj1uZXcgaS5GaWVsZChuKSksbmV3IGkuRmlsdGVyKG4scixvLHAsZS5maWxlbmFtZSl9fSxmcmFtZV9vZmZzZXQ6ZnVuY3Rpb24oKXt0KCk7dmFyIGUsbjtyZXR1cm4gYSgvXlxcW1xccypmcmFtZS1vZmZzZXQvZykmJihlPWEodGhpcy5lbnRpdGllcy5jb21wYXJpc29uKSkmJihuPWEoL15cXGQrLykpJiZhKFwiXVwiKT9pLkZyYW1lT2Zmc2V0KGUsbixwKTp2b2lkIDB9LHpvb206ZnVuY3Rpb24oKXt0KCk7dmFyIGUscjtyZXR1cm4gYSgvXlxcW1xccyp6b29tL2cpJiYoZT1hKHRoaXMuZW50aXRpZXMuY29tcGFyaXNvbikpJiYocj1hKHRoaXMuZW50aXRpZXMudmFyaWFibGUpfHxhKHRoaXMuZW50aXRpZXMuZGltZW5zaW9uKSkmJmEoXCJdXCIpP25ldyBpLlpvb20oZSxyLHApOnZvaWQgbigpfSxibG9jazpmdW5jdGlvbigpe3ZhciBlO3JldHVybiBhKFwie1wiKSYmKGU9YSh0aGlzLnByaW1hcnkpKSYmYShcIn1cIik/ZTp2b2lkIDB9LHJ1bGVzZXQ6ZnVuY3Rpb24oKXt2YXIgZSxyLG89W107Zm9yKHQoKTtlPWEodGhpcy5zZWxlY3Rvcik7KXtmb3Ioby5wdXNoKGUpO2EodGhpcy5jb21tZW50KTspO2lmKCFhKFwiLFwiKSlicmVhaztmb3IoO2EodGhpcy5jb21tZW50KTspO31pZihlKWZvcig7YSh0aGlzLmNvbW1lbnQpOyk7aWYoby5sZW5ndGg+MCYmKHI9YSh0aGlzLmJsb2NrKSkpe2lmKDE9PT1vLmxlbmd0aCYmb1swXS5lbGVtZW50cy5sZW5ndGgmJlwiTWFwXCI9PT1vWzBdLmVsZW1lbnRzWzBdLnZhbHVlKXt2YXIgcz1uZXcgaS5SdWxlc2V0KG8scik7cmV0dXJuIHMuaXNNYXA9ITAsc31yZXR1cm4gbmV3IGkuUnVsZXNldChvLHIpfW4oKX0scnVsZTpmdW5jdGlvbigpe3ZhciByLG8scz1jLmNoYXJBdChmKTtpZih0KCksXCIuXCIhPT1zJiZcIiNcIiE9PXMmJihyPWEodGhpcy52YXJpYWJsZSl8fGEodGhpcy5wcm9wZXJ0eSkpKXtpZihvPWEodGhpcy52YWx1ZSksbyYmYSh0aGlzLmVuZCkpcmV0dXJuIG5ldyBpLlJ1bGUocixvLHAsZS5maWxlbmFtZSk7bT1mLG4oKX19LGZvbnQ6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1bXSxuPVtdO2U9YSh0aGlzLmVudGl0eSk7KW4ucHVzaChlKTtpZih0LnB1c2gobmV3IGkuRXhwcmVzc2lvbihuKSksYShcIixcIikpZm9yKDsoZT1hKHRoaXMuZXhwcmVzc2lvbikpJiYodC5wdXNoKGUpLGEoXCIsXCIpKTspO3JldHVybiBuZXcgaS5WYWx1ZSh0KX0sdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1bXTsoZT1hKHRoaXMuZXhwcmVzc2lvbikpJiYodC5wdXNoKGUpLGEoXCIsXCIpKTspO3JldHVybiB0Lmxlbmd0aD4xP25ldyBpLlZhbHVlKHQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnZhbHVlWzBdfSkpOjE9PT10Lmxlbmd0aD9uZXcgaS5WYWx1ZSh0KTp2b2lkIDB9LHN1YjpmdW5jdGlvbigpe3ZhciBlLHQ9W107aWYoYShcIihcIikpe2Zvcig7KGU9YSh0aGlzLmV4cHJlc3Npb24pKSYmKHQucHVzaChlKSxhKFwiLFwiKSk7KTthKFwiKVwiKX1yZXR1cm4gdC5sZW5ndGg+MT9uZXcgaS5WYWx1ZSh0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS52YWx1ZVswXX0pKToxPT09dC5sZW5ndGg/bmV3IGkuVmFsdWUodCk6dm9pZCAwfSxtdWx0aXBsaWNhdGlvbjpmdW5jdGlvbigpe3ZhciBlLHQsbixyO2lmKGU9YSh0aGlzLm9wZXJhbmQpKXtmb3IoOyhuPWEoXCIvXCIpfHxhKFwiKlwiKXx8YShcIiVcIikpJiYodD1hKHRoaXMub3BlcmFuZCkpOylyPW5ldyBpLk9wZXJhdGlvbihuLFtyfHxlLHRdLHApO3JldHVybiByfHxlfX0sYWRkaXRpb246ZnVuY3Rpb24oKXt2YXIgZSx0LG4scjtpZihlPWEodGhpcy5tdWx0aXBsaWNhdGlvbikpe2Zvcig7KG49YSgvXlstK11cXHMrLyl8fFwiIFwiIT1jLmNoYXJBdChmLTEpJiYoYShcIitcIil8fGEoXCItXCIpKSkmJih0PWEodGhpcy5tdWx0aXBsaWNhdGlvbikpOylyPW5ldyBpLk9wZXJhdGlvbihuLFtyfHxlLHRdLHApO3JldHVybiByfHxlfX0sb3BlcmFuZDpmdW5jdGlvbigpe3JldHVybiBhKHRoaXMuc3ViKXx8YSh0aGlzLmVudGl0eSl9LGV4cHJlc3Npb246ZnVuY3Rpb24oKXtmb3IodmFyIGUsdD1bXTtlPWEodGhpcy5hZGRpdGlvbil8fGEodGhpcy5lbnRpdHkpOyl0LnB1c2goZSk7cmV0dXJuIHQubGVuZ3RoPjA/bmV3IGkuRXhwcmVzc2lvbih0KTp2b2lkIDB9LHByb3BlcnR5OmZ1bmN0aW9uKCl7dmFyIGU9YSgvXigoW2Etel1bLWEtel8wLTldKlxcLyk/XFwqPy0/Wy1hLXpfMC05XSspXFxzKjovKTtyZXR1cm4gZT9lWzFdOnZvaWQgMH19fX19KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vdHJlZVwiOjksdW5kZXJzY29yZTo0Mn1dLDY6W2Z1bmN0aW9uKGUsdCl7KGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHIoZSx0LG4pe2Zvcih2YXIgcixpLG8sYT10LmZpbHRlcnMscz10LnJ1bGVzLGw9MDtsPGUubGVuZ3RoO2wrKylyPWVbbF0uZmlsdGVycy5jbG9uZVdpdGgoYSkscj8obz1uW3JdLG8/by5hZGRSdWxlcyhzKTooaT1lW2xdLmNsb25lKHIpLGkuYWRkUnVsZXMocykmJihuW3JdPWksZS5zcGxpY2UobCwwLGkpLGwrKykpKTpudWxsPT09ciYmKGVbbF09ZVtsXS5jbG9uZSgpLGVbbF0uYWRkUnVsZXMocykpO3JldHVybiBlfWZ1bmN0aW9uIGkoZSx0KXt2YXIgbixpLG89K25ldyBEYXRlLGE9e30scz17fSxsPVtdO2UuZm9yRWFjaChmdW5jdGlvbihlKXtlLmZpbHRlcnMuZXYodCl9KTtmb3IodmFyIHU9MDt1PGUubGVuZ3RoO3UrKyl7aT1lW3VdLmF0dGFjaG1lbnQsbj1bZVt1XV0sYVtpXXx8KGFbaV09W10sYVtpXS5hdHRhY2htZW50PWksc1tpXT17fSxsLnB1c2goYVtpXSkpO2Zvcih2YXIgYz11KzE7YzxlLmxlbmd0aDtjKyspZVtjXS5hdHRhY2htZW50PT09aSYmKG49cihuLGVbY10sc1tpXSx0KSk7Zm9yKHZhciBmPTA7ZjxuLmxlbmd0aDtmKyspc1tpXVtuW2ZdLmZpbHRlcnNdPW5bZl0sYVtpXS5wdXNoKG5bZl0pfXJldHVybiB0LmJlbmNobWFyayYmY29uc29sZS53YXJuKFwiSW5oZXJpdGFuY2UgdGltZTogXCIrKG5ldyBEYXRlLW8pK1wibXNcIiksbH1mdW5jdGlvbiBvKGUsdCl7cmV0dXJuIHQuaW5kZXgtZS5pbmRleH1mdW5jdGlvbiBhKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKXt2YXIgbj1lW3RdO24uaW5kZXg9MS8wO2Zvcih2YXIgcj0wO3I8bi5sZW5ndGg7cisrKWZvcih2YXIgaT1uW3JdLnJ1bGVzLGE9MDthPGkubGVuZ3RoO2ErKyl7dmFyIHM9aVthXTtzLmluZGV4PG4uaW5kZXgmJihuLmluZGV4PXMuaW5kZXgpfX12YXIgbD1lLnNsaWNlKCk7cmV0dXJuIGwuc29ydChvKSxsfWZ1bmN0aW9uIHMoZSx0LG4pe3ZhciByPXt9LGk9dS50cmVlLlJlZmVyZW5jZS5kYXRhLnN5bWJvbGl6ZXJzLm1hcDtyZXR1cm4gbChlKS5lYWNoKGZ1bmN0aW9uKGUsdCl7dCBpbiBpJiYoclt0XT10Kyc9XCInK2UrJ1wiJyl9KSx0LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5cIk1hcFwiPT09ZS5lbGVtZW50cy5qb2luKFwiXCIpfSkuZm9yRWFjaChmdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUucnVsZXMubGVuZ3RoO3QrKyl7dmFyIG89ZS5ydWxlc1t0XS5uYW1lO28gaW4gaXx8bi5lcnJvcih7bWVzc2FnZTpcIlJ1bGUgXCIrbytcIiBub3QgYWxsb3dlZCBmb3IgTWFwLlwiLGluZGV4OmUucnVsZXNbdF0uaW5kZXh9KSxyW29dPWUucnVsZXNbdF0uZXYobikudG9YTUwobil9fSkscn12YXIgbD1uLl98fGUoXCJ1bmRlcnNjb3JlXCIpLHU9ZShcIi4vaW5kZXhcIik7dS5SZW5kZXJlcj1mdW5jdGlvbihlLHQpe3RoaXMuZW52PWV8fHt9LHRoaXMub3B0aW9ucz10fHx7fSx0aGlzLm9wdGlvbnMubWFwbmlrX3ZlcnNpb249dGhpcy5vcHRpb25zLm1hcG5pa192ZXJzaW9ufHxcIjMuMC4wXCJ9LHUuUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlck1TUz1mdW5jdGlvbihlKXt2YXIgdD1sLmRlZmF1bHRzKHRoaXMuZW52LHtiZW5jaG1hcms6ITEsdmFsaWRhdGlvbl9kYXRhOiExLGVmZmVjdHM6W119KTtpZighdS50cmVlLlJlZmVyZW5jZS5zZXRWZXJzaW9uKHRoaXMub3B0aW9ucy5tYXBuaWtfdmVyc2lvbikpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IHNldCBtYXBuaWsgdmVyc2lvbiB0byBcIit0aGlzLm9wdGlvbnMubWFwbmlrX3ZlcnNpb24pO3ZhciBuPVtdLHI9W107dC5iZW5jaG1hcmsmJmNvbnNvbGUudGltZShcIlBhcnNpbmcgTVNTXCIpO3ZhciBvPXUuUGFyc2VyKHQpLnBhcnNlKGUpO3QuYmVuY2htYXJrJiZjb25zb2xlLnRpbWVFbmQoXCJQYXJzaW5nIE1TU1wiKSx0LmJlbmNobWFyayYmY29uc29sZS50aW1lKFwiUnVsZSBnZW5lcmF0aW9uXCIpO3ZhciBzPW8udG9MaXN0KHQpO3QuYmVuY2htYXJrJiZjb25zb2xlLnRpbWVFbmQoXCJSdWxlIGdlbmVyYXRpb25cIiksdC5iZW5jaG1hcmsmJmNvbnNvbGUudGltZShcIlJ1bGUgaW5oZXJpdGFuY2VcIik7dmFyIGM9aShzLHQpO3QuYmVuY2htYXJrJiZjb25zb2xlLnRpbWVFbmQoXCJSdWxlIGluaGVyaXRhbmNlXCIpLHQuYmVuY2htYXJrJiZjb25zb2xlLnRpbWUoXCJTdHlsZSBzb3J0XCIpO3ZhciBmPWEoYyx0KTt0LmJlbmNobWFyayYmY29uc29sZS50aW1lRW5kKFwiU3R5bGUgc29ydFwiKSx0LmJlbmNobWFyayYmY29uc29sZS50aW1lKFwiVG90YWwgU3R5bGUgZ2VuZXJhdGlvblwiKTtmb3IodmFyIGQsaCxwPTA7cDxmLmxlbmd0aDtwKyspe2Q9ZltwXSxoPVwic3R5bGVcIisoXCJfX2RlZmF1bHRfX1wiIT09ZC5hdHRhY2htZW50P1wiLVwiK2QuYXR0YWNobWVudDpcIlwiKSxyLnB1c2goaCk7dmFyIG09J1x0U3R5bGUgXCInK2grJ1wiICgjJytwK1wiKSB0b1hNTFwiO3QuYmVuY2htYXJrJiZjb25zb2xlLnRpbWUobSksbi5wdXNoKHUudHJlZS5TdHlsZVhNTChoLGQuYXR0YWNobWVudCxkLHQpKSx0LmJlbmNobWFyayYmY29uc29sZS50aW1lRW5kKG0pfWlmKHQuYmVuY2htYXJrJiZjb25zb2xlLnRpbWVFbmQoXCJUb3RhbCBTdHlsZSBnZW5lcmF0aW9uXCIpLHQuZXJyb3JzKXRocm93IHQuZXJyb3JzO3JldHVybiBuLmpvaW4oXCJcXG5cIil9LHUuUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLmFwcGxpZXNUbyhvLm5hbWUsdCl9fXZhciBuPWwuZGVmYXVsdHModGhpcy5lbnYse2JlbmNobWFyazohMSx2YWxpZGF0aW9uX2RhdGE6ITEsZWZmZWN0czpbXSxwcGk6OTAuNzE0fSk7aWYoIXUudHJlZS5SZWZlcmVuY2Uuc2V0VmVyc2lvbih0aGlzLm9wdGlvbnMubWFwbmlrX3ZlcnNpb24pKXRocm93IG5ldyBFcnJvcihcIkNvdWxkIG5vdCBzZXQgbWFwbmlrIHZlcnNpb24gdG8gXCIrdGhpcy5vcHRpb25zLm1hcG5pa192ZXJzaW9uKTtmb3IodmFyIHIsbyxjLGYsZCxoLHA9W10sbT1sLmNoYWluKGUuU3R5bGVzaGVldCkubWFwKGZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXRocm93IG5ldyBFcnJvcihcIlN0eWxlc2hlZXQgb2JqZWN0IGlzIGV4cGVjdGVkIG5vdCBhIHN0cmluZzogJ1wiK2UrXCInXCIpO249bC5leHRlbmQobix7ZmlsZW5hbWU6ZS5pZH0pO3ZhciB0PStuZXcgRGF0ZSxyPXUuUGFyc2VyKG4pLnBhcnNlKGUuZGF0YSk7cmV0dXJuIG4uYmVuY2htYXJrJiZjb25zb2xlLndhcm4oXCJQYXJzaW5nIHRpbWU6IFwiKyhuZXcgRGF0ZS10KStcIm1zXCIpLHIudG9MaXN0KG4pfSkuZmxhdHRlbigpLnZhbHVlKCksZz0wO2c8ZS5MYXllci5sZW5ndGg7ZysrKXtvPWUuTGF5ZXJbZ10scj1bXSxjPXt9LG4uYmVuY2htYXJrJiZjb25zb2xlLndhcm4oXCJwcm9jZXNzaW5nIGxheWVyOiBcIitvLmlkKTtmb3IodmFyIHY9KG9bXCJjbGFzc1wiXXx8XCJcIikuc3BsaXQoL1xccysvZykseT0wO3k8di5sZW5ndGg7eSsrKWNbdlt5XV09ITA7aD1tLmZpbHRlcih0KG8ubmFtZSxjKSksZj1pKGgsbiksZD1hKGYsbik7Zm9yKHZhciBiLHcseD0wO3g8ZC5sZW5ndGg7eCsrKXtiPWRbeF0sdz1vLm5hbWUrKFwiX19kZWZhdWx0X19cIiE9PWIuYXR0YWNobWVudD9cIi1cIitiLmF0dGFjaG1lbnQ6XCJcIik7dmFyIGs9dS50cmVlLlN0eWxlWE1MKHcsYi5hdHRhY2htZW50LGIsbik7ayYmKHAucHVzaChrKSxyLnB1c2godykpfXAucHVzaCh1LnRyZWUuTGF5ZXJYTUwobyxyKSl9cC51bnNoaWZ0KG4uZWZmZWN0cy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9YTUwobil9KS5qb2luKFwiXFxuXCIpKTt2YXIgUz1zKGUsbSxuKTtpZihuLmVycm9ycyl0aHJvdyBuLmVycm9yczt2YXIgej1sLnJlZHVjZShlLGZ1bmN0aW9uKGUsdCxuKXtpZighdCYmMCE9PXQpcmV0dXJuIGU7c3dpdGNoKG4pe2Nhc2VcInNyc1wiOmNhc2VcIkxheWVyXCI6Y2FzZVwiU3R5bGVzaGVldFwiOmJyZWFrO2Nhc2VcImJvdW5kc1wiOmNhc2VcImNlbnRlclwiOmNhc2VcIm1pbnpvb21cIjpjYXNlXCJtYXh6b29tXCI6Y2FzZVwidmVyc2lvblwiOmUucHVzaCgnICA8UGFyYW1ldGVyIG5hbWU9XCInK24rJ1wiPicrdCtcIjwvUGFyYW1ldGVyPlwiKTticmVhaztjYXNlXCJuYW1lXCI6Y2FzZVwiZGVzY3JpcHRpb25cIjpjYXNlXCJsZWdlbmRcIjpjYXNlXCJhdHRyaWJ1dGlvblwiOmNhc2VcInRlbXBsYXRlXCI6ZS5wdXNoKCcgIDxQYXJhbWV0ZXIgbmFtZT1cIicrbisnXCI+PCFbQ0RBVEFbJyt0K1wiXV0+PC9QYXJhbWV0ZXI+XCIpO2JyZWFrO2Nhc2VcImZvcm1hdFwiOmUucHVzaCgnICA8UGFyYW1ldGVyIG5hbWU9XCInK24rJ1wiPicrdCtcIjwvUGFyYW1ldGVyPlwiKTticmVhaztjYXNlXCJpbnRlcmFjdGl2aXR5XCI6ZS5wdXNoKCcgIDxQYXJhbWV0ZXIgbmFtZT1cImludGVyYWN0aXZpdHlfbGF5ZXJcIj4nK3QubGF5ZXIrXCI8L1BhcmFtZXRlcj5cIiksZS5wdXNoKCcgIDxQYXJhbWV0ZXIgbmFtZT1cImludGVyYWN0aXZpdHlfZmllbGRzXCI+Jyt0LmZpZWxkcytcIjwvUGFyYW1ldGVyPlwiKTticmVhaztkZWZhdWx0Olwic3RyaW5nXCI9PXR5cGVvZiB0P2UucHVzaCgnICA8UGFyYW1ldGVyIG5hbWU9XCInK24rJ1wiPjwhW0NEQVRBWycrdCtcIl1dPjwvUGFyYW1ldGVyPlwiKTpcIm51bWJlclwiPT10eXBlb2YgdD9lLnB1c2goJyAgPFBhcmFtZXRlciBuYW1lPVwiJytuKydcIj4nK3QrXCI8L1BhcmFtZXRlcj5cIik6XCJib29sZWFuXCI9PXR5cGVvZiB0JiZlLnB1c2goJyAgPFBhcmFtZXRlciBuYW1lPVwiJytuKydcIj4nK3QrXCI8L1BhcmFtZXRlcj5cIil9cmV0dXJuIGV9LFtdKTt6Lmxlbmd0aCYmcC51bnNoaWZ0KFwiPFBhcmFtZXRlcnM+XFxuXCIrei5qb2luKFwiXFxuXCIpK1wiXFxuPC9QYXJhbWV0ZXJzPlxcblwiKTt2YXIgXz1sLm1hcChTLGZ1bmN0aW9uKGUpe3JldHVyblwiIFwiK2V9KS5qb2luKFwiXCIpO3JldHVybiBwLnVuc2hpZnQoJzw/eG1sIHZlcnNpb249XCIxLjBcIiBlbmNvZGluZz1cInV0Zi04XCI/PlxcbjwhRE9DVFlQRSBNYXBbXT5cXG48TWFwJytfK1wiPlxcblwiKSxwLnB1c2goXCI8L01hcD5cIikscC5qb2luKFwiXFxuXCIpfSx0LmV4cG9ydHM9dSx0LmV4cG9ydHMuYWRkUnVsZXM9cix0LmV4cG9ydHMuaW5oZXJpdERlZmluaXRpb25zPWksdC5leHBvcnRzLnNvcnRTdHlsZXM9YX0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi9pbmRleFwiOjQsdW5kZXJzY29yZTo0Mn1dLDc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpeyhmdW5jdGlvbihnbG9iYWwpeyFmdW5jdGlvbihjYXJ0byl7ZnVuY3Rpb24gQ2FydG9DU1MoZSx0KXt0aGlzLm9wdGlvbnM9dHx8e30sdGhpcy5pbWFnZVVSTHM9W10sZSYmdGhpcy5zZXRTdHlsZShlKX12YXIgdHJlZT1fZGVyZXFfKFwiLi90cmVlXCIpLF89Z2xvYmFsLl98fF9kZXJlcV8oXCJ1bmRlcnNjb3JlXCIpO0NhcnRvQ1NTLkxheWVyPWZ1bmN0aW9uKGUsdCl7dGhpcy5vcHRpb25zPXQsdGhpcy5zaGFkZXI9ZX0sQ2FydG9DU1MuTGF5ZXIucHJvdG90eXBlPXtmdWxsTmFtZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNoYWRlci5hdHRhY2htZW50fSxuYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnVsbE5hbWUoKS5zcGxpdChcIjo6XCIpWzBdfSxmcmFtZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFkZXIuZnJhbWVzfSxhdHRhY2htZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnVsbE5hbWUoKS5zcGxpdChcIjo6XCIpWzFdfSxldmFsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMuc2hhZGVyW2VdO2lmKHQmJnQuc3R5bGUpcmV0dXJuIHQuc3R5bGUoe30se3pvb206MCxcImZyYW1lLW9mZnNldFwiOjB9KX0sZ2V0U3R5bGU6ZnVuY3Rpb24oZSx0KXt2YXIgbj17fTtmb3IodmFyIHIgaW4gdGhpcy5zaGFkZXIpXCJhdHRhY2htZW50XCIhPT1yJiZcInpvb21cIiE9PXImJlwiZnJhbWVzXCIhPT1yJiZcInN5bWJvbGl6ZXJzXCIhPT1yJiYobltyXT10aGlzLnNoYWRlcltyXS5zdHlsZShlLHQpKTtyZXR1cm4gbn0sZ2V0U3ltYm9saXplcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zaGFkZXIuc3ltYm9saXplcnN9LGlzVmFyaWFibGU6ZnVuY3Rpb24oKXtmb3IodmFyIGUgaW4gdGhpcy5zaGFkZXIpaWYoXCJhdHRhY2htZW50XCIhPT1lJiZcInpvb21cIiE9PWUmJlwiZnJhbWVzXCIhPT1lJiZcInN5bWJvbGl6ZXJzXCIhPT1lJiYhdGhpcy5zaGFkZXJbZV0uY29uc3RhbnQpcmV0dXJuITA7cmV0dXJuITF9LGdldFNoYWRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNoYWRlcn0sZmlsdGVyOmZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIgaW4gdGhpcy5zaGFkZXIpe3ZhciBpPXRoaXMuc2hhZGVyW3JdKHQsbik7aWYoaSlyZXR1cm4hMH1yZXR1cm4hMX0sdHJhbnNmb3JtR2VvbWV0cnk6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHRyYW5zZm9ybUdlb21ldHJpZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGV9fSxDYXJ0b0NTUy5wcm90b3R5cGU9e3NldFN0eWxlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyc2UoZSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKHRoaXMucGFyc2VfZW52LmVycm9ycyk7dGhpcy5sYXllcnM9dC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBDYXJ0b0NTUy5MYXllcihlKX0pfSxnZXRMYXllcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXllcnN9LGdldERlZmF1bHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maW5kTGF5ZXIoe2F0dGFjaG1lbnQ6XCJfX2RlZmF1bHRfX1wifSl9LGZpbmRMYXllcjpmdW5jdGlvbihlKXtyZXR1cm4gXy5maW5kKHRoaXMubGF5ZXJzLGZ1bmN0aW9uKHQpe2Zvcih2YXIgbiBpbiBlKXt2YXIgcj10W25dO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHImJihyPXIuY2FsbCh0KSksZVtuXSE9PXIpcmV0dXJuITF9cmV0dXJuITB9KX0sX2NyZWF0ZUZuOmZ1bmN0aW9uKGUpe3ZhciB0PWUuam9pbihcIlxcblwiKTtyZXR1cm4gdGhpcy5vcHRpb25zLmRlYnVnJiZjb25zb2xlLmxvZyh0KSxGdW5jdGlvbihcImRhdGFcIixcImN0eFwiLFwidmFyIF92YWx1ZSA9IG51bGw7IFwiK3QrXCI7IHJldHVybiBfdmFsdWU7IFwiKX0sX2NvbXBpbGU6ZnVuY3Rpb24oc2hhZGVyKXtcInN0cmluZ1wiPT10eXBlb2Ygc2hhZGVyJiYoc2hhZGVyPWV2YWwoXCIoZnVuY3Rpb24oKSB7IHJldHVybiBcIitzaGFkZXIrXCI7IH0pKClcIikpLHRoaXMuc2hhZGVyX3NyYz1zaGFkZXI7Zm9yKHZhciBhdHRyIGluIHNoYWRlcil7dmFyIGM9bWFwcGVyW2F0dHJdO2MmJih0aGlzLmNvbXBpbGVkW2NdPWV2YWwoXCIoZnVuY3Rpb24oKSB7IHJldHVybiBzaGFkZXJbYXR0cl07IH0pKCk7XCIpKX19LGdldEltYWdlVVJMczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmltYWdlVVJMc30scGFyc2U6ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gZS5lbGVtZW50c1swXStcIjo6XCIrZS5hdHRhY2htZW50fXZhciBuPXtmcmFtZXM6W10sZXJyb3JzOltdLGVycm9yOmZ1bmN0aW9uKGUpe3RoaXMuZXJyb3JzLnB1c2goZSl9fTt0aGlzLnBhcnNlX2Vudj1uO3ZhciByPW51bGw7dHJ5e3I9bmV3IGNhcnRvLlBhcnNlcihuKS5wYXJzZShlKX1jYXRjaChpKXtyZXR1cm4gdm9pZCBuLmVycm9ycy5wdXNoKGkubWVzc2FnZSl9aWYocil7dmFyIG89ci50b0xpc3Qobik7by5yZXZlcnNlKCk7Zm9yKHZhciBhPXt9LHM9MDtzPG8ubGVuZ3RoOysrcyl7Zm9yKHZhciBsPW9bc10sdT10KGwpLGM9YVt1XT1hW3VdfHx7c3ltYm9saXplcnM6W119LGY9MDtmPGwucnVsZXMubGVuZ3RoO2YrKylpZihcIm1hcmtlci1maWxlXCI9PT1sLnJ1bGVzW2ZdLm5hbWV8fFwicG9pbnQtZmlsZVwiPT09bC5ydWxlc1tmXS5uYW1lKXt2YXIgZD1sLnJ1bGVzW2ZdLnZhbHVlLnZhbHVlWzBdLnZhbHVlWzBdLnZhbHVlLnZhbHVlO3RoaXMuaW1hZ2VVUkxzLnB1c2goZCl9Yy5mcmFtZXM9W10sYy56b29tPXRyZWUuWm9vbS5hbGw7dmFyIGg9bC50b0pTKG4pO3RoaXMub3B0aW9ucy5kZWJ1ZyYmY29uc29sZS5sb2coXCJwcm9wc1wiLGgpO2Zvcih2YXIgcCBpbiBoKXt2YXIgbT1jW3BdPWNbcF18fHtjb25zdGFudDohMSxzeW1ib2xpemVyOm51bGwsanM6W10saW5kZXg6MH07bS5qcy5wdXNoKGhbcF0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmpzfSkuam9pbihcIlxcblwiKSksbS5zeW1ib2xpemVyPV8uZmlyc3QoaFtwXS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3ltYm9saXplcn0pKSxtLmluZGV4PV8ubWF4KGhbcF0ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmluZGV4fSkuY29uY2F0KG0uaW5kZXgpKSxtLmNvbnN0YW50PSFfLmFueShoW3BdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4hZS5jb25zdGFudH0pKX19dmFyIGc9W107dGhpcy5vcHRpb25zLmRlYnVnJiZjb25zb2xlLmxvZyhhKTtmb3IodmFyIHY9e30scz0wO3M8by5sZW5ndGg7KytzKXt2YXIgbD1vW3NdLHk9dChsKSxjPWFbeV07aWYoIXZbeV0pe3RoaXMub3B0aW9ucy5kZWJ1ZyYmY29uc29sZS5sb2coXCIqKlwiLHkpO2Zvcih2YXIgYiBpbiBjKVwiem9vbVwiIT09YiYmXCJmcmFtZXNcIiE9PWImJlwic3ltYm9saXplcnNcIiE9PWImJih0aGlzLm9wdGlvbnMuZGVidWcmJmNvbnNvbGUubG9nKFwiKlwiLGIpLGNbYl0uc3R5bGU9dGhpcy5fY3JlYXRlRm4oY1tiXS5qcyksYy5zeW1ib2xpemVycy5wdXNoKGNbYl0uc3ltYm9saXplciksYy5zeW1ib2xpemVycz1fLnVuaXEoYy5zeW1ib2xpemVycykpO2MuYXR0YWNobWVudD15LGcucHVzaChjKSx2W3ldPSEwfWMuem9vbXw9bC56b29tLGMuZnJhbWVzLnB1c2gobC5mcmFtZV9vZmZzZXQpfWZvcihzPTA7czxnLmxlbmd0aDsrK3MpZ1tzXS5mcmFtZXM9Xy51bmlxKGdbc10uZnJhbWVzKTtyZXR1cm4gZ31yZXR1cm4gbnVsbH19LGNhcnRvLlJlbmRlcmVySlM9ZnVuY3Rpb24oZSl7dGhpcy5vcHRpb25zPWV8fHt9LHRoaXMub3B0aW9ucy5tYXBuaWtfdmVyc2lvbj10aGlzLm9wdGlvbnMubWFwbmlrX3ZlcnNpb258fFwibGF0ZXN0XCJ9LGNhcnRvLlJlbmRlcmVySlMucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbihlKXt2YXIgdD1fZGVyZXFfKFwiLi90b3JxdWUtcmVmZXJlbmNlXCIpO3JldHVybiB0cmVlLlJlZmVyZW5jZS5zZXREYXRhKHQudmVyc2lvbi5sYXRlc3QpLG5ldyBDYXJ0b0NTUyhlLHRoaXMub3B0aW9ucyl9LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJihtb2R1bGUuZXhwb3J0cz1jYXJ0by5SZW5kZXJlckpTKX0oX2RlcmVxXyhcIi4uL2NhcnRvXCIpKX0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi4vY2FydG9cIjo0LFwiLi90b3JxdWUtcmVmZXJlbmNlXCI6OCxcIi4vdHJlZVwiOjksdW5kZXJzY29yZTo0Mn1dLDg6W2Z1bmN0aW9uKGUsdCl7dmFyIG49e3ZlcnNpb246XCIyLjEuMVwiLHN0eWxlOntcImZpbHRlci1tb2RlXCI6e3R5cGU6W1wiYWxsXCIsXCJmaXJzdFwiXSxkb2M6XCJDb250cm9sIHRoZSBwcm9jZXNzaW5nIGJlaGF2aW9yIG9mIFJ1bGUgZmlsdGVycyB3aXRoaW4gYSBTdHlsZS4gSWYgJ2FsbCcgaXMgdXNlZCB0aGVuIGFsbCBSdWxlcyBhcmUgcHJvY2Vzc2VkIHNlcXVlbnRpYWxseSBpbmRlcGVuZGVudCBvZiB3aGV0aGVyIGFueSBwcmV2aW91cyBmaWx0ZXJzIG1hdGNoZWQuIElmICdmaXJzdCcgaXMgdXNlZCB0aGVuIGl0IG1lYW5zIHByb2Nlc3NpbmcgZW5kcyBhZnRlciB0aGUgZmlyc3QgbWF0Y2ggKGEgcG9zaXRpdmUgZmlsdGVyIGV2YWx1YXRpb24pIGFuZCBubyBmdXJ0aGVyIFJ1bGVzIGluIHRoZSBTdHlsZSBhcmUgcHJvY2Vzc2VkICgnZmlyc3QnIGlzIHVzdWFsbHkgdGhlIGRlZmF1bHQgZm9yIENTUyBpbXBsZW1lbnRhdGlvbnMgb24gdG9wIG9mIE1hcG5payB0byBzaW1wbGlmeSB0cmFuc2xhdGlvbiBmcm9tIENTUyB0byBNYXBuaWsgWE1MKVwiLFwiZGVmYXVsdC12YWx1ZVwiOlwiYWxsXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIkFsbCBSdWxlcyBpbiBhIFN0eWxlIGFyZSBwcm9jZXNzZWQgd2hldGhlciB0aGV5IGhhdmUgZmlsdGVycyBvciBub3QgYW5kIHdoZXRoZXIgb3Igbm90IHRoZSBmaWx0ZXIgY29uZGl0aW9ucyBldmFsdWF0ZSB0byB0cnVlLlwifSxcImltYWdlLWZpbHRlcnNcIjp7Y3NzOlwiaW1hZ2UtZmlsdGVyc1wiLFwiZGVmYXVsdC12YWx1ZVwiOlwibm9uZVwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJubyBmaWx0ZXJzXCIsdHlwZTpcImZ1bmN0aW9uc1wiLGZ1bmN0aW9uczpbW1wiYWdnLXN0YWNrLWJsdXJcIiwyXSxbXCJlbWJvc3NcIiwwXSxbXCJibHVyXCIsMF0sW1wiZ3JheVwiLDBdLFtcInNvYmVsXCIsMF0sW1wiZWRnZS1kZXRlY3RcIiwwXSxbXCJ4LWdyYWRpZW50XCIsMF0sW1wieS1ncmFkaWVudFwiLDBdLFtcImludmVydFwiLDBdLFtcInNoYXJwZW5cIiwwXSxbXCJjb2xvcml6ZS1hbHBoYVwiLC0xXSxbXCJjb2xvci10by1hbHBoYVwiLDFdLFtcInNjYWxlLWhzbGFcIiw4XV0sZG9jOlwiQSBsaXN0IG9mIGltYWdlIGZpbHRlcnMuXCJ9LFwiY29tcC1vcFwiOntjc3M6XCJjb21wLW9wXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJzcmMtb3ZlclwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJhZGQgdGhlIGN1cnJlbnQgbGF5ZXIgb24gdG9wIG9mIG90aGVyIGxheWVyc1wiLGRvYzpcIkNvbXBvc2l0ZSBvcGVyYXRpb24uIFRoaXMgZGVmaW5lcyBob3cgdGhpcyBsYXllciBzaG91bGQgYmVoYXZlIHJlbGF0aXZlIHRvIGxheWVycyBhdG9wIG9yIGJlbG93IGl0LlwiLHR5cGU6W1wiY2xlYXJcIixcInNyY1wiLFwiZHN0XCIsXCJzcmMtb3ZlclwiLFwic291cmNlLW92ZXJcIixcImRzdC1vdmVyXCIsXCJzcmMtaW5cIixcImRzdC1pblwiLFwic3JjLW91dFwiLFwiZHN0LW91dFwiLFwic3JjLWF0b3BcIixcImRzdC1hdG9wXCIsXCJ4b3JcIixcInBsdXNcIixcIm1pbnVzXCIsXCJtdWx0aXBseVwiLFwic2NyZWVuXCIsXCJvdmVybGF5XCIsXCJkYXJrZW5cIixcImxpZ2h0ZW5cIixcImxpZ2h0ZXJcIixcImNvbG9yLWRvZGdlXCIsXCJjb2xvci1idXJuXCIsXCJoYXJkLWxpZ2h0XCIsXCJzb2Z0LWxpZ2h0XCIsXCJkaWZmZXJlbmNlXCIsXCJleGNsdXNpb25cIixcImNvbnRyYXN0XCIsXCJpbnZlcnRcIixcImludmVydC1yZ2JcIixcImdyYWluLW1lcmdlXCIsXCJncmFpbi1leHRyYWN0XCIsXCJodWVcIixcInNhdHVyYXRpb25cIixcImNvbG9yXCIsXCJ2YWx1ZVwiXX0sb3BhY2l0eTp7Y3NzOlwib3BhY2l0eVwiLHR5cGU6XCJmbG9hdFwiLGRvYzpcIkFuIGFscGhhIHZhbHVlIGZvciB0aGUgc3R5bGUgKHdoaWNoIG1lYW5zIGFuIGFscGhhIGFwcGxpZWQgdG8gYWxsIGZlYXR1cmVzIGluIHNlcGFyYXRlIGJ1ZmZlciBhbmQgdGhlbiBjb21wb3NpdGVkIGJhY2sgdG8gbWFpbiBidWZmZXIpXCIsXCJkZWZhdWx0LXZhbHVlXCI6MSxcImRlZmF1bHQtbWVhbmluZ1wiOlwibm8gc2VwYXJhdGUgYnVmZmVyIHdpbGwgYmUgdXNlZCBhbmQgbm8gYWxwaGEgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBzdHlsZSBhZnRlciByZW5kZXJpbmdcIn19LGxheWVyOntuYW1lOntcImRlZmF1bHQtdmFsdWVcIjpcIlwiLHR5cGU6XCJzdHJpbmdcIixyZXF1aXJlZDohMCxcImRlZmF1bHQtbWVhbmluZ1wiOlwiTm8gbGF5ZXIgbmFtZSBoYXMgYmVlbiBwcm92aWRlZFwiLGRvYzpcIlRoZSBuYW1lIG9mIGEgbGF5ZXIuIENhbiBiZSBhbnl0aGluZyB5b3Ugd2lzaCBhbmQgaXMgbm90IHN0cmljdGx5IHZhbGlkYXRlZCwgYnV0IGlkZWFsbHkgdW5pcXVlICBpbiB0aGUgbWFwXCJ9LHNyczp7XCJkZWZhdWx0LXZhbHVlXCI6XCJcIix0eXBlOlwic3RyaW5nXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIk5vIHNycyB2YWx1ZSBpcyBwcm92aWRlZCBhbmQgdGhlIHZhbHVlIHdpbGwgYmUgaW5oZXJpdGVkIGZyb20gdGhlIE1hcCdzIHNyc1wiLGRvYzpcIlRoZSBzcGF0aWFsIHJlZmVyZW5jZSBzeXN0ZW0gZGVmaW5pdGlvbiBmb3IgdGhlIGxheWVyLCBha2EgdGhlIHByb2plY3Rpb24uIENhbiBlaXRoZXIgYmUgYSBwcm9qNCBsaXRlcmFsIHN0cmluZyBsaWtlICcrcHJvaj1sb25nbGF0ICtlbGxwcz1XR1M4NCArZGF0dW09V0dTODQgK25vX2RlZnMnIG9yLCBpZiB0aGUgcHJvcGVyIHByb2o0IGVwc2cvbmFkL2V0YyBpZGVudGlmaWVyIGZpbGVzIGFyZSBpbnN0YWxsZWQsIGEgc3RyaW5nIHRoYXQgdXNlcyBhbiBpZCBsaWtlOiAnK2luaXQ9ZXBzZzo0MzI2J1wifSxzdGF0dXM6e1wiZGVmYXVsdC12YWx1ZVwiOiEwLHR5cGU6XCJib29sZWFuXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIlRoaXMgbGF5ZXIgd2lsbCBiZSBtYXJrZWQgYXMgYWN0aXZlIGFuZCBhdmFpbGFibGUgZm9yIHByb2Nlc3NpbmdcIixkb2M6XCJBIHByb3BlcnR5IHRoYXQgY2FuIGJlIHNldCB0byBmYWxzZSB0byBkaXNhYmxlIHRoaXMgbGF5ZXIgZnJvbSBiZWluZyBwcm9jZXNzZWRcIn0sbWluem9vbTp7XCJkZWZhdWx0LXZhbHVlXCI6XCIwXCIsdHlwZTpcImZsb2F0XCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIlRoZSBsYXllciB3aWxsIGJlIHZpc2libGUgYXQgdGhlIG1pbmltdW0gcG9zc2libGUgc2NhbGVcIixkb2M6XCJUaGUgbWluaW11bSBzY2FsZSBkZW5vbWluYXRvciB0aGF0IHRoaXMgbGF5ZXIgd2lsbCBiZSB2aXNpYmxlIGF0LiBBIGxheWVyJ3MgdmlzaWJpbGl0eSBpcyBkZXRlcm1pbmVkIGJ5IHdoZXRoZXIgaXRzIHN0YXR1cyBpcyB0cnVlIGFuZCBpZiB0aGUgTWFwIHNjYWxlID49IG1pbnpvb20gLSAxZS02IGFuZCBzY2FsZSA8IG1heHpvb20gKyAxZS02XCJ9LG1heHpvb206e1wiZGVmYXVsdC12YWx1ZVwiOlwiMS43OTc2OWUrMzA4XCIsdHlwZTpcImZsb2F0XCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIlRoZSBsYXllciB3aWxsIGJlIHZpc2libGUgYXQgdGhlIG1heGltdW0gcG9zc2libGUgc2NhbGVcIixkb2M6XCJUaGUgbWF4aW11bSBzY2FsZSBkZW5vbWluYXRvciB0aGF0IHRoaXMgbGF5ZXIgd2lsbCBiZSB2aXNpYmxlIGF0LiBUaGUgZGVmYXVsdCBpcyB0aGUgbnVtZXJpYyBsaW1pdCBvZiB0aGUgQysrIGRvdWJsZSB0eXBlLCB3aGljaCBtYXkgdmFyeSBzbGlnaHRseSBieSBzeXN0ZW0sIGJ1dCBpcyBsaWtlbHkgYSBtYXNzaXZlIG51bWJlciBsaWtlIDEuNzk3NjllKzMwOCBhbmQgZW5zdXJlcyB0aGF0IHRoaXMgbGF5ZXIgd2lsbCBhbHdheXMgYmUgdmlzaWJsZSB1bmxlc3MgdGhlIHZhbHVlIGlzIHJlZHVjZWQuIEEgbGF5ZXIncyB2aXNpYmlsaXR5IGlzIGRldGVybWluZWQgYnkgd2hldGhlciBpdHMgc3RhdHVzIGlzIHRydWUgYW5kIGlmIHRoZSBNYXAgc2NhbGUgPj0gbWluem9vbSAtIDFlLTYgYW5kIHNjYWxlIDwgbWF4em9vbSArIDFlLTZcIn0scXVlcnlhYmxlOntcImRlZmF1bHQtdmFsdWVcIjohMSx0eXBlOlwiYm9vbGVhblwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJUaGUgbGF5ZXIgd2lsbCBub3QgYmUgYXZhaWxhYmxlIGZvciB0aGUgZGlyZWN0IHF1ZXJ5aW5nIG9mIGRhdGEgdmFsdWVzXCIsZG9jOlwiVGhpcyBwcm9wZXJ0eSB3YXMgYWRkZWQgZm9yIEdldEZlYXR1cmVJbmZvL1dNUyBjb21wYXRpYmlsaXR5IGFuZCBpcyByYXJlbHkgdXNlZC4gSXQgaXMgb2ZmIGJ5IGRlZmF1bHQgbWVhbmluZyB0aGF0IGluIGEgV01TIGNvbnRleHQgdGhlIGxheWVyIHdpbGwgbm90IGJlIGFibGUgdG8gYmUgcXVlcmllZCB1bmxlc3MgdGhlIHByb3BlcnR5IGlzIGV4cGxpY2l0bHkgc2V0IHRvIHRydWVcIn0sXCJjbGVhci1sYWJlbC1jYWNoZVwiOntcImRlZmF1bHQtdmFsdWVcIjohMSx0eXBlOlwiYm9vbGVhblwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJUaGUgcmVuZGVyZXIncyBjb2xsaXNpb24gZGV0ZWN0b3IgY2FjaGUgKHVzZWQgZm9yIGF2b2lkaW5nIGR1cGxpY2F0ZSBsYWJlbHMgYW5kIG92ZXJsYXBwaW5nIG1hcmtlcnMpIHdpbGwgbm90IGJlIGNsZWFyZWQgaW1tZWRpYXRlbHkgYmVmb3JlIHByb2Nlc3NpbmcgdGhpcyBsYXllclwiLGRvYzpcIlRoaXMgcHJvcGVydHksIGJ5IGRlZmF1bHQgb2ZmLCBjYW4gYmUgZW5hYmxlZCB0byBhbGxvdyBhIHVzZXIgdG8gY2xlYXIgdGhlIGNvbGxpc2lvbiBkZXRlY3RvciBjYWNoZSBiZWZvcmUgYSBnaXZlbiBsYXllciBpcyBwcm9jZXNzZWQuIFRoaXMgbWF5IGJlIGRlc2lyYWJsZSB0byBlbnN1cmUgdGhhdCBhIGdpdmVuIGxheWVycyBkYXRhIHNob3dzIHVwIG9uIHRoZSBtYXAgZXZlbiBpZiBpdCBub3JtYWxseSB3b3VsZCBub3QgYmVjYXVzZSBvZiBjb2xsaXNpb25zIHdpdGggcHJldmlvdXNseSByZW5kZXJlZCBsYWJlbHMgb3IgbWFya2Vyc1wifSxcImdyb3VwLWJ5XCI6e1wiZGVmYXVsdC12YWx1ZVwiOlwiXCIsdHlwZTpcInN0cmluZ1wiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJObyBzcGVjaWFsIGxheWVyIGdyb3VwaW5nIHdpbGwgYmUgdXNlZCBkdXJpbmcgcmVuZGVyaW5nXCIsZG9jOlwiaHR0cHM6Ly9naXRodWIuY29tL21hcG5pay9tYXBuaWsvd2lraS9Hcm91cGVkLXJlbmRlcmluZ1wifSxcImJ1ZmZlci1zaXplXCI6e1wiZGVmYXVsdC12YWx1ZVwiOlwiMFwiLHR5cGU6XCJmbG9hdFwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJObyBidWZmZXIgd2lsbCBiZSB1c2VkXCIsZG9jOlwiRXh0cmEgdG9sZXJhbmNlIGFyb3VuZCB0aGUgTGF5ZXIgZXh0ZW50IChpbiBwaXhlbHMpIHVzZWQgdG8gd2hlbiBxdWVyeWluZyBhbmQgKHBvdGVudGlhbGx5KSBjbGlwcGluZyB0aGUgbGF5ZXIgZGF0YSBkdXJpbmcgcmVuZGVyaW5nXCJ9LFwibWF4aW11bS1leHRlbnRcIjp7XCJkZWZhdWx0LXZhbHVlXCI6XCJub25lXCIsdHlwZTpcImJib3hcIixcImRlZmF1bHQtbWVhbmluZ1wiOlwiTm8gY2xpcHBpbmcgZXh0ZW50IHdpbGwgYmUgdXNlZFwiLGRvYzpcIkFuIGV4dGVudCB0byBiZSB1c2VkIHRvIGxpbWl0IHRoZSBib3VuZHMgdXNlZCB0byBxdWVyeSB0aGlzIHNwZWNpZmljIGxheWVyIGRhdGEgZHVyaW5nIHJlbmRlcmluZy4gU2hvdWxkIGJlIG1pbngsIG1pbnksIG1heHgsIG1heHkgaW4gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBMYXllci5cIn19LHN5bWJvbGl6ZXJzOntcIipcIjp7XCJpbWFnZS1maWx0ZXJzXCI6e2NzczpcImltYWdlLWZpbHRlcnNcIixcImRlZmF1bHQtdmFsdWVcIjpcIm5vbmVcIixcImRlZmF1bHQtbWVhbmluZ1wiOlwibm8gZmlsdGVyc1wiLHR5cGU6XCJmdW5jdGlvbnNcIixmdW5jdGlvbnM6W1tcImFnZy1zdGFjay1ibHVyXCIsMl0sW1wiZW1ib3NzXCIsMF0sW1wiYmx1clwiLDBdLFtcImdyYXlcIiwwXSxbXCJzb2JlbFwiLDBdLFtcImVkZ2UtZGV0ZWN0XCIsMF0sW1wieC1ncmFkaWVudFwiLDBdLFtcInktZ3JhZGllbnRcIiwwXSxbXCJpbnZlcnRcIiwwXSxbXCJzaGFycGVuXCIsMF0sW1wiY29sb3JpemUtYWxwaGFcIiwtMV0sW1wiY29sb3ItdG8tYWxwaGFcIiwxXSxbXCJzY2FsZS1oc2xhXCIsOF0sW1wiYnVja2V0c1wiLC0xXSxbXCJjYXRlZ29yeVwiLC0xXSxbXCJlcXVhbFwiLC0xXSxbXCJoZWFkdGFpbHNcIiwtMV0sW1wiamVua3NcIiwtMV0sW1wicXVhbnRpbGVzXCIsLTFdLFtcImNhcnRvY29sb3JcIiwtMV0sW1wiY29sb3JicmV3ZXJcIiwtMV0sW1wicmFuZ2VcIiwtMV0sW1wicmFtcFwiLC0xXV0sZG9jOlwiQSBsaXN0IG9mIGltYWdlIGZpbHRlcnMuXCJ9LFwiY29tcC1vcFwiOntjc3M6XCJjb21wLW9wXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJzcmMtb3ZlclwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJhZGQgdGhlIGN1cnJlbnQgbGF5ZXIgb24gdG9wIG9mIG90aGVyIGxheWVyc1wiLGRvYzpcIkNvbXBvc2l0ZSBvcGVyYXRpb24uIFRoaXMgZGVmaW5lcyBob3cgdGhpcyBsYXllciBzaG91bGQgYmVoYXZlIHJlbGF0aXZlIHRvIGxheWVycyBhdG9wIG9yIGJlbG93IGl0LlwiLHR5cGU6W1wiY2xlYXJcIixcInNyY1wiLFwiZHN0XCIsXCJzcmMtb3ZlclwiLFwic291cmNlLW92ZXJcIixcImRzdC1vdmVyXCIsXCJzcmMtaW5cIixcImRzdC1pblwiLFwic3JjLW91dFwiLFwiZHN0LW91dFwiLFwic3JjLWF0b3BcIixcImRzdC1hdG9wXCIsXCJ4b3JcIixcInBsdXNcIixcIm1pbnVzXCIsXCJtdWx0aXBseVwiLFwic2NyZWVuXCIsXCJvdmVybGF5XCIsXCJkYXJrZW5cIixcImxpZ2h0ZW5cIixcImxpZ2h0ZXJcIixcImNvbG9yLWRvZGdlXCIsXCJjb2xvci1idXJuXCIsXCJoYXJkLWxpZ2h0XCIsXCJzb2Z0LWxpZ2h0XCIsXCJkaWZmZXJlbmNlXCIsXCJleGNsdXNpb25cIixcImNvbnRyYXN0XCIsXCJpbnZlcnRcIixcImludmVydC1yZ2JcIixcImdyYWluLW1lcmdlXCIsXCJncmFpbi1leHRyYWN0XCIsXCJodWVcIixcInNhdHVyYXRpb25cIixcImNvbG9yXCIsXCJ2YWx1ZVwiXX0sb3BhY2l0eTp7Y3NzOlwib3BhY2l0eVwiLHR5cGU6XCJmbG9hdFwiLGRvYzpcIkFuIGFscGhhIHZhbHVlIGZvciB0aGUgc3R5bGUgKHdoaWNoIG1lYW5zIGFuIGFscGhhIGFwcGxpZWQgdG8gYWxsIGZlYXR1cmVzIGluIHNlcGFyYXRlIGJ1ZmZlciBhbmQgdGhlbiBjb21wb3NpdGVkIGJhY2sgdG8gbWFpbiBidWZmZXIpXCIsXCJkZWZhdWx0LXZhbHVlXCI6MSxcImRlZmF1bHQtbWVhbmluZ1wiOlwibm8gc2VwYXJhdGUgYnVmZmVyIHdpbGwgYmUgdXNlZCBhbmQgbm8gYWxwaGEgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBzdHlsZSBhZnRlciByZW5kZXJpbmdcIn19LG1hcDp7XCJiYWNrZ3JvdW5kLWNvbG9yXCI6e2NzczpcImJhY2tncm91bmQtY29sb3JcIixcImRlZmF1bHQtdmFsdWVcIjpcIm5vbmVcIixcImRlZmF1bHQtbWVhbmluZ1wiOlwidHJhbnNwYXJlbnRcIix0eXBlOlwiY29sb3JcIixkb2M6XCJNYXAgQmFja2dyb3VuZCBjb2xvclwifSxcImJhY2tncm91bmQtaW1hZ2VcIjp7Y3NzOlwiYmFja2dyb3VuZC1pbWFnZVwiLHR5cGU6XCJ1cmlcIixcImRlZmF1bHQtdmFsdWVcIjpcIlwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJ0cmFuc3BhcmVudFwiLGRvYzpcIkFuIGltYWdlIHRoYXQgaXMgcmVwZWF0ZWQgYmVsb3cgYWxsIGZlYXR1cmVzIG9uIGEgbWFwIGFzIGEgYmFja2dyb3VuZC5cIixkZXNjcmlwdGlvbjpcIk1hcCBCYWNrZ3JvdW5kIGltYWdlXCJ9LHNyczp7Y3NzOlwic3JzXCIsdHlwZTpcInN0cmluZ1wiLFwiZGVmYXVsdC12YWx1ZVwiOlwiK3Byb2o9bG9uZ2xhdCArZWxscHM9V0dTODQgK2RhdHVtPVdHUzg0ICtub19kZWZzXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIlRoZSBwcm9qNCBsaXRlcmFsIG9mIEVQU0c6NDMyNiBpcyBhc3N1bWVkIHRvIGJlIHRoZSBNYXAncyBzcGF0aWFsIHJlZmVyZW5jZSBhbmQgYWxsIGRhdGEgZnJvbSBsYXllcnMgd2l0aGluIHRoaXMgbWFwIHdpbGwgYmUgcGxvdHRlZCB1c2luZyB0aGlzIGNvb3JkaW5hdGUgc3lzdGVtLiBJZiBhbnkgbGF5ZXJzIGRvIG5vdCBkZWNsYXJlIGFuIHNycyB2YWx1ZSB0aGVuIHRoZXkgd2lsbCBiZSBhc3N1bWVkIHRvIGJlIGluIHRoZSBzYW1lIHNycyBhcyB0aGUgTWFwIGFuZCBub3QgdHJhbnNmb3JtYXRpb25zIHdpbGwgYmUgbmVlZGVkIHRvIHBsb3QgdGhlbSBpbiB0aGUgTWFwJ3MgY29vcmRpbmF0ZSBzcGFjZVwiLGRvYzpcIk1hcCBzcGF0aWFsIHJlZmVyZW5jZSAocHJvajQgc3RyaW5nKVwifSxcImJ1ZmZlci1zaXplXCI6e2NzczpcImJ1ZmZlci1zaXplXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCIwXCIsdHlwZTpcImZsb2F0XCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIk5vIGJ1ZmZlciB3aWxsIGJlIHVzZWRcIixkb2M6J0V4dHJhIHRvbGVyYW5jZSBhcm91bmQgdGhlIG1hcCAoaW4gcGl4ZWxzKSB1c2VkIHRvIGVuc3VyZSBsYWJlbHMgY3Jvc3NpbmcgdGlsZSBib3VuZGFyaWVzIGFyZSBlcXVhbGx5IHJlbmRlcmVkIGluIGVhY2ggdGlsZSAoZS5nLiBjdXQgaW4gZWFjaCB0aWxlKS4gTm90IGludGVuZGVkIHRvIGJlIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aCBcImF2b2lkLWVkZ2VzXCIuJ30sXCJtYXhpbXVtLWV4dGVudFwiOntjc3M6XCJcIixcImRlZmF1bHQtdmFsdWVcIjpcIm5vbmVcIix0eXBlOlwiYmJveFwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJObyBjbGlwcGluZyBleHRlbnQgd2lsbCBiZSB1c2VkXCIsZG9jOlwiQW4gZXh0ZW50IHRvIGJlIHVzZWQgdG8gbGltaXQgdGhlIGJvdW5kcyB1c2VkIHRvIHF1ZXJ5IGFsbCBsYXllcnMgZHVyaW5nIHJlbmRlcmluZy4gU2hvdWxkIGJlIG1pbngsIG1pbnksIG1heHgsIG1heHkgaW4gdGhlIGNvb3JkaW5hdGVzIG9mIHRoZSBNYXAuXCJ9LGJhc2U6e2NzczpcImJhc2VcIixcImRlZmF1bHQtdmFsdWVcIjpcIlwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJUaGlzIGJhc2UgcGF0aCBkZWZhdWx0cyB0byBhbiBlbXB0eSBzdHJpbmcgbWVhbmluZyB0aGF0IGFueSByZWxhdGl2ZSBwYXRocyB0byBmaWxlcyByZWZlcmVuY2VkIGluIHN0eWxlcyBvciBsYXllcnMgd2lsbCBiZSBpbnRlcnByZXRlZCByZWxhdGl2ZSB0byB0aGUgYXBwbGljYXRpb24gcHJvY2Vzcy5cIix0eXBlOlwic3RyaW5nXCIsZG9jOlwiQW55IHJlbGF0aXZlIHBhdGhzIHVzZWQgdG8gcmVmZXJlbmNlIGZpbGVzIHdpbGwgYmUgdW5kZXJzdG9vZCBhcyByZWxhdGl2ZSB0byB0aGlzIGRpcmVjdG9yeSBwYXRoIGlmIHRoZSBtYXAgaXMgbG9hZGVkIGZyb20gYW4gaW4gbWVtb3J5IG9iamVjdCByYXRoZXIgdGhhbiBmcm9tIHRoZSBmaWxlc3lzdGVtLiBJZiB0aGUgbWFwIGlzIGxvYWRlZCBmcm9tIHRoZSBmaWxlc3lzdGVtIGFuZCB0aGlzIG9wdGlvbiBpcyBub3QgcHJvdmlkZWQgaXQgd2lsbCBiZSBzZXQgdG8gdGhlIGRpcmVjdG9yeSBvZiB0aGUgc3R5bGVzaGVldC5cIn0sXCJwYXRocy1mcm9tLXhtbFwiOntjc3M6XCJcIixcImRlZmF1bHQtdmFsdWVcIjohMCxcImRlZmF1bHQtbWVhbmluZ1wiOlwiUGF0aHMgcmVhZCBmcm9tIFhNTCB3aWxsIGJlIGludGVycHJldGVkIGZyb20gdGhlIGxvY2F0aW9uIG9mIHRoZSBYTUxcIix0eXBlOlwiYm9vbGVhblwiLGRvYzpcInZhbHVlIHRvIGNvbnRyb2wgd2hldGhlciBwYXRocyBpbiB0aGUgWE1MIHdpbGwgYmUgaW50ZXJwcmV0ZWQgZnJvbSB0aGUgbG9jYXRpb24gb2YgdGhlIFhNTCBvciBmcm9tIHRoZSB3b3JraW5nIGRpcmVjdG9yeSBvZiB0aGUgcHJvZ3JhbSB0aGF0IGNhbGxzIGxvYWRfbWFwKClcIn0sXCJtaW5pbXVtLXZlcnNpb25cIjp7Y3NzOlwiXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJub25lXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIk1hcG5payB2ZXJzaW9uIHdpbGwgbm90IGJlIGRldGVjdGVkIGFuZCBubyBlcnJvciB3aWxsIGJlIHRocm93biBhYm91dCBjb21wYXRpYmlsaXR5XCIsdHlwZTpcInN0cmluZ1wiLGRvYzpcIlRoZSBtaW51bXVtIE1hcG5payB2ZXJzaW9uIChlLmcuIDAuNy4yKSBuZWVkZWQgdG8gdXNlIGNlcnRhaW4gZnVuY3Rpb25hbGl0eSBpbiB0aGUgc3R5bGVzaGVldFwifSxcImZvbnQtZGlyZWN0b3J5XCI6e2NzczpcImZvbnQtZGlyZWN0b3J5XCIsdHlwZTpcInVyaVwiLFwiZGVmYXVsdC12YWx1ZVwiOlwibm9uZVwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJObyBtYXAtc3BlY2lmaWMgZm9udHMgd2lsbCBiZSByZWdpc3RlcmVkXCIsZG9jOlwiUGF0aCB0byBhIGRpcmVjdG9yeSB3aGljaCBob2xkcyBmb250cyB3aGljaCBzaG91bGQgYmUgcmVnaXN0ZXJlZCB3aGVuIHRoZSBNYXAgaXMgbG9hZGVkIChpbiBhZGRpdGlvbiB0byBhbnkgZm9udHMgdGhhdCBtYXkgYmUgYXV0b21hdGljYWxseSByZWdpc3RlcmVkKS5cIn19LHBvbHlnb246e2ZpbGw6e2NzczpcInBvbHlnb24tZmlsbFwiLHR5cGU6XCJjb2xvclwiLFwiZGVmYXVsdC12YWx1ZVwiOlwicmdiYSgxMjgsMTI4LDEyOCwxKVwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJncmF5IGFuZCBmdWxseSBvcGFxdWUgKGFscGhhID0gMSksIHNhbWUgYXMgcmdiKDEyOCwxMjgsMTI4KVwiLGRvYzpcIkZpbGwgY29sb3IgdG8gYXNzaWduIHRvIGEgcG9seWdvblwiLGV4cHJlc3Npb246ITB9LFwiZmlsbC1vcGFjaXR5XCI6e2NzczpcInBvbHlnb24tb3BhY2l0eVwiLHR5cGU6XCJmbG9hdFwiLGRvYzpcIlRoZSBvcGFjaXR5IG9mIHRoZSBwb2x5Z29uXCIsXCJkZWZhdWx0LXZhbHVlXCI6MSxcImRlZmF1bHQtbWVhbmluZ1wiOlwib3BhcXVlXCJ9LGdhbW1hOntjc3M6XCJwb2x5Z29uLWdhbW1hXCIsdHlwZTpcImZsb2F0XCIsXCJkZWZhdWx0LXZhbHVlXCI6MSxcImRlZmF1bHQtbWVhbmluZ1wiOlwiZnVsbHkgYW50aWFsaWFzZWRcIixyYW5nZTpcIjAtMVwiLGRvYzpcIkxldmVsIG9mIGFudGlhbGlhc2luZyBvZiBwb2x5Z29uIGVkZ2VzXCJ9LFwiZ2FtbWEtbWV0aG9kXCI6e2NzczpcInBvbHlnb24tZ2FtbWEtbWV0aG9kXCIsdHlwZTpbXCJwb3dlclwiLFwibGluZWFyXCIsXCJub25lXCIsXCJ0aHJlc2hvbGRcIixcIm11bHRpcGx5XCJdLFwiZGVmYXVsdC12YWx1ZVwiOlwicG93ZXJcIixcImRlZmF1bHQtbWVhbmluZ1wiOlwicG93KHgsZ2FtbWEpIGlzIHVzZWQgdG8gY2FsY3VsYXRlIHBpeGVsIGdhbW1hLCB3aGljaCBwcm9kdWNlcyBzbGlnaHRseSBzbW9vdGhlciBsaW5lIGFuZCBwb2x5Z29uIGFudGlhbGlhc2luZyB0aGFuIHRoZSAnbGluZWFyJyBtZXRob2QsIHdoaWxlIG90aGVyIG1ldGhvZHMgYXJlIHVzdWFsbHkgb25seSB1c2VkIHRvIGRpc2FibGUgQUFcIixkb2M6XCJBbiBBbnRpZ3JhaW4gR2VvbWV0cnkgc3BlY2lmaWMgcmVuZGVyaW5nIGhpbnQgdG8gY29udHJvbCB0aGUgcXVhbGl0eSBvZiBhbnRpYWxpYXNpbmcuIFVuZGVyIHRoZSBob29kIGluIE1hcG5payB0aGlzIG1ldGhvZCBpcyB1c2VkIGluIGNvbWJpbmF0aW9uIHdpdGggdGhlICdnYW1tYScgdmFsdWUgKHdoaWNoIGRlZmF1bHRzIHRvIDEpLiBUaGUgbWV0aG9kcyBhcmUgaW4gdGhlIEFHRyBzb3VyY2UgYXQgaHR0cHM6Ly9naXRodWIuY29tL21hcG5pay9tYXBuaWsvYmxvYi9tYXN0ZXIvZGVwcy9hZ2cvaW5jbHVkZS9hZ2dfZ2FtbWFfZnVuY3Rpb25zLmhcIn0sY2xpcDp7Y3NzOlwicG9seWdvbi1jbGlwXCIsdHlwZTpcImJvb2xlYW5cIixcImRlZmF1bHQtdmFsdWVcIjohMCxcImRlZmF1bHQtbWVhbmluZ1wiOlwiZ2VvbWV0cnkgd2lsbCBiZSBjbGlwcGVkIHRvIG1hcCBib3VuZHMgYmVmb3JlIHJlbmRlcmluZ1wiLGRvYzpcImdlb21ldHJpZXMgYXJlIGNsaXBwZWQgdG8gbWFwIGJvdW5kcyBieSBkZWZhdWx0IGZvciBiZXN0IHJlbmRlcmluZyBwZXJmb3JtYW5jZS4gSW4gc29tZSBjYXNlcyB1c2VycyBtYXkgd2lzaCB0byBkaXNhYmxlIHRoaXMgdG8gYXZvaWQgcmVuZGVyaW5nIGFydGlmYWN0cy5cIn0sc21vb3RoOntjc3M6XCJwb2x5Z29uLXNtb290aFwiLHR5cGU6XCJmbG9hdFwiLFwiZGVmYXVsdC12YWx1ZVwiOjAsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIm5vIHNtb290aGluZ1wiLHJhbmdlOlwiMC0xXCIsZG9jOlwiU21vb3RocyBvdXQgZ2VvbWV0cnkgYW5nbGVzLiAwIGlzIG5vIHNtb290aGluZywgMSBpcyBmdWxseSBzbW9vdGhlZC4gVmFsdWVzIGdyZWF0ZXIgdGhhbiAxIHdpbGwgcHJvZHVjZSB3aWxkLCBsb29waW5nIGdlb21ldHJpZXMuXCJ9LFwiZ2VvbWV0cnktdHJhbnNmb3JtXCI6e2NzczpcInBvbHlnb24tZ2VvbWV0cnktdHJhbnNmb3JtXCIsdHlwZTpcImZ1bmN0aW9uc1wiLFwiZGVmYXVsdC12YWx1ZVwiOlwibm9uZVwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJnZW9tZXRyeSB3aWxsIG5vdCBiZSB0cmFuc2Zvcm1lZFwiLGRvYzpcIkFsbG93cyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMgdG8gYmUgYXBwbGllZCB0byB0aGUgZ2VvbWV0cnkuXCIsZnVuY3Rpb25zOltbXCJtYXRyaXhcIiw2XSxbXCJ0cmFuc2xhdGVcIiwyXSxbXCJzY2FsZVwiLDJdLFtcInJvdGF0ZVwiLDNdLFtcInNrZXdYXCIsMV0sW1wic2tld1lcIiwxXV19LFwiY29tcC1vcFwiOntjc3M6XCJwb2x5Z29uLWNvbXAtb3BcIixcImRlZmF1bHQtdmFsdWVcIjpcInNyYy1vdmVyXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcImFkZCB0aGUgY3VycmVudCBzeW1ib2xpemVyIG9uIHRvcCBvZiBvdGhlciBzeW1ib2xpemVyXCIsZG9jOlwiQ29tcG9zaXRlIG9wZXJhdGlvbi4gVGhpcyBkZWZpbmVzIGhvdyB0aGlzIHN5bWJvbGl6ZXIgc2hvdWxkIGJlaGF2ZSByZWxhdGl2ZSB0byBzeW1ib2xpemVycyBhdG9wIG9yIGJlbG93IGl0LlwiLHR5cGU6W1wiY2xlYXJcIixcInNyY1wiLFwiZHN0XCIsXCJzcmMtb3ZlclwiLFwiZHN0LW92ZXJcIixcInNyYy1pblwiLFwiZHN0LWluXCIsXCJzcmMtb3V0XCIsXCJkc3Qtb3V0XCIsXCJzcmMtYXRvcFwiLFwiZHN0LWF0b3BcIixcInhvclwiLFwicGx1c1wiLFwibWludXNcIixcIm11bHRpcGx5XCIsXCJzY3JlZW5cIixcIm92ZXJsYXlcIixcImRhcmtlblwiLFwibGlnaHRlblwiLFwiY29sb3ItZG9kZ2VcIixcImNvbG9yLWJ1cm5cIixcImhhcmQtbGlnaHRcIixcInNvZnQtbGlnaHRcIixcImRpZmZlcmVuY2VcIixcImV4Y2x1c2lvblwiLFwiY29udHJhc3RcIixcImludmVydFwiLFwiaW52ZXJ0LXJnYlwiLFwiZ3JhaW4tbWVyZ2VcIixcImdyYWluLWV4dHJhY3RcIixcImh1ZVwiLFwic2F0dXJhdGlvblwiLFwiY29sb3JcIixcInZhbHVlXCJdfX0sbGluZTp7c3Ryb2tlOntjc3M6XCJsaW5lLWNvbG9yXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJyZ2JhKDAsMCwwLDEpXCIsdHlwZTpcImNvbG9yXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcImJsYWNrIGFuZCBmdWxseSBvcGFxdWUgKGFscGhhID0gMSksIHNhbWUgYXMgcmdiKDAsMCwwKVwiLGRvYzpcIlRoZSBjb2xvciBvZiBhIGRyYXduIGxpbmVcIixleHByZXNzaW9uOiEwfSxcInN0cm9rZS13aWR0aFwiOntjc3M6XCJsaW5lLXdpZHRoXCIsXCJkZWZhdWx0LXZhbHVlXCI6MSx0eXBlOlwiZmxvYXRcIixkb2M6XCJUaGUgd2lkdGggb2YgYSBsaW5lIGluIHBpeGVsc1wiLGV4cHJlc3Npb246ITB9LFwic3Ryb2tlLW9wYWNpdHlcIjp7Y3NzOlwibGluZS1vcGFjaXR5XCIsXCJkZWZhdWx0LXZhbHVlXCI6MSx0eXBlOlwiZmxvYXRcIixcImRlZmF1bHQtbWVhbmluZ1wiOlwib3BhcXVlXCIsZG9jOlwiVGhlIG9wYWNpdHkgb2YgYSBsaW5lXCJ9LFwic3Ryb2tlLWxpbmVqb2luXCI6e2NzczpcImxpbmUtam9pblwiLFwiZGVmYXVsdC12YWx1ZVwiOlwibWl0ZXJcIix0eXBlOltcIm1pdGVyXCIsXCJyb3VuZFwiLFwiYmV2ZWxcIl0sZG9jOlwiVGhlIGJlaGF2aW9yIG9mIGxpbmVzIHdoZW4gam9pbmluZ1wifSxcInN0cm9rZS1saW5lY2FwXCI6e2NzczpcImxpbmUtY2FwXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJidXR0XCIsdHlwZTpbXCJidXR0XCIsXCJyb3VuZFwiLFwic3F1YXJlXCJdLGRvYzpcIlRoZSBkaXNwbGF5IG9mIGxpbmUgZW5kaW5nc1wifSxcInN0cm9rZS1nYW1tYVwiOntjc3M6XCJsaW5lLWdhbW1hXCIsdHlwZTpcImZsb2F0XCIsXCJkZWZhdWx0LXZhbHVlXCI6MSxcImRlZmF1bHQtbWVhbmluZ1wiOlwiZnVsbHkgYW50aWFsaWFzZWRcIixyYW5nZTpcIjAtMVwiLGRvYzpcIkxldmVsIG9mIGFudGlhbGlhc2luZyBvZiBzdHJva2UgbGluZVwifSxcInN0cm9rZS1nYW1tYS1tZXRob2RcIjp7Y3NzOlwibGluZS1nYW1tYS1tZXRob2RcIix0eXBlOltcInBvd2VyXCIsXCJsaW5lYXJcIixcIm5vbmVcIixcInRocmVzaG9sZFwiLFwibXVsdGlwbHlcIl0sXCJkZWZhdWx0LXZhbHVlXCI6XCJwb3dlclwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJwb3coeCxnYW1tYSkgaXMgdXNlZCB0byBjYWxjdWxhdGUgcGl4ZWwgZ2FtbWEsIHdoaWNoIHByb2R1Y2VzIHNsaWdodGx5IHNtb290aGVyIGxpbmUgYW5kIHBvbHlnb24gYW50aWFsaWFzaW5nIHRoYW4gdGhlICdsaW5lYXInIG1ldGhvZCwgd2hpbGUgb3RoZXIgbWV0aG9kcyBhcmUgdXN1YWxseSBvbmx5IHVzZWQgdG8gZGlzYWJsZSBBQVwiLGRvYzpcIkFuIEFudGlncmFpbiBHZW9tZXRyeSBzcGVjaWZpYyByZW5kZXJpbmcgaGludCB0byBjb250cm9sIHRoZSBxdWFsaXR5IG9mIGFudGlhbGlhc2luZy4gVW5kZXIgdGhlIGhvb2QgaW4gTWFwbmlrIHRoaXMgbWV0aG9kIGlzIHVzZWQgaW4gY29tYmluYXRpb24gd2l0aCB0aGUgJ2dhbW1hJyB2YWx1ZSAod2hpY2ggZGVmYXVsdHMgdG8gMSkuIFRoZSBtZXRob2RzIGFyZSBpbiB0aGUgQUdHIHNvdXJjZSBhdCBodHRwczovL2dpdGh1Yi5jb20vbWFwbmlrL21hcG5pay9ibG9iL21hc3Rlci9kZXBzL2FnZy9pbmNsdWRlL2FnZ19nYW1tYV9mdW5jdGlvbnMuaFwifSxcInN0cm9rZS1kYXNoYXJyYXlcIjp7Y3NzOlwibGluZS1kYXNoYXJyYXlcIix0eXBlOlwibnVtYmVyc1wiLGRvYzpcIkEgcGFpciBvZiBsZW5ndGggdmFsdWVzIFthLGJdLCB3aGVyZSAoYSkgaXMgdGhlIGRhc2ggbGVuZ3RoIGFuZCAoYikgaXMgdGhlIGdhcCBsZW5ndGggcmVzcGVjdGl2ZWx5LiBNb3JlIHRoYW4gdHdvIHZhbHVlcyBhcmUgc3VwcG9ydGVkIGZvciBtb3JlIGNvbXBsZXggcGF0dGVybnMuXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJub25lXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcInNvbGlkIGxpbmVcIn0sXCJzdHJva2UtZGFzaG9mZnNldFwiOntjc3M6XCJsaW5lLWRhc2gtb2Zmc2V0XCIsdHlwZTpcIm51bWJlcnNcIixkb2M6XCJ2YWxpZCBwYXJhbWV0ZXIgYnV0IG5vdCBjdXJyZW50bHkgdXNlZCBpbiByZW5kZXJlcnMgKG9ubHkgZXhpc3RzIGZvciBleHBlcmltZW50YWwgc3ZnIHN1cHBvcnQgaW4gTWFwbmlrIHdoaWNoIGlzIG5vdCB5ZXQgZW5hYmxlZClcIixcImRlZmF1bHQtdmFsdWVcIjpcIm5vbmVcIixcImRlZmF1bHQtbWVhbmluZ1wiOlwic29saWQgbGluZVwifSxcInN0cm9rZS1taXRlcmxpbWl0XCI6e2NzczpcImxpbmUtbWl0ZXJsaW1pdFwiLHR5cGU6XCJmbG9hdFwiLGRvYzpcIlRoZSBsaW1pdCBvbiB0aGUgcmF0aW8gb2YgdGhlIG1pdGVyIGxlbmd0aCB0byB0aGUgc3Ryb2tlLXdpZHRoLiBVc2VkIHRvIGF1dG9tYXRpY2FsbHkgY29udmVydCBtaXRlciBqb2lucyB0byBiZXZlbCBqb2lucyBmb3Igc2hhcnAgYW5nbGVzIHRvIGF2b2lkIHRoZSBtaXRlciBleHRlbmRpbmcgYmV5b25kIHRoZSB0aGlja25lc3Mgb2YgdGhlIHN0cm9raW5nIHBhdGguIE5vcm1hbGx5IHdpbGwgbm90IG5lZWQgdG8gYmUgc2V0LCBidXQgYSBsYXJnZXIgdmFsdWUgY2FuIHNvbWV0aW1lcyBoZWxwIGF2b2lkIGphZ2d5IGFydGlmYWN0cy5cIixcImRlZmF1bHQtdmFsdWVcIjo0LFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJXaWxsIGF1dG8tY29udmVydCBtaXRlcnMgdG8gYmV2ZWwgbGluZSBqb2lucyB3aGVuIHRoZXRhIGlzIGxlc3MgdGhhbiAyOSBkZWdyZWVzIGFzIHBlciB0aGUgU1ZHIHNwZWM6ICdtaXRlckxlbmd0aCAvIHN0cm9rZS13aWR0aCA9IDEgLyBzaW4gKCB0aGV0YSAvIDIgKSdcIn0sY2xpcDp7Y3NzOlwibGluZS1jbGlwXCIsdHlwZTpcImJvb2xlYW5cIixcImRlZmF1bHQtdmFsdWVcIjohMCxcImRlZmF1bHQtbWVhbmluZ1wiOlwiZ2VvbWV0cnkgd2lsbCBiZSBjbGlwcGVkIHRvIG1hcCBib3VuZHMgYmVmb3JlIHJlbmRlcmluZ1wiLGRvYzpcImdlb21ldHJpZXMgYXJlIGNsaXBwZWQgdG8gbWFwIGJvdW5kcyBieSBkZWZhdWx0IGZvciBiZXN0IHJlbmRlcmluZyBwZXJmb3JtYW5jZS4gSW4gc29tZSBjYXNlcyB1c2VycyBtYXkgd2lzaCB0byBkaXNhYmxlIHRoaXMgdG8gYXZvaWQgcmVuZGVyaW5nIGFydGlmYWN0cy5cIn0sc21vb3RoOntjc3M6XCJsaW5lLXNtb290aFwiLHR5cGU6XCJmbG9hdFwiLFwiZGVmYXVsdC12YWx1ZVwiOjAsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIm5vIHNtb290aGluZ1wiLHJhbmdlOlwiMC0xXCIsZG9jOlwiU21vb3RocyBvdXQgZ2VvbWV0cnkgYW5nbGVzLiAwIGlzIG5vIHNtb290aGluZywgMSBpcyBmdWxseSBzbW9vdGhlZC4gVmFsdWVzIGdyZWF0ZXIgdGhhbiAxIHdpbGwgcHJvZHVjZSB3aWxkLCBsb29waW5nIGdlb21ldHJpZXMuXCJ9LG9mZnNldDp7Y3NzOlwibGluZS1vZmZzZXRcIix0eXBlOlwiZmxvYXRcIixcImRlZmF1bHQtdmFsdWVcIjowLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJubyBvZmZzZXRcIixkb2M6XCJPZmZzZXRzIGEgbGluZSBhIG51bWJlciBvZiBwaXhlbHMgcGFyYWxsZWwgdG8gaXRzIGFjdHVhbCBwYXRoLiBQb3N0aXZlIHZhbHVlcyBtb3ZlIHRoZSBsaW5lIGxlZnQsIG5lZ2F0aXZlIHZhbHVlcyBtb3ZlIGl0IHJpZ2h0IChyZWxhdGl2ZSB0byB0aGUgZGlyZWN0aW9uYWxpdHkgb2YgdGhlIGxpbmUpLlwifSxyYXN0ZXJpemVyOntjc3M6XCJsaW5lLXJhc3Rlcml6ZXJcIix0eXBlOltcImZ1bGxcIixcImZhc3RcIl0sXCJkZWZhdWx0LXZhbHVlXCI6XCJmdWxsXCIsZG9jOlwiRXhwb3NlcyBhbiBhbHRlcm5hdGUgQUdHIHJlbmRlcmluZyBtZXRob2QgdGhhdCBzYWNyaWZpY2VzIHNvbWUgYWNjdXJhY3kgZm9yIHNwZWVkLlwifSxcImdlb21ldHJ5LXRyYW5zZm9ybVwiOntjc3M6XCJsaW5lLWdlb21ldHJ5LXRyYW5zZm9ybVwiLHR5cGU6XCJmdW5jdGlvbnNcIixcImRlZmF1bHQtdmFsdWVcIjpcIm5vbmVcIixcImRlZmF1bHQtbWVhbmluZ1wiOlwiZ2VvbWV0cnkgd2lsbCBub3QgYmUgdHJhbnNmb3JtZWRcIixkb2M6XCJBbGxvd3MgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGdlb21ldHJ5LlwiLGZ1bmN0aW9uczpbW1wibWF0cml4XCIsNl0sW1widHJhbnNsYXRlXCIsMl0sW1wic2NhbGVcIiwyXSxbXCJyb3RhdGVcIiwzXSxbXCJza2V3WFwiLDFdLFtcInNrZXdZXCIsMV1dfSxcImNvbXAtb3BcIjp7Y3NzOlwibGluZS1jb21wLW9wXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJzcmMtb3ZlclwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJhZGQgdGhlIGN1cnJlbnQgc3ltYm9saXplciBvbiB0b3Agb2Ygb3RoZXIgc3ltYm9saXplclwiLGRvYzpcIkNvbXBvc2l0ZSBvcGVyYXRpb24uIFRoaXMgZGVmaW5lcyBob3cgdGhpcyBzeW1ib2xpemVyIHNob3VsZCBiZWhhdmUgcmVsYXRpdmUgdG8gc3ltYm9saXplcnMgYXRvcCBvciBiZWxvdyBpdC5cIix0eXBlOltcImNsZWFyXCIsXCJzcmNcIixcImRzdFwiLFwic3JjLW92ZXJcIixcImRzdC1vdmVyXCIsXCJzcmMtaW5cIixcImRzdC1pblwiLFwic3JjLW91dFwiLFwiZHN0LW91dFwiLFwic3JjLWF0b3BcIixcImRzdC1hdG9wXCIsXCJ4b3JcIixcInBsdXNcIixcIm1pbnVzXCIsXCJtdWx0aXBseVwiLFwic2NyZWVuXCIsXCJvdmVybGF5XCIsXCJkYXJrZW5cIixcImxpZ2h0ZW5cIixcImNvbG9yLWRvZGdlXCIsXCJjb2xvci1idXJuXCIsXCJoYXJkLWxpZ2h0XCIsXCJzb2Z0LWxpZ2h0XCIsXCJkaWZmZXJlbmNlXCIsXCJleGNsdXNpb25cIixcImNvbnRyYXN0XCIsXCJpbnZlcnRcIixcImludmVydC1yZ2JcIixcImdyYWluLW1lcmdlXCIsXCJncmFpbi1leHRyYWN0XCIsXCJodWVcIixcInNhdHVyYXRpb25cIixcImNvbG9yXCIsXCJ2YWx1ZVwiXX19LG1hcmtlcnM6e2ZpbGU6e2NzczpcIm1hcmtlci1maWxlXCIsZG9jOlwiQW4gU1ZHIGZpbGUgdGhhdCB0aGlzIG1hcmtlciBzaG93cyBhdCBlYWNoIHBsYWNlbWVudC4gSWYgbm8gZmlsZSBpcyBnaXZlbiwgdGhlIG1hcmtlciB3aWxsIHNob3cgYW4gZWxsaXBzZS5cIixcImRlZmF1bHQtdmFsdWVcIjpcIlwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJBbiBlbGxpcHNlIG9yIGNpcmNsZSwgaWYgd2lkdGggZXF1YWxzIGhlaWdodFwiLHR5cGU6XCJ1cmlcIn0sb3BhY2l0eTp7Y3NzOlwibWFya2VyLW9wYWNpdHlcIixkb2M6XCJUaGUgb3ZlcmFsbCBvcGFjaXR5IG9mIHRoZSBtYXJrZXIsIGlmIHNldCwgb3ZlcnJpZGVzIGJvdGggdGhlIG9wYWNpdHkgb2YgYm90aCB0aGUgZmlsbCBhbmQgc3Ryb2tlXCIsXCJkZWZhdWx0LXZhbHVlXCI6MSxcImRlZmF1bHQtbWVhbmluZ1wiOlwiVGhlIHN0cm9rZS1vcGFjaXR5IGFuZCBmaWxsLW9wYWNpdHkgd2lsbCBiZSB1c2VkXCIsdHlwZTpcImZsb2F0XCJ9LFwiZmlsbC1vcGFjaXR5XCI6e2NzczpcIm1hcmtlci1maWxsLW9wYWNpdHlcIixkb2M6XCJUaGUgZmlsbCBvcGFjaXR5IG9mIHRoZSBtYXJrZXJcIixcImRlZmF1bHQtdmFsdWVcIjoxLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJvcGFxdWVcIix0eXBlOlwiZmxvYXRcIn0sc3Ryb2tlOntjc3M6XCJtYXJrZXItbGluZS1jb2xvclwiLGRvYzpcIlRoZSBjb2xvciBvZiB0aGUgc3Ryb2tlIGFyb3VuZCBhIG1hcmtlciBzaGFwZS5cIixcImRlZmF1bHQtdmFsdWVcIjpcImJsYWNrXCIsdHlwZTpcImNvbG9yXCJ9LFwic3Ryb2tlLXdpZHRoXCI6e2NzczpcIm1hcmtlci1saW5lLXdpZHRoXCIsZG9jOlwiVGhlIHdpZHRoIG9mIHRoZSBzdHJva2UgYXJvdW5kIGEgbWFya2VyIHNoYXBlLCBpbiBwaXhlbHMuIFRoaXMgaXMgcG9zaXRpb25lZCBvbiB0aGUgYm91bmRhcnksIHNvIGhpZ2ggdmFsdWVzIGNhbiBjb3ZlciB0aGUgYXJlYSBpdHNlbGYuXCIsdHlwZTpcImZsb2F0XCJ9LFwic3Ryb2tlLW9wYWNpdHlcIjp7Y3NzOlwibWFya2VyLWxpbmUtb3BhY2l0eVwiLFwiZGVmYXVsdC12YWx1ZVwiOjEsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIm9wYXF1ZVwiLGRvYzpcIlRoZSBvcGFjaXR5IG9mIGEgbGluZVwiLHR5cGU6XCJmbG9hdFwifSxwbGFjZW1lbnQ6e2NzczpcIm1hcmtlci1wbGFjZW1lbnRcIix0eXBlOltcInBvaW50XCIsXCJsaW5lXCIsXCJpbnRlcmlvclwiXSxcImRlZmF1bHQtdmFsdWVcIjpcInBvaW50XCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIlBsYWNlIG1hcmtlcnMgYXQgdGhlIGNlbnRlciBwb2ludCAoY2VudHJvaWQpIG9mIHRoZSBnZW9tZXRyeVwiLGRvYzpcIkF0dGVtcHQgdG8gcGxhY2UgbWFya2VycyBvbiBhIHBvaW50LCBpbiB0aGUgY2VudGVyIG9mIGEgcG9seWdvbiwgb3IgaWYgbWFya2Vycy1wbGFjZW1lbnQ6bGluZSwgdGhlbiBtdWx0aXBsZSB0aW1lcyBhbG9uZyBhIGxpbmUuICdpbnRlcmlvcicgcGxhY2VtZW50IGNhbiBiZSB1c2VkIHRvIGVuc3VyZSB0aGF0IHBvaW50cyBwbGFjZWQgb24gcG9seWdvbnMgYXJlIGZvcmNlZCB0byBiZSBpbnNpZGUgdGhlIHBvbHlnb24gaW50ZXJpb3JcIn0sXCJtdWx0aS1wb2xpY3lcIjp7Y3NzOlwibWFya2VyLW11bHRpLXBvbGljeVwiLHR5cGU6W1wiZWFjaFwiLFwid2hvbGVcIixcImxhcmdlc3RcIl0sXCJkZWZhdWx0LXZhbHVlXCI6XCJlYWNoXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIklmIGEgZmVhdHVyZSBjb250YWlucyBtdWx0aXBsZSBnZW9tZXRyaWVzIGFuZCB0aGUgcGxhY2VtZW50IHR5cGUgaXMgZWl0aGVyIHBvaW50IG9yIGludGVyaW9yIHRoZW4gYSBtYXJrZXIgd2lsbCBiZSByZW5kZXJlZCBmb3IgZWFjaFwiLGRvYzpcIkEgc3BlY2lhbCBzZXR0aW5nIHRvIGFsbG93IHRoZSB1c2VyIHRvIGNvbnRyb2wgcmVuZGVyaW5nIGJlaGF2aW9yIGZvciAnbXVsdGktZ2VvbWV0cmllcycgKHdoZW4gYSBmZWF0dXJlIGNvbnRhaW5zIG11bHRpcGxlIGdlb21ldHJpZXMpLiBUaGlzIHNldHRpbmcgZG9lcyBub3QgYXBwbHkgdG8gbWFya2VycyBwbGFjZWQgYWxvbmcgbGluZXMuIFRoZSAnZWFjaCcgcG9saWN5IGlzIGRlZmF1bHQgYW5kIG1lYW5zIGFsbCBnZW9tZXRyaWVzIHdpbGwgZ2V0IGEgbWFya2VyLiBUaGUgJ3dob2xlJyBwb2xpY3kgbWVhbnMgdGhhdCB0aGUgYWdncmVnYXRlIGNlbnRyb2lkIGJldHdlZW4gYWxsIGdlb21ldHJpZXMgd2lsbCBiZSB1c2VkLiBUaGUgJ2xhcmdlc3QnIHBvbGljeSBtZWFucyB0aGF0IG9ubHkgdGhlIGxhcmdlc3QgKGJ5IGJvdW5kaW5nIGJveCBhcmVhcykgZmVhdHVyZSB3aWxsIGdldCBhIHJlbmRlcmVkIG1hcmtlciAodGhpcyBpcyBob3cgdGV4dCBsYWJlbGluZyBiZWhhdmVzIGJ5IGRlZmF1bHQpLlwifSxcIm1hcmtlci10eXBlXCI6e2NzczpcIm1hcmtlci10eXBlXCIsdHlwZTpbXCJhcnJvd1wiLFwiZWxsaXBzZVwiLFwicmVjdGFuZ2xlXCJdLFwiZGVmYXVsdC12YWx1ZVwiOlwiZWxsaXBzZVwiLGRvYzpcIlRoZSBkZWZhdWx0IG1hcmtlci10eXBlLiBJZiBhIFNWRyBmaWxlIGlzIG5vdCBnaXZlbiBhcyB0aGUgbWFya2VyLWZpbGUgcGFyYW1ldGVyLCB0aGUgcmVuZGVyZXIgcHJvdmlkZXMgZWl0aGVyIGFuIGFycm93IG9yIGFuIGVsbGlwc2UgKGEgY2lyY2xlIGlmIGhlaWdodCBpcyBlcXVhbCB0byB3aWR0aClcIn0sd2lkdGg6e2NzczpcIm1hcmtlci13aWR0aFwiLFwiZGVmYXVsdC12YWx1ZVwiOjEwLGRvYzpcIlRoZSB3aWR0aCBvZiB0aGUgbWFya2VyLCBpZiB1c2luZyBvbmUgb2YgdGhlIGRlZmF1bHQgdHlwZXMuXCIsdHlwZTpcImZsb2F0XCIsZXhwcmVzc2lvbjohMH0saGVpZ2h0Ontjc3M6XCJtYXJrZXItaGVpZ2h0XCIsXCJkZWZhdWx0LXZhbHVlXCI6MTAsZG9jOlwiVGhlIGhlaWdodCBvZiB0aGUgbWFya2VyLCBpZiB1c2luZyBvbmUgb2YgdGhlIGRlZmF1bHQgdHlwZXMuXCIsdHlwZTpcImZsb2F0XCIsZXhwcmVzc2lvbjohMH0sZmlsbDp7Y3NzOlwibWFya2VyLWZpbGxcIixcImRlZmF1bHQtdmFsdWVcIjpcImJsdWVcIixkb2M6XCJUaGUgY29sb3Igb2YgdGhlIGFyZWEgb2YgdGhlIG1hcmtlci5cIix0eXBlOlwiY29sb3JcIixleHByZXNzaW9uOiEwfSxcImFsbG93LW92ZXJsYXBcIjp7Y3NzOlwibWFya2VyLWFsbG93LW92ZXJsYXBcIix0eXBlOlwiYm9vbGVhblwiLFwiZGVmYXVsdC12YWx1ZVwiOiExLGRvYzpcIkNvbnRyb2wgd2hldGhlciBvdmVybGFwcGluZyBtYXJrZXJzIGFyZSBzaG93biBvciBoaWRkZW4uXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIkRvIG5vdCBhbGxvdyBtYWtlcnMgdG8gb3ZlcmxhcCB3aXRoIGVhY2ggb3RoZXIgLSBvdmVybGFwcGluZyBtYXJrZXJzIHdpbGwgbm90IGJlIHNob3duLlwifSxcImlnbm9yZS1wbGFjZW1lbnRcIjp7Y3NzOlwibWFya2VyLWlnbm9yZS1wbGFjZW1lbnRcIix0eXBlOlwiYm9vbGVhblwiLFwiZGVmYXVsdC12YWx1ZVwiOiExLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJkbyBub3Qgc3RvcmUgdGhlIGJib3ggb2YgdGhpcyBnZW9tZXRyeSBpbiB0aGUgY29sbGlzaW9uIGRldGVjdG9yIGNhY2hlXCIsZG9jOlwidmFsdWUgdG8gY29udHJvbCB3aGV0aGVyIHRoZSBwbGFjZW1lbnQgb2YgdGhlIGZlYXR1cmUgd2lsbCBwcmV2ZW50IHRoZSBwbGFjZW1lbnQgb2Ygb3RoZXIgZmVhdHVyZXNcIn0sc3BhY2luZzp7Y3NzOlwibWFya2VyLXNwYWNpbmdcIixkb2M6XCJTcGFjZSBiZXR3ZWVuIHJlcGVhdGVkIGxhYmVsc1wiLFwiZGVmYXVsdC12YWx1ZVwiOjEwMCx0eXBlOlwiZmxvYXRcIn0sXCJtYXgtZXJyb3JcIjp7Y3NzOlwibWFya2VyLW1heC1lcnJvclwiLHR5cGU6XCJmbG9hdFwiLFwiZGVmYXVsdC12YWx1ZVwiOi4yLGRvYzpcIlRoZSBtYXhpbXVtIGRpZmZlcmVuY2UgYmV0d2VlbiBhY3R1YWwgbWFya2VyIHBsYWNlbWVudCBhbmQgdGhlIG1hcmtlci1zcGFjaW5nIHBhcmFtZXRlci4gU2V0dGluZyBhIGhpZ2ggdmFsdWUgY2FuIGFsbG93IHRoZSByZW5kZXJlciB0byB0cnkgdG8gcmVzb2x2ZSBwbGFjZW1lbnQgY29uZmxpY3RzIHdpdGggb3RoZXIgc3ltYm9saXplcnMuXCJ9LHRyYW5zZm9ybTp7Y3NzOlwibWFya2VyLXRyYW5zZm9ybVwiLHR5cGU6XCJmdW5jdGlvbnNcIixmdW5jdGlvbnM6W1tcIm1hdHJpeFwiLDZdLFtcInRyYW5zbGF0ZVwiLDJdLFtcInNjYWxlXCIsMl0sW1wicm90YXRlXCIsM10sW1wic2tld1hcIiwxXSxbXCJza2V3WVwiLDFdXSxcImRlZmF1bHQtdmFsdWVcIjpcIlwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJObyB0cmFuc2Zvcm1hdGlvblwiLGRvYzpcIlNWRyB0cmFuc2Zvcm1hdGlvbiBkZWZpbml0aW9uXCJ9LGNsaXA6e2NzczpcIm1hcmtlci1jbGlwXCIsdHlwZTpcImJvb2xlYW5cIixcImRlZmF1bHQtdmFsdWVcIjohMCxcImRlZmF1bHQtbWVhbmluZ1wiOlwiZ2VvbWV0cnkgd2lsbCBiZSBjbGlwcGVkIHRvIG1hcCBib3VuZHMgYmVmb3JlIHJlbmRlcmluZ1wiLGRvYzpcImdlb21ldHJpZXMgYXJlIGNsaXBwZWQgdG8gbWFwIGJvdW5kcyBieSBkZWZhdWx0IGZvciBiZXN0IHJlbmRlcmluZyBwZXJmb3JtYW5jZS4gSW4gc29tZSBjYXNlcyB1c2VycyBtYXkgd2lzaCB0byBkaXNhYmxlIHRoaXMgdG8gYXZvaWQgcmVuZGVyaW5nIGFydGlmYWN0cy5cIn0sc21vb3RoOntjc3M6XCJtYXJrZXItc21vb3RoXCIsdHlwZTpcImZsb2F0XCIsXCJkZWZhdWx0LXZhbHVlXCI6MCxcImRlZmF1bHQtbWVhbmluZ1wiOlwibm8gc21vb3RoaW5nXCIscmFuZ2U6XCIwLTFcIixkb2M6XCJTbW9vdGhzIG91dCBnZW9tZXRyeSBhbmdsZXMuIDAgaXMgbm8gc21vb3RoaW5nLCAxIGlzIGZ1bGx5IHNtb290aGVkLiBWYWx1ZXMgZ3JlYXRlciB0aGFuIDEgd2lsbCBwcm9kdWNlIHdpbGQsIGxvb3BpbmcgZ2VvbWV0cmllcy5cIn0sXCJnZW9tZXRyeS10cmFuc2Zvcm1cIjp7Y3NzOlwibWFya2VyLWdlb21ldHJ5LXRyYW5zZm9ybVwiLHR5cGU6XCJmdW5jdGlvbnNcIixcImRlZmF1bHQtdmFsdWVcIjpcIm5vbmVcIixcImRlZmF1bHQtbWVhbmluZ1wiOlwiZ2VvbWV0cnkgd2lsbCBub3QgYmUgdHJhbnNmb3JtZWRcIixkb2M6XCJBbGxvd3MgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zIHRvIGJlIGFwcGxpZWQgdG8gdGhlIGdlb21ldHJ5LlwiLGZ1bmN0aW9uczpbW1wibWF0cml4XCIsNl0sW1widHJhbnNsYXRlXCIsMl0sW1wic2NhbGVcIiwyXSxbXCJyb3RhdGVcIiwzXSxbXCJza2V3WFwiLDFdLFtcInNrZXdZXCIsMV1dfSxcImNvbXAtb3BcIjp7Y3NzOlwibWFya2VyLWNvbXAtb3BcIixcImRlZmF1bHQtdmFsdWVcIjpcInNyYy1vdmVyXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcImFkZCB0aGUgY3VycmVudCBzeW1ib2xpemVyIG9uIHRvcCBvZiBvdGhlciBzeW1ib2xpemVyXCIsZG9jOlwiQ29tcG9zaXRlIG9wZXJhdGlvbi4gVGhpcyBkZWZpbmVzIGhvdyB0aGlzIHN5bWJvbGl6ZXIgc2hvdWxkIGJlaGF2ZSByZWxhdGl2ZSB0byBzeW1ib2xpemVycyBhdG9wIG9yIGJlbG93IGl0LlwiLHR5cGU6W1wiY2xlYXJcIixcInNyY1wiLFwiZHN0XCIsXCJzcmMtb3ZlclwiLFwiZHN0LW92ZXJcIixcInNyYy1pblwiLFwiZHN0LWluXCIsXCJzcmMtb3V0XCIsXCJkc3Qtb3V0XCIsXCJzcmMtYXRvcFwiLFwiZHN0LWF0b3BcIixcInhvclwiLFwicGx1c1wiLFwibWludXNcIixcIm11bHRpcGx5XCIsXCJzY3JlZW5cIixcIm92ZXJsYXlcIixcImRhcmtlblwiLFwibGlnaHRlblwiLFwiY29sb3ItZG9kZ2VcIixcImNvbG9yLWJ1cm5cIixcImhhcmQtbGlnaHRcIixcInNvZnQtbGlnaHRcIixcImRpZmZlcmVuY2VcIixcImV4Y2x1c2lvblwiLFwiY29udHJhc3RcIixcImludmVydFwiLFwiaW52ZXJ0LXJnYlwiLFwiZ3JhaW4tbWVyZ2VcIixcImdyYWluLWV4dHJhY3RcIixcImh1ZVwiLFwic2F0dXJhdGlvblwiLFwiY29sb3JcIixcInZhbHVlXCJdfX0sc2hpZWxkOntuYW1lOntjc3M6XCJzaGllbGQtbmFtZVwiLHR5cGU6XCJzdHJpbmdcIixleHByZXNzaW9uOiEwLHNlcmlhbGl6YXRpb246XCJjb250ZW50XCIsZG9jOidWYWx1ZSB0byB1c2UgZm9yIGEgc2hpZWxkXCJzIHRleHQgbGFiZWwuIERhdGEgY29sdW1ucyBhcmUgc3BlY2lmaWVkIHVzaW5nIGJyYWNrZXRzIGxpa2UgW2NvbHVtbl9uYW1lXSd9LGZpbGU6e2NzczpcInNoaWVsZC1maWxlXCIscmVxdWlyZWQ6ITAsdHlwZTpcInVyaVwiLFwiZGVmYXVsdC12YWx1ZVwiOlwibm9uZVwiLGRvYzpcIkltYWdlIGZpbGUgdG8gcmVuZGVyIGJlaGluZCB0aGUgc2hpZWxkIHRleHRcIn0sXCJmYWNlLW5hbWVcIjp7Y3NzOlwic2hpZWxkLWZhY2UtbmFtZVwiLHR5cGU6XCJzdHJpbmdcIix2YWxpZGF0ZTpcImZvbnRcIixkb2M6XCJGb250IG5hbWUgYW5kIHN0eWxlIHRvIHVzZSBmb3IgdGhlIHNoaWVsZCB0ZXh0XCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJcIixyZXF1aXJlZDohMH0sXCJ1bmxvY2staW1hZ2VcIjp7Y3NzOlwic2hpZWxkLXVubG9jay1pbWFnZVwiLHR5cGU6XCJib29sZWFuXCIsZG9jOlwiVGhpcyBwYXJhbWV0ZXIgc2hvdWxkIGJlIHNldCB0byB0cnVlIGlmIHlvdSBhcmUgdHJ5aW5nIHRvIHBvc2l0aW9uIHRleHQgYmVzaWRlIHJhdGhlciB0aGFuIG9uIHRvcCBvZiB0aGUgc2hpZWxkIGltYWdlXCIsXCJkZWZhdWx0LXZhbHVlXCI6ITEsXCJkZWZhdWx0LW1lYW5pbmdcIjpcInRleHQgYWxpZ25tZW50IHJlbGF0aXZlIHRvIHRoZSBzaGllbGQgaW1hZ2UgdXNlcyB0aGUgY2VudGVyIG9mIHRoZSBpbWFnZSBhcyB0aGUgYW5jaG9yIGZvciB0ZXh0IHBvc2l0aW9uaW5nLlwifSxzaXplOntjc3M6XCJzaGllbGQtc2l6ZVwiLHR5cGU6XCJmbG9hdFwiLGRvYzpcIlRoZSBzaXplIG9mIHRoZSBzaGllbGQgdGV4dCBpbiBwaXhlbHNcIn0sZmlsbDp7Y3NzOlwic2hpZWxkLWZpbGxcIix0eXBlOlwiY29sb3JcIixkb2M6XCJUaGUgY29sb3Igb2YgdGhlIHNoaWVsZCB0ZXh0XCJ9LHBsYWNlbWVudDp7Y3NzOlwic2hpZWxkLXBsYWNlbWVudFwiLHR5cGU6W1wicG9pbnRcIixcImxpbmVcIixcInZlcnRleFwiLFwiaW50ZXJpb3JcIl0sXCJkZWZhdWx0LXZhbHVlXCI6XCJwb2ludFwiLGRvYzpcIkhvdyB0aGlzIHNoaWVsZCBzaG91bGQgYmUgcGxhY2VkLiBQb2ludCBwbGFjZW1lbnQgYXR0ZW1wdHMgdG8gcGxhY2UgaXQgb24gdG9wIG9mIHBvaW50cywgbGluZSBwbGFjZXMgYWxvbmcgbGluZXMgbXVsdGlwbGUgdGltZXMgcGVyIGZlYXR1cmUsIHZlcnRleCBwbGFjZXMgb24gdGhlIHZlcnRleGVzIG9mIHBvbHlnb25zLCBhbmQgaW50ZXJpb3IgYXR0ZW1wdHMgdG8gcGxhY2UgaW5zaWRlIG9mIHBvbHlnb25zLlwifSxcImF2b2lkLWVkZ2VzXCI6e2NzczpcInNoaWVsZC1hdm9pZC1lZGdlc1wiLGRvYzpcIlRlbGwgcG9zaXRpb25pbmcgYWxnb3JpdGhtIHRvIGF2b2lkIGxhYmVsaW5nIG5lYXIgaW50ZXJzZWN0aW9uIGVkZ2VzLlwiLHR5cGU6XCJib29sZWFuXCIsXCJkZWZhdWx0LXZhbHVlXCI6ITF9LFwiYWxsb3ctb3ZlcmxhcFwiOntjc3M6XCJzaGllbGQtYWxsb3ctb3ZlcmxhcFwiLHR5cGU6XCJib29sZWFuXCIsXCJkZWZhdWx0LXZhbHVlXCI6ITEsZG9jOlwiQ29udHJvbCB3aGV0aGVyIG92ZXJsYXBwaW5nIHNoaWVsZHMgYXJlIHNob3duIG9yIGhpZGRlbi5cIixcImRlZmF1bHQtbWVhbmluZ1wiOlwiRG8gbm90IGFsbG93IHNoaWVsZHMgdG8gb3ZlcmxhcCB3aXRoIG90aGVyIG1hcCBlbGVtZW50cyBhbHJlYWR5IHBsYWNlZC5cIn0sXCJtaW5pbXVtLWRpc3RhbmNlXCI6e2NzczpcInNoaWVsZC1taW4tZGlzdGFuY2VcIix0eXBlOlwiZmxvYXRcIixcImRlZmF1bHQtdmFsdWVcIjowLGRvYzpcIk1pbmltdW0gZGlzdGFuY2UgdG8gdGhlIG5leHQgc2hpZWxkIHN5bWJvbCwgbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIHNoaWVsZC5cIn0sc3BhY2luZzp7Y3NzOlwic2hpZWxkLXNwYWNpbmdcIix0eXBlOlwiZmxvYXRcIixcImRlZmF1bHQtdmFsdWVcIjowLGRvYzpcIlRoZSBzcGFjaW5nIGJldHdlZW4gcmVwZWF0ZWQgb2NjdXJyZW5jZXMgb2YgdGhlIHNhbWUgc2hpZWxkIG9uIGEgbGluZVwifSxcIm1pbmltdW0tcGFkZGluZ1wiOntjc3M6XCJzaGllbGQtbWluLXBhZGRpbmdcIixcImRlZmF1bHQtdmFsdWVcIjowLGRvYzpcIkRldGVybWluZXMgdGhlIG1pbmltdW0gYW1vdW50IG9mIHBhZGRpbmcgdGhhdCBhIHNoaWVsZCBnZXRzIHJlbGF0aXZlIHRvIG90aGVyIHNoaWVsZHNcIix0eXBlOlwiZmxvYXRcIn0sXCJ3cmFwLXdpZHRoXCI6e2NzczpcInNoaWVsZC13cmFwLXdpZHRoXCIsdHlwZTpcInVuc2lnbmVkXCIsXCJkZWZhdWx0LXZhbHVlXCI6MCxkb2M6XCJMZW5ndGggb2YgYSBjaHVuayBvZiB0ZXh0IGluIGNoYXJhY3RlcnMgYmVmb3JlIHdyYXBwaW5nIHRleHRcIn0sXCJ3cmFwLWJlZm9yZVwiOntjc3M6XCJzaGllbGQtd3JhcC1iZWZvcmVcIix0eXBlOlwiYm9vbGVhblwiLFwiZGVmYXVsdC12YWx1ZVwiOiExLGRvYzpcIldyYXAgdGV4dCBiZWZvcmUgd3JhcC13aWR0aCBpcyByZWFjaGVkLiBJZiBmYWxzZSwgd3JhcHBlZCBsaW5lcyB3aWxsIGJlIGEgYml0IGxvbmdlciB0aGFuIHdyYXAtd2lkdGguXCJ9LFwid3JhcC1jaGFyYWN0ZXJcIjp7Y3NzOlwic2hpZWxkLXdyYXAtY2hhcmFjdGVyXCIsdHlwZTpcInN0cmluZ1wiLFwiZGVmYXVsdC12YWx1ZVwiOlwiIFwiLGRvYzpcIlVzZSB0aGlzIGNoYXJhY3RlciBpbnN0ZWFkIG9mIGEgc3BhY2UgdG8gd3JhcCBsb25nIG5hbWVzLlwifSxcImhhbG8tZmlsbFwiOntjc3M6XCJzaGllbGQtaGFsby1maWxsXCIsdHlwZTpcImNvbG9yXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCIjRkZGRkZGXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIndoaXRlXCIsZG9jOlwiU3BlY2lmaWVzIHRoZSBjb2xvciBvZiB0aGUgaGFsbyBhcm91bmQgdGhlIHRleHQuXCJ9LFwiaGFsby1yYWRpdXNcIjp7Y3NzOlwic2hpZWxkLWhhbG8tcmFkaXVzXCIsZG9jOlwiU3BlY2lmeSB0aGUgcmFkaXVzIG9mIHRoZSBoYWxvIGluIHBpeGVsc1wiLFwiZGVmYXVsdC12YWx1ZVwiOjAsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIm5vIGhhbG9cIix0eXBlOlwiZmxvYXRcIn0sXCJjaGFyYWN0ZXItc3BhY2luZ1wiOntjc3M6XCJzaGllbGQtY2hhcmFjdGVyLXNwYWNpbmdcIix0eXBlOlwidW5zaWduZWRcIixcImRlZmF1bHQtdmFsdWVcIjowLGRvYzpcIkhvcml6b250YWwgc3BhY2luZyBiZXR3ZWVuIGNoYXJhY3RlcnMgKGluIHBpeGVscykuIEN1cnJlbnRseSB3b3JrcyBmb3IgcG9pbnQgcGxhY2VtZW50IG9ubHksIG5vdCBsaW5lIHBsYWNlbWVudC5cIn0sXCJsaW5lLXNwYWNpbmdcIjp7Y3NzOlwic2hpZWxkLWxpbmUtc3BhY2luZ1wiLGRvYzpcIlZlcnRpY2FsIHNwYWNpbmcgYmV0d2VlbiBsaW5lcyBvZiBtdWx0aWxpbmUgbGFiZWxzIChpbiBwaXhlbHMpXCIsdHlwZTpcInVuc2lnbmVkXCJ9LGR4Ontjc3M6XCJzaGllbGQtdGV4dC1keFwiLHR5cGU6XCJmbG9hdFwiLGRvYzpcIkRpc3BsYWNlIHRleHQgd2l0aGluIHNoaWVsZCBieSBmaXhlZCBhbW91bnQsIGluIHBpeGVscywgKy8tIGFsb25nIHRoZSBYIGF4aXMuICBBIHBvc2l0aXZlIHZhbHVlIHdpbGwgc2hpZnQgdGhlIHRleHQgcmlnaHRcIixcImRlZmF1bHQtdmFsdWVcIjowfSxkeTp7Y3NzOlwic2hpZWxkLXRleHQtZHlcIix0eXBlOlwiZmxvYXRcIixkb2M6XCJEaXNwbGFjZSB0ZXh0IHdpdGhpbiBzaGllbGQgYnkgZml4ZWQgYW1vdW50LCBpbiBwaXhlbHMsICsvLSBhbG9uZyB0aGUgWSBheGlzLiAgQSBwb3NpdGl2ZSB2YWx1ZSB3aWxsIHNoaWZ0IHRoZSB0ZXh0IGRvd25cIixcImRlZmF1bHQtdmFsdWVcIjowfSxcInNoaWVsZC1keFwiOntjc3M6XCJzaGllbGQtZHhcIix0eXBlOlwiZmxvYXRcIixkb2M6XCJEaXNwbGFjZSBzaGllbGQgYnkgZml4ZWQgYW1vdW50LCBpbiBwaXhlbHMsICsvLSBhbG9uZyB0aGUgWCBheGlzLiAgQSBwb3NpdGl2ZSB2YWx1ZSB3aWxsIHNoaWZ0IHRoZSB0ZXh0IHJpZ2h0XCIsXCJkZWZhdWx0LXZhbHVlXCI6MH0sXCJzaGllbGQtZHlcIjp7Y3NzOlwic2hpZWxkLWR5XCIsdHlwZTpcImZsb2F0XCIsZG9jOlwiRGlzcGxhY2Ugc2hpZWxkIGJ5IGZpeGVkIGFtb3VudCwgaW4gcGl4ZWxzLCArLy0gYWxvbmcgdGhlIFkgYXhpcy4gIEEgcG9zaXRpdmUgdmFsdWUgd2lsbCBzaGlmdCB0aGUgdGV4dCBkb3duXCIsXCJkZWZhdWx0LXZhbHVlXCI6MH0sb3BhY2l0eTp7Y3NzOlwic2hpZWxkLW9wYWNpdHlcIix0eXBlOlwiZmxvYXRcIixkb2M6XCIoRGVmYXVsdCAxLjApIC0gb3BhY2l0eSBvZiB0aGUgaW1hZ2UgdXNlZCBmb3IgdGhlIHNoaWVsZFwiLFwiZGVmYXVsdC12YWx1ZVwiOjF9LFwidGV4dC1vcGFjaXR5XCI6e2NzczpcInNoaWVsZC10ZXh0LW9wYWNpdHlcIix0eXBlOlwiZmxvYXRcIixkb2M6XCIoRGVmYXVsdCAxLjApIC0gb3BhY2l0eSBvZiB0aGUgdGV4dCBwbGFjZWQgb24gdG9wIG9mIHRoZSBzaGllbGRcIixcImRlZmF1bHQtdmFsdWVcIjoxfSxcImhvcml6b250YWwtYWxpZ25tZW50XCI6e2NzczpcInNoaWVsZC1ob3Jpem9udGFsLWFsaWdubWVudFwiLHR5cGU6W1wibGVmdFwiLFwibWlkZGxlXCIsXCJyaWdodFwiLFwiYXV0b1wiXSxkb2M6XCJUaGUgc2hpZWxkJ3MgaG9yaXpvbnRhbCBhbGlnbm1lbnQgZnJvbSBpdHMgY2VudGVycG9pbnRcIixcImRlZmF1bHQtdmFsdWVcIjpcImF1dG9cIn0sXCJ2ZXJ0aWNhbC1hbGlnbm1lbnRcIjp7Y3NzOlwic2hpZWxkLXZlcnRpY2FsLWFsaWdubWVudFwiLHR5cGU6W1widG9wXCIsXCJtaWRkbGVcIixcImJvdHRvbVwiLFwiYXV0b1wiXSxkb2M6XCJUaGUgc2hpZWxkJ3MgdmVydGljYWwgYWxpZ25tZW50IGZyb20gaXRzIGNlbnRlcnBvaW50XCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJtaWRkbGVcIn0sXCJ0ZXh0LXRyYW5zZm9ybVwiOntjc3M6XCJzaGllbGQtdGV4dC10cmFuc2Zvcm1cIix0eXBlOltcIm5vbmVcIixcInVwcGVyY2FzZVwiLFwibG93ZXJjYXNlXCIsXCJjYXBpdGFsaXplXCJdLGRvYzpcIlRyYW5zZm9ybSB0aGUgY2FzZSBvZiB0aGUgY2hhcmFjdGVyc1wiLFwiZGVmYXVsdC12YWx1ZVwiOlwibm9uZVwifSxcImp1c3RpZnktYWxpZ25tZW50XCI6e2NzczpcInNoaWVsZC1qdXN0aWZ5LWFsaWdubWVudFwiLHR5cGU6W1wibGVmdFwiLFwiY2VudGVyXCIsXCJyaWdodFwiLFwiYXV0b1wiXSxkb2M6XCJEZWZpbmUgaG93IHRleHQgaW4gYSBzaGllbGQncyBsYWJlbCBpcyBqdXN0aWZpZWRcIixcImRlZmF1bHQtdmFsdWVcIjpcImF1dG9cIn0sY2xpcDp7Y3NzOlwic2hpZWxkLWNsaXBcIix0eXBlOlwiYm9vbGVhblwiLFwiZGVmYXVsdC12YWx1ZVwiOiEwLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJnZW9tZXRyeSB3aWxsIGJlIGNsaXBwZWQgdG8gbWFwIGJvdW5kcyBiZWZvcmUgcmVuZGVyaW5nXCIsZG9jOlwiZ2VvbWV0cmllcyBhcmUgY2xpcHBlZCB0byBtYXAgYm91bmRzIGJ5IGRlZmF1bHQgZm9yIGJlc3QgcmVuZGVyaW5nIHBlcmZvcm1hbmNlLiBJbiBzb21lIGNhc2VzIHVzZXJzIG1heSB3aXNoIHRvIGRpc2FibGUgdGhpcyB0byBhdm9pZCByZW5kZXJpbmcgYXJ0aWZhY3RzLlwifSxcImNvbXAtb3BcIjp7Y3NzOlwic2hpZWxkLWNvbXAtb3BcIixcImRlZmF1bHQtdmFsdWVcIjpcInNyYy1vdmVyXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcImFkZCB0aGUgY3VycmVudCBzeW1ib2xpemVyIG9uIHRvcCBvZiBvdGhlciBzeW1ib2xpemVyXCIsZG9jOlwiQ29tcG9zaXRlIG9wZXJhdGlvbi4gVGhpcyBkZWZpbmVzIGhvdyB0aGlzIHN5bWJvbGl6ZXIgc2hvdWxkIGJlaGF2ZSByZWxhdGl2ZSB0byBzeW1ib2xpemVycyBhdG9wIG9yIGJlbG93IGl0LlwiLHR5cGU6W1wiY2xlYXJcIixcInNyY1wiLFwiZHN0XCIsXCJzcmMtb3ZlclwiLFwiZHN0LW92ZXJcIixcInNyYy1pblwiLFwiZHN0LWluXCIsXCJzcmMtb3V0XCIsXCJkc3Qtb3V0XCIsXCJzcmMtYXRvcFwiLFwiZHN0LWF0b3BcIixcInhvclwiLFwicGx1c1wiLFwibWludXNcIixcIm11bHRpcGx5XCIsXCJzY3JlZW5cIixcIm92ZXJsYXlcIixcImRhcmtlblwiLFwibGlnaHRlblwiLFwiY29sb3ItZG9kZ2VcIixcImNvbG9yLWJ1cm5cIixcImhhcmQtbGlnaHRcIixcInNvZnQtbGlnaHRcIixcImRpZmZlcmVuY2VcIixcImV4Y2x1c2lvblwiLFwiY29udHJhc3RcIixcImludmVydFwiLFwiaW52ZXJ0LXJnYlwiLFwiZ3JhaW4tbWVyZ2VcIixcImdyYWluLWV4dHJhY3RcIixcImh1ZVwiLFwic2F0dXJhdGlvblwiLFwiY29sb3JcIixcInZhbHVlXCJdfX0sXCJsaW5lLXBhdHRlcm5cIjp7ZmlsZTp7Y3NzOlwibGluZS1wYXR0ZXJuLWZpbGVcIix0eXBlOlwidXJpXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJub25lXCIscmVxdWlyZWQ6ITAsZG9jOlwiQW4gaW1hZ2UgZmlsZSB0byBiZSByZXBlYXRlZCBhbmQgd2FycGVkIGFsb25nIGEgbGluZVwifSxjbGlwOntjc3M6XCJsaW5lLXBhdHRlcm4tY2xpcFwiLHR5cGU6XCJib29sZWFuXCIsXCJkZWZhdWx0LXZhbHVlXCI6ITAsXCJkZWZhdWx0LW1lYW5pbmdcIjpcImdlb21ldHJ5IHdpbGwgYmUgY2xpcHBlZCB0byBtYXAgYm91bmRzIGJlZm9yZSByZW5kZXJpbmdcIixkb2M6XCJnZW9tZXRyaWVzIGFyZSBjbGlwcGVkIHRvIG1hcCBib3VuZHMgYnkgZGVmYXVsdCBmb3IgYmVzdCByZW5kZXJpbmcgcGVyZm9ybWFuY2UuIEluIHNvbWUgY2FzZXMgdXNlcnMgbWF5IHdpc2ggdG8gZGlzYWJsZSB0aGlzIHRvIGF2b2lkIHJlbmRlcmluZyBhcnRpZmFjdHMuXCJ9LHNtb290aDp7Y3NzOlwibGluZS1wYXR0ZXJuLXNtb290aFwiLHR5cGU6XCJmbG9hdFwiLFwiZGVmYXVsdC12YWx1ZVwiOjAsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIm5vIHNtb290aGluZ1wiLHJhbmdlOlwiMC0xXCIsZG9jOlwiU21vb3RocyBvdXQgZ2VvbWV0cnkgYW5nbGVzLiAwIGlzIG5vIHNtb290aGluZywgMSBpcyBmdWxseSBzbW9vdGhlZC4gVmFsdWVzIGdyZWF0ZXIgdGhhbiAxIHdpbGwgcHJvZHVjZSB3aWxkLCBsb29waW5nIGdlb21ldHJpZXMuXCJ9LFwiZ2VvbWV0cnktdHJhbnNmb3JtXCI6e2NzczpcImxpbmUtcGF0dGVybi1nZW9tZXRyeS10cmFuc2Zvcm1cIix0eXBlOlwiZnVuY3Rpb25zXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJub25lXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcImdlb21ldHJ5IHdpbGwgbm90IGJlIHRyYW5zZm9ybWVkXCIsZG9jOlwiQWxsb3dzIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucyB0byBiZSBhcHBsaWVkIHRvIHRoZSBnZW9tZXRyeS5cIixmdW5jdGlvbnM6W1tcIm1hdHJpeFwiLDZdLFtcInRyYW5zbGF0ZVwiLDJdLFtcInNjYWxlXCIsMl0sW1wicm90YXRlXCIsM10sW1wic2tld1hcIiwxXSxbXCJza2V3WVwiLDFdXX0sXCJjb21wLW9wXCI6e2NzczpcImxpbmUtcGF0dGVybi1jb21wLW9wXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJzcmMtb3ZlclwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJhZGQgdGhlIGN1cnJlbnQgc3ltYm9saXplciBvbiB0b3Agb2Ygb3RoZXIgc3ltYm9saXplclwiLGRvYzpcIkNvbXBvc2l0ZSBvcGVyYXRpb24uIFRoaXMgZGVmaW5lcyBob3cgdGhpcyBzeW1ib2xpemVyIHNob3VsZCBiZWhhdmUgcmVsYXRpdmUgdG8gc3ltYm9saXplcnMgYXRvcCBvciBiZWxvdyBpdC5cIix0eXBlOltcImNsZWFyXCIsXCJzcmNcIixcImRzdFwiLFwic3JjLW92ZXJcIixcImRzdC1vdmVyXCIsXCJzcmMtaW5cIixcImRzdC1pblwiLFwic3JjLW91dFwiLFwiZHN0LW91dFwiLFwic3JjLWF0b3BcIixcImRzdC1hdG9wXCIsXCJ4b3JcIixcInBsdXNcIixcIm1pbnVzXCIsXCJtdWx0aXBseVwiLFwic2NyZWVuXCIsXCJvdmVybGF5XCIsXCJkYXJrZW5cIixcImxpZ2h0ZW5cIixcImNvbG9yLWRvZGdlXCIsXCJjb2xvci1idXJuXCIsXCJoYXJkLWxpZ2h0XCIsXCJzb2Z0LWxpZ2h0XCIsXCJkaWZmZXJlbmNlXCIsXCJleGNsdXNpb25cIixcImNvbnRyYXN0XCIsXCJpbnZlcnRcIixcImludmVydC1yZ2JcIixcImdyYWluLW1lcmdlXCIsXCJncmFpbi1leHRyYWN0XCIsXCJodWVcIixcInNhdHVyYXRpb25cIixcImNvbG9yXCIsXCJ2YWx1ZVwiXX19LFwicG9seWdvbi1wYXR0ZXJuXCI6e2ZpbGU6e2NzczpcInBvbHlnb24tcGF0dGVybi1maWxlXCIsdHlwZTpcInVyaVwiLFwiZGVmYXVsdC12YWx1ZVwiOlwibm9uZVwiLHJlcXVpcmVkOiEwLGRvYzpcIkltYWdlIHRvIHVzZSBhcyBhIHJlcGVhdGVkIHBhdHRlcm4gZmlsbCB3aXRoaW4gYSBwb2x5Z29uXCJ9LGFsaWdubWVudDp7Y3NzOlwicG9seWdvbi1wYXR0ZXJuLWFsaWdubWVudFwiLHR5cGU6W1wibG9jYWxcIixcImdsb2JhbFwiXSxcImRlZmF1bHQtdmFsdWVcIjpcImxvY2FsXCIsZG9jOlwiU3BlY2lmeSB3aGV0aGVyIHRvIGFsaWduIHBhdHRlcm4gZmlsbHMgdG8gdGhlIGxheWVyIG9yIHRvIHRoZSBtYXAuXCJ9LGdhbW1hOntjc3M6XCJwb2x5Z29uLXBhdHRlcm4tZ2FtbWFcIix0eXBlOlwiZmxvYXRcIixcImRlZmF1bHQtdmFsdWVcIjoxLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJmdWxseSBhbnRpYWxpYXNlZFwiLHJhbmdlOlwiMC0xXCIsZG9jOlwiTGV2ZWwgb2YgYW50aWFsaWFzaW5nIG9mIHBvbHlnb24gcGF0dGVybiBlZGdlc1wifSxvcGFjaXR5Ontjc3M6XCJwb2x5Z29uLXBhdHRlcm4tb3BhY2l0eVwiLHR5cGU6XCJmbG9hdFwiLGRvYzpcIihEZWZhdWx0IDEuMCkgLSBBcHBseSBhbiBvcGFjaXR5IGxldmVsIHRvIHRoZSBpbWFnZSB1c2VkIGZvciB0aGUgcGF0dGVyblwiLFwiZGVmYXVsdC12YWx1ZVwiOjEsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIlRoZSBpbWFnZSBpcyByZW5kZXJlZCB3aXRob3V0IG1vZGlmaWNhdGlvbnNcIn0sY2xpcDp7Y3NzOlwicG9seWdvbi1wYXR0ZXJuLWNsaXBcIix0eXBlOlwiYm9vbGVhblwiLFwiZGVmYXVsdC12YWx1ZVwiOiEwLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJnZW9tZXRyeSB3aWxsIGJlIGNsaXBwZWQgdG8gbWFwIGJvdW5kcyBiZWZvcmUgcmVuZGVyaW5nXCIsZG9jOlwiZ2VvbWV0cmllcyBhcmUgY2xpcHBlZCB0byBtYXAgYm91bmRzIGJ5IGRlZmF1bHQgZm9yIGJlc3QgcmVuZGVyaW5nIHBlcmZvcm1hbmNlLiBJbiBzb21lIGNhc2VzIHVzZXJzIG1heSB3aXNoIHRvIGRpc2FibGUgdGhpcyB0byBhdm9pZCByZW5kZXJpbmcgYXJ0aWZhY3RzLlwifSxzbW9vdGg6e2NzczpcInBvbHlnb24tcGF0dGVybi1zbW9vdGhcIix0eXBlOlwiZmxvYXRcIixcImRlZmF1bHQtdmFsdWVcIjowLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJubyBzbW9vdGhpbmdcIixyYW5nZTpcIjAtMVwiLGRvYzpcIlNtb290aHMgb3V0IGdlb21ldHJ5IGFuZ2xlcy4gMCBpcyBubyBzbW9vdGhpbmcsIDEgaXMgZnVsbHkgc21vb3RoZWQuIFZhbHVlcyBncmVhdGVyIHRoYW4gMSB3aWxsIHByb2R1Y2Ugd2lsZCwgbG9vcGluZyBnZW9tZXRyaWVzLlwifSxcImdlb21ldHJ5LXRyYW5zZm9ybVwiOntjc3M6XCJwb2x5Z29uLXBhdHRlcm4tZ2VvbWV0cnktdHJhbnNmb3JtXCIsdHlwZTpcImZ1bmN0aW9uc1wiLFwiZGVmYXVsdC12YWx1ZVwiOlwibm9uZVwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJnZW9tZXRyeSB3aWxsIG5vdCBiZSB0cmFuc2Zvcm1lZFwiLGRvYzpcIkFsbG93cyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMgdG8gYmUgYXBwbGllZCB0byB0aGUgZ2VvbWV0cnkuXCIsZnVuY3Rpb25zOltbXCJtYXRyaXhcIiw2XSxbXCJ0cmFuc2xhdGVcIiwyXSxbXCJzY2FsZVwiLDJdLFtcInJvdGF0ZVwiLDNdLFtcInNrZXdYXCIsMV0sW1wic2tld1lcIiwxXV19LFwiY29tcC1vcFwiOntjc3M6XCJwb2x5Z29uLXBhdHRlcm4tY29tcC1vcFwiLFwiZGVmYXVsdC12YWx1ZVwiOlwic3JjLW92ZXJcIixcImRlZmF1bHQtbWVhbmluZ1wiOlwiYWRkIHRoZSBjdXJyZW50IHN5bWJvbGl6ZXIgb24gdG9wIG9mIG90aGVyIHN5bWJvbGl6ZXJcIixkb2M6XCJDb21wb3NpdGUgb3BlcmF0aW9uLiBUaGlzIGRlZmluZXMgaG93IHRoaXMgc3ltYm9saXplciBzaG91bGQgYmVoYXZlIHJlbGF0aXZlIHRvIHN5bWJvbGl6ZXJzIGF0b3Agb3IgYmVsb3cgaXQuXCIsdHlwZTpbXCJjbGVhclwiLFwic3JjXCIsXCJkc3RcIixcInNyYy1vdmVyXCIsXCJkc3Qtb3ZlclwiLFwic3JjLWluXCIsXCJkc3QtaW5cIixcInNyYy1vdXRcIixcImRzdC1vdXRcIixcInNyYy1hdG9wXCIsXCJkc3QtYXRvcFwiLFwieG9yXCIsXCJwbHVzXCIsXCJtaW51c1wiLFwibXVsdGlwbHlcIixcInNjcmVlblwiLFwib3ZlcmxheVwiLFwiZGFya2VuXCIsXCJsaWdodGVuXCIsXCJjb2xvci1kb2RnZVwiLFwiY29sb3ItYnVyblwiLFwiaGFyZC1saWdodFwiLFwic29mdC1saWdodFwiLFwiZGlmZmVyZW5jZVwiLFwiZXhjbHVzaW9uXCIsXCJjb250cmFzdFwiLFwiaW52ZXJ0XCIsXCJpbnZlcnQtcmdiXCIsXCJncmFpbi1tZXJnZVwiLFwiZ3JhaW4tZXh0cmFjdFwiLFwiaHVlXCIsXCJzYXR1cmF0aW9uXCIsXCJjb2xvclwiLFwidmFsdWVcIl19fSxyYXN0ZXI6e29wYWNpdHk6e2NzczpcInJhc3Rlci1vcGFjaXR5XCIsXCJkZWZhdWx0LXZhbHVlXCI6MSxcImRlZmF1bHQtbWVhbmluZ1wiOlwib3BhcXVlXCIsdHlwZTpcImZsb2F0XCIsZG9jOlwiVGhlIG9wYWNpdHkgb2YgdGhlIHJhc3RlciBzeW1ib2xpemVyIG9uIHRvcCBvZiBvdGhlciBzeW1ib2xpemVycy5cIn0sXCJmaWx0ZXItZmFjdG9yXCI6e2NzczpcInJhc3Rlci1maWx0ZXItZmFjdG9yXCIsXCJkZWZhdWx0LXZhbHVlXCI6LTEsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIkFsbG93IHRoZSBkYXRhc291cmNlIHRvIGNob29zZSBhcHByb3ByaWF0ZSBkb3duc2NhbGluZy5cIix0eXBlOlwiZmxvYXRcIixkb2M6XCJUaGlzIGlzIHVzZWQgYnkgdGhlIFJhc3RlciBvciBHZGFsIGRhdGFzb3VyY2VzIHRvIHByZS1kb3duc2NhbGUgaW1hZ2VzIHVzaW5nIG92ZXJ2aWV3cy4gSGlnaGVyIG51bWJlcnMgY2FuIHNvbWV0aW1lcyBjYXVzZSBtdWNoIGJldHRlciBzY2FsZWQgaW1hZ2Ugb3V0cHV0LCBhdCB0aGUgY29zdCBvZiBzcGVlZC5cIn0sc2NhbGluZzp7Y3NzOlwicmFzdGVyLXNjYWxpbmdcIix0eXBlOltcIm5lYXJcIixcImZhc3RcIixcImJpbGluZWFyXCIsXCJiaWxpbmVhcjhcIixcImJpY3ViaWNcIixcInNwbGluZTE2XCIsXCJzcGxpbmUzNlwiLFwiaGFubmluZ1wiLFwiaGFtbWluZ1wiLFwiaGVybWl0ZVwiLFwia2Fpc2VyXCIsXCJxdWFkcmljXCIsXCJjYXRyb21cIixcImdhdXNzaWFuXCIsXCJiZXNzZWxcIixcIm1pdGNoZWxsXCIsXCJzaW5jXCIsXCJsYW5jem9zXCIsXCJibGFja21hblwiXSxcImRlZmF1bHQtdmFsdWVcIjpcIm5lYXJcIixkb2M6XCJUaGUgc2NhbGluZyBhbGdvcml0aG0gdXNlZCB0byBtYWtpbmcgZGlmZmVyZW50IHJlc29sdXRpb24gdmVyc2lvbnMgb2YgdGhpcyByYXN0ZXIgbGF5ZXIuIEJpbGluZWFyIGlzIGEgZ29vZCBjb21wcm9taXNlIGJldHdlZW4gc3BlZWQgYW5kIGFjY3VyYWN5LCB3aGlsZSBsYW5jem9zIGdpdmVzIHRoZSBoaWdoZXN0IHF1YWxpdHkuXCJ9LFwibWVzaC1zaXplXCI6e2NzczpcInJhc3Rlci1tZXNoLXNpemVcIixcImRlZmF1bHQtdmFsdWVcIjoxNixcImRlZmF1bHQtbWVhbmluZ1wiOlwiUmVwcm9qZWN0aW9uIG1lc2ggd2lsbCBiZSAxLzE2IG9mIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBzb3VyY2UgaW1hZ2VcIix0eXBlOlwidW5zaWduZWRcIixkb2M6XCJBIHJlZHVjZWQgcmVzb2x1dGlvbiBtZXNoIGlzIHVzZWQgZm9yIHJhc3RlciByZXByb2plY3Rpb24sIGFuZCB0aGUgdG90YWwgaW1hZ2Ugc2l6ZSBpcyBkaXZpZGVkIGJ5IHRoZSBtZXNoLXNpemUgdG8gZGV0ZXJtaW5lIHRoZSBxdWFsaXR5IG9mIHRoYXQgbWVzaC4gVmFsdWVzIGZvciBtZXNoLXNpemUgbGFyZ2VyIHRoYW4gdGhlIGRlZmF1bHQgd2lsbCByZXN1bHQgaW4gZmFzdGVyIHJlcHJvamVjdGlvbiBidXQgbWlnaHQgbGVhZCB0byBkaXN0b3J0aW9uLlwifSxcImNvbXAtb3BcIjp7Y3NzOlwicmFzdGVyLWNvbXAtb3BcIixcImRlZmF1bHQtdmFsdWVcIjpcInNyYy1vdmVyXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcImFkZCB0aGUgY3VycmVudCBzeW1ib2xpemVyIG9uIHRvcCBvZiBvdGhlciBzeW1ib2xpemVyXCIsZG9jOlwiQ29tcG9zaXRlIG9wZXJhdGlvbi4gVGhpcyBkZWZpbmVzIGhvdyB0aGlzIHN5bWJvbGl6ZXIgc2hvdWxkIGJlaGF2ZSByZWxhdGl2ZSB0byBzeW1ib2xpemVycyBhdG9wIG9yIGJlbG93IGl0LlwiLHR5cGU6W1wiY2xlYXJcIixcInNyY1wiLFwiZHN0XCIsXCJzcmMtb3ZlclwiLFwiZHN0LW92ZXJcIixcInNyYy1pblwiLFwiZHN0LWluXCIsXCJzcmMtb3V0XCIsXCJkc3Qtb3V0XCIsXCJzcmMtYXRvcFwiLFwiZHN0LWF0b3BcIixcInhvclwiLFwicGx1c1wiLFwibWludXNcIixcIm11bHRpcGx5XCIsXCJzY3JlZW5cIixcIm92ZXJsYXlcIixcImRhcmtlblwiLFwibGlnaHRlblwiLFwiY29sb3ItZG9kZ2VcIixcImNvbG9yLWJ1cm5cIixcImhhcmQtbGlnaHRcIixcInNvZnQtbGlnaHRcIixcImRpZmZlcmVuY2VcIixcImV4Y2x1c2lvblwiLFwiY29udHJhc3RcIixcImludmVydFwiLFwiaW52ZXJ0LXJnYlwiLFwiZ3JhaW4tbWVyZ2VcIixcImdyYWluLWV4dHJhY3RcIixcImh1ZVwiLFwic2F0dXJhdGlvblwiLFwiY29sb3JcIixcInZhbHVlXCJdfX0scG9pbnQ6e2ZpbGU6e2NzczpcInBvaW50LWZpbGVcIix0eXBlOlwidXJpXCIscmVxdWlyZWQ6ITEsXCJkZWZhdWx0LXZhbHVlXCI6XCJub25lXCIsZG9jOlwiSW1hZ2UgZmlsZSB0byByZXByZXNlbnQgYSBwb2ludFwifSxcImFsbG93LW92ZXJsYXBcIjp7Y3NzOlwicG9pbnQtYWxsb3ctb3ZlcmxhcFwiLHR5cGU6XCJib29sZWFuXCIsXCJkZWZhdWx0LXZhbHVlXCI6ITEsZG9jOlwiQ29udHJvbCB3aGV0aGVyIG92ZXJsYXBwaW5nIHBvaW50cyBhcmUgc2hvd24gb3IgaGlkZGVuLlwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJEbyBub3QgYWxsb3cgcG9pbnRzIHRvIG92ZXJsYXAgd2l0aCBlYWNoIG90aGVyIC0gb3ZlcmxhcHBpbmcgbWFya2VycyB3aWxsIG5vdCBiZSBzaG93bi5cIn0sXCJpZ25vcmUtcGxhY2VtZW50XCI6e2NzczpcInBvaW50LWlnbm9yZS1wbGFjZW1lbnRcIix0eXBlOlwiYm9vbGVhblwiLFwiZGVmYXVsdC12YWx1ZVwiOiExLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJkbyBub3Qgc3RvcmUgdGhlIGJib3ggb2YgdGhpcyBnZW9tZXRyeSBpbiB0aGUgY29sbGlzaW9uIGRldGVjdG9yIGNhY2hlXCIsZG9jOlwidmFsdWUgdG8gY29udHJvbCB3aGV0aGVyIHRoZSBwbGFjZW1lbnQgb2YgdGhlIGZlYXR1cmUgd2lsbCBwcmV2ZW50IHRoZSBwbGFjZW1lbnQgb2Ygb3RoZXIgZmVhdHVyZXNcIn0sb3BhY2l0eTp7Y3NzOlwicG9pbnQtb3BhY2l0eVwiLHR5cGU6XCJmbG9hdFwiLFwiZGVmYXVsdC12YWx1ZVwiOjEsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIkZ1bGx5IG9wYXF1ZVwiLGRvYzpcIkEgdmFsdWUgZnJvbSAwIHRvIDEgdG8gY29udHJvbCB0aGUgb3BhY2l0eSBvZiB0aGUgcG9pbnRcIn0scGxhY2VtZW50Ontjc3M6XCJwb2ludC1wbGFjZW1lbnRcIix0eXBlOltcImNlbnRyb2lkXCIsXCJpbnRlcmlvclwiXSxkb2M6XCJIb3cgdGhpcyBwb2ludCBzaG91bGQgYmUgcGxhY2VkLiBDZW50cm9pZCBjYWxjdWxhdGVzIHRoZSBnZW9tZXRyaWMgY2VudGVyIG9mIGEgcG9seWdvbiwgd2hpY2ggY2FuIGJlIG91dHNpZGUgb2YgaXQsIHdoaWxlIGludGVyaW9yIGFsd2F5cyBwbGFjZXMgaW5zaWRlIG9mIGEgcG9seWdvbi5cIixcImRlZmF1bHQtdmFsdWVcIjpcImNlbnRyb2lkXCJ9LHRyYW5zZm9ybTp7Y3NzOlwicG9pbnQtdHJhbnNmb3JtXCIsdHlwZTpcImZ1bmN0aW9uc1wiLGZ1bmN0aW9uczpbW1wibWF0cml4XCIsNl0sW1widHJhbnNsYXRlXCIsMl0sW1wic2NhbGVcIiwyXSxbXCJyb3RhdGVcIiwzXSxbXCJza2V3WFwiLDFdLFtcInNrZXdZXCIsMV1dLFwiZGVmYXVsdC12YWx1ZVwiOlwiXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIk5vIHRyYW5zZm9ybWF0aW9uXCIsZG9jOlwiU1ZHIHRyYW5zZm9ybWF0aW9uIGRlZmluaXRpb25cIn0sXCJjb21wLW9wXCI6e2NzczpcInBvaW50LWNvbXAtb3BcIixcImRlZmF1bHQtdmFsdWVcIjpcInNyYy1vdmVyXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcImFkZCB0aGUgY3VycmVudCBzeW1ib2xpemVyIG9uIHRvcCBvZiBvdGhlciBzeW1ib2xpemVyXCIsZG9jOlwiQ29tcG9zaXRlIG9wZXJhdGlvbi4gVGhpcyBkZWZpbmVzIGhvdyB0aGlzIHN5bWJvbGl6ZXIgc2hvdWxkIGJlaGF2ZSByZWxhdGl2ZSB0byBzeW1ib2xpemVycyBhdG9wIG9yIGJlbG93IGl0LlwiLHR5cGU6W1wiY2xlYXJcIixcInNyY1wiLFwiZHN0XCIsXCJzcmMtb3ZlclwiLFwiZHN0LW92ZXJcIixcInNyYy1pblwiLFwiZHN0LWluXCIsXCJzcmMtb3V0XCIsXCJkc3Qtb3V0XCIsXCJzcmMtYXRvcFwiLFwiZHN0LWF0b3BcIixcInhvclwiLFwicGx1c1wiLFwibWludXNcIixcIm11bHRpcGx5XCIsXCJzY3JlZW5cIixcIm92ZXJsYXlcIixcImRhcmtlblwiLFwibGlnaHRlblwiLFwiY29sb3ItZG9kZ2VcIixcImNvbG9yLWJ1cm5cIixcImhhcmQtbGlnaHRcIixcInNvZnQtbGlnaHRcIixcImRpZmZlcmVuY2VcIixcImV4Y2x1c2lvblwiLFwiY29udHJhc3RcIixcImludmVydFwiLFwiaW52ZXJ0LXJnYlwiLFwiZ3JhaW4tbWVyZ2VcIixcImdyYWluLWV4dHJhY3RcIixcImh1ZVwiLFwic2F0dXJhdGlvblwiLFwiY29sb3JcIixcInZhbHVlXCJdfX0sdGV4dDp7bmFtZTp7Y3NzOlwidGV4dC1uYW1lXCIsdHlwZTpcInN0cmluZ1wiLGV4cHJlc3Npb246ITAscmVxdWlyZWQ6ITAsXCJkZWZhdWx0LXZhbHVlXCI6XCJcIixzZXJpYWxpemF0aW9uOlwiY29udGVudFwiLGRvYzpcIlZhbHVlIHRvIHVzZSBmb3IgYSB0ZXh0IGxhYmVsLiBEYXRhIGNvbHVtbnMgYXJlIHNwZWNpZmllZCB1c2luZyBicmFja2V0cyBsaWtlIFtjb2x1bW5fbmFtZV1cIn0sXCJmYWNlLW5hbWVcIjp7Y3NzOlwidGV4dC1mYWNlLW5hbWVcIix0eXBlOlwic3RyaW5nXCIsdmFsaWRhdGU6XCJmb250XCIsZG9jOlwiRm9udCBuYW1lIGFuZCBzdHlsZSB0byByZW5kZXIgYSBsYWJlbCBpblwiLHJlcXVpcmVkOiEwfSxzaXplOntjc3M6XCJ0ZXh0LXNpemVcIix0eXBlOlwiZmxvYXRcIixcImRlZmF1bHQtdmFsdWVcIjoxMCxkb2M6XCJUZXh0IHNpemUgaW4gcGl4ZWxzXCJ9LFwidGV4dC1yYXRpb1wiOntjc3M6XCJ0ZXh0LXJhdGlvXCIsZG9jOlwiRGVmaW5lIHRoZSBhbW91bnQgb2YgdGV4dCAob2YgdGhlIHRvdGFsKSBwcmVzZW50IG9uIHN1Y2Nlc3NpdmUgbGluZXMgd2hlbiB3cmFwcGluZyBvY2N1cnNcIixcImRlZmF1bHQtdmFsdWVcIjowLHR5cGU6XCJ1bnNpZ25lZFwifSxcIndyYXAtd2lkdGhcIjp7Y3NzOlwidGV4dC13cmFwLXdpZHRoXCIsZG9jOlwiTGVuZ3RoIG9mIGEgY2h1bmsgb2YgdGV4dCBpbiBjaGFyYWN0ZXJzIGJlZm9yZSB3cmFwcGluZyB0ZXh0XCIsXCJkZWZhdWx0LXZhbHVlXCI6MCx0eXBlOlwidW5zaWduZWRcIn0sXCJ3cmFwLWJlZm9yZVwiOntjc3M6XCJ0ZXh0LXdyYXAtYmVmb3JlXCIsdHlwZTpcImJvb2xlYW5cIixcImRlZmF1bHQtdmFsdWVcIjohMSxkb2M6XCJXcmFwIHRleHQgYmVmb3JlIHdyYXAtd2lkdGggaXMgcmVhY2hlZC4gSWYgZmFsc2UsIHdyYXBwZWQgbGluZXMgd2lsbCBiZSBhIGJpdCBsb25nZXIgdGhhbiB3cmFwLXdpZHRoLlwifSxcIndyYXAtY2hhcmFjdGVyXCI6e2NzczpcInRleHQtd3JhcC1jaGFyYWN0ZXJcIix0eXBlOlwic3RyaW5nXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCIgXCIsZG9jOlwiVXNlIHRoaXMgY2hhcmFjdGVyIGluc3RlYWQgb2YgYSBzcGFjZSB0byB3cmFwIGxvbmcgdGV4dC5cIn0sc3BhY2luZzp7Y3NzOlwidGV4dC1zcGFjaW5nXCIsdHlwZTpcInVuc2lnbmVkXCIsZG9jOlwiRGlzdGFuY2UgYmV0d2VlbiByZXBlYXRlZCB0ZXh0IGxhYmVscyBvbiBhIGxpbmUgKGFrYS4gbGFiZWwtc3BhY2luZylcIn0sXCJjaGFyYWN0ZXItc3BhY2luZ1wiOntjc3M6XCJ0ZXh0LWNoYXJhY3Rlci1zcGFjaW5nXCIsdHlwZTpcImZsb2F0XCIsXCJkZWZhdWx0LXZhbHVlXCI6MCxkb2M6XCJIb3Jpem9udGFsIHNwYWNpbmcgYWRqdXN0bWVudCBiZXR3ZWVuIGNoYXJhY3RlcnMgaW4gcGl4ZWxzXCJ9LFwibGluZS1zcGFjaW5nXCI6e2NzczpcInRleHQtbGluZS1zcGFjaW5nXCIsXCJkZWZhdWx0LXZhbHVlXCI6MCx0eXBlOlwidW5zaWduZWRcIixkb2M6XCJWZXJ0aWNhbCBzcGFjaW5nIGFkanVzdG1lbnQgYmV0d2VlbiBsaW5lcyBpbiBwaXhlbHNcIn0sXCJsYWJlbC1wb3NpdGlvbi10b2xlcmFuY2VcIjp7Y3NzOlwidGV4dC1sYWJlbC1wb3NpdGlvbi10b2xlcmFuY2VcIixcImRlZmF1bHQtdmFsdWVcIjowLHR5cGU6XCJ1bnNpZ25lZFwiLGRvYzpcIkFsbG93cyB0aGUgbGFiZWwgdG8gYmUgZGlzcGxhY2VkIGZyb20gaXRzIGlkZWFsIHBvc2l0aW9uIGJ5IGEgbnVtYmVyIG9mIHBpeGVscyAob25seSB3b3JrcyB3aXRoIHBsYWNlbWVudDpsaW5lKVwifSxcIm1heC1jaGFyLWFuZ2xlLWRlbHRhXCI6e2NzczpcInRleHQtbWF4LWNoYXItYW5nbGUtZGVsdGFcIix0eXBlOlwiZmxvYXRcIixcImRlZmF1bHQtdmFsdWVcIjpcIjIyLjVcIixkb2M6XCJUaGUgbWF4aW11bSBhbmdsZSBjaGFuZ2UsIGluIGRlZ3JlZXMsIGFsbG93ZWQgYmV0d2VlbiBhZGphY2VudCBjaGFyYWN0ZXJzIGluIGEgbGFiZWwuIFRoaXMgdmFsdWUgaW50ZXJuYWxseSBpcyBjb252ZXJ0ZWQgdG8gcmFkaWFucyB0byB0aGUgZGVmYXVsdCBpcyAyMi41Km1hdGgucGkvMTgwLjAuIFRoZSBoaWdoZXIgdGhlIHZhbHVlIHRoZSBmZXdlciBsYWJlbHMgd2lsbCBiZSBwbGFjZWQgYXJvdW5kIGFyb3VuZCBzaGFycCBjb3JuZXJzLlwifSxmaWxsOntjc3M6XCJ0ZXh0LWZpbGxcIixkb2M6XCJTcGVjaWZpZXMgdGhlIGNvbG9yIGZvciB0aGUgdGV4dFwiLFwiZGVmYXVsdC12YWx1ZVwiOlwiIzAwMDAwMFwiLHR5cGU6XCJjb2xvclwifSxvcGFjaXR5Ontjc3M6XCJ0ZXh0LW9wYWNpdHlcIixkb2M6XCJBIG51bWJlciBmcm9tIDAgdG8gMSBzcGVjaWZ5aW5nIHRoZSBvcGFjaXR5IGZvciB0aGUgdGV4dFwiLFwiZGVmYXVsdC12YWx1ZVwiOjEsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIkZ1bGx5IG9wYXF1ZVwiLHR5cGU6XCJmbG9hdFwifSxcImhhbG8tZmlsbFwiOntjc3M6XCJ0ZXh0LWhhbG8tZmlsbFwiLHR5cGU6XCJjb2xvclwiLFwiZGVmYXVsdC12YWx1ZVwiOlwiI0ZGRkZGRlwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJ3aGl0ZVwiLGRvYzpcIlNwZWNpZmllcyB0aGUgY29sb3Igb2YgdGhlIGhhbG8gYXJvdW5kIHRoZSB0ZXh0LlwifSxcImhhbG8tcmFkaXVzXCI6e2NzczpcInRleHQtaGFsby1yYWRpdXNcIixkb2M6XCJTcGVjaWZ5IHRoZSByYWRpdXMgb2YgdGhlIGhhbG8gaW4gcGl4ZWxzXCIsXCJkZWZhdWx0LXZhbHVlXCI6MCxcImRlZmF1bHQtbWVhbmluZ1wiOlwibm8gaGFsb1wiLHR5cGU6XCJmbG9hdFwifSxkeDp7Y3NzOlwidGV4dC1keFwiLHR5cGU6XCJmbG9hdFwiLGRvYzpcIkRpc3BsYWNlIHRleHQgYnkgZml4ZWQgYW1vdW50LCBpbiBwaXhlbHMsICsvLSBhbG9uZyB0aGUgWCBheGlzLiAgQSBwb3NpdGl2ZSB2YWx1ZSB3aWxsIHNoaWZ0IHRoZSB0ZXh0IHJpZ2h0XCIsXCJkZWZhdWx0LXZhbHVlXCI6MH0sZHk6e2NzczpcInRleHQtZHlcIix0eXBlOlwiZmxvYXRcIixkb2M6XCJEaXNwbGFjZSB0ZXh0IGJ5IGZpeGVkIGFtb3VudCwgaW4gcGl4ZWxzLCArLy0gYWxvbmcgdGhlIFkgYXhpcy4gIEEgcG9zaXRpdmUgdmFsdWUgd2lsbCBzaGlmdCB0aGUgdGV4dCBkb3duXCIsXCJkZWZhdWx0LXZhbHVlXCI6MH0sXCJ2ZXJ0aWNhbC1hbGlnbm1lbnRcIjp7Y3NzOlwidGV4dC12ZXJ0aWNhbC1hbGlnbm1lbnRcIix0eXBlOltcInRvcFwiLFwibWlkZGxlXCIsXCJib3R0b21cIixcImF1dG9cIl0sZG9jOlwiUG9zaXRpb24gb2YgbGFiZWwgcmVsYXRpdmUgdG8gcG9pbnQgcG9zaXRpb24uXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJhdXRvXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjonRGVmYXVsdCBhZmZlY3RlZCBieSB2YWx1ZSBvZiBkeTsgXCJib3R0b21cIiBmb3IgZHk+MCwgXCJ0b3BcIiBmb3IgZHk8MC4nfSxcImF2b2lkLWVkZ2VzXCI6e2NzczpcInRleHQtYXZvaWQtZWRnZXNcIixkb2M6XCJUZWxsIHBvc2l0aW9uaW5nIGFsZ29yaXRobSB0byBhdm9pZCBsYWJlbGluZyBuZWFyIGludGVyc2VjdGlvbiBlZGdlcy5cIixcImRlZmF1bHQtdmFsdWVcIjohMSx0eXBlOlwiYm9vbGVhblwifSxcIm1pbmltdW0tZGlzdGFuY2VcIjp7Y3NzOlwidGV4dC1taW4tZGlzdGFuY2VcIixkb2M6XCJNaW5pbXVtIHBlcm1pdHRlZCBkaXN0YW5jZSB0byB0aGUgbmV4dCB0ZXh0IHN5bWJvbGl6ZXIuXCIsdHlwZTpcImZsb2F0XCJ9LFwibWluaW11bS1wYWRkaW5nXCI6e2NzczpcInRleHQtbWluLXBhZGRpbmdcIixkb2M6XCJEZXRlcm1pbmVzIHRoZSBtaW5pbXVtIGFtb3VudCBvZiBwYWRkaW5nIHRoYXQgYSB0ZXh0IHN5bWJvbGl6ZXIgZ2V0cyByZWxhdGl2ZSB0byBvdGhlciB0ZXh0XCIsdHlwZTpcImZsb2F0XCJ9LFwibWluaW11bS1wYXRoLWxlbmd0aFwiOntjc3M6XCJ0ZXh0LW1pbi1wYXRoLWxlbmd0aFwiLHR5cGU6XCJmbG9hdFwiLFwiZGVmYXVsdC12YWx1ZVwiOjAsXCJkZWZhdWx0LW1lYW5pbmdcIjpcInBsYWNlIGxhYmVscyBvbiBhbGwgcGF0aHNcIixkb2M6XCJQbGFjZSBsYWJlbHMgb25seSBvbiBwYXRocyBsb25nZXIgdGhhbiB0aGlzIHZhbHVlLlwifSxcImFsbG93LW92ZXJsYXBcIjp7Y3NzOlwidGV4dC1hbGxvdy1vdmVybGFwXCIsdHlwZTpcImJvb2xlYW5cIixcImRlZmF1bHQtdmFsdWVcIjohMSxkb2M6XCJDb250cm9sIHdoZXRoZXIgb3ZlcmxhcHBpbmcgdGV4dCBpcyBzaG93biBvciBoaWRkZW4uXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcIkRvIG5vdCBhbGxvdyB0ZXh0IHRvIG92ZXJsYXAgd2l0aCBvdGhlciB0ZXh0IC0gb3ZlcmxhcHBpbmcgbWFya2VycyB3aWxsIG5vdCBiZSBzaG93bi5cIn0sb3JpZW50YXRpb246e2NzczpcInRleHQtb3JpZW50YXRpb25cIix0eXBlOlwiZmxvYXRcIixleHByZXNzaW9uOiEwLGRvYzpcIlJvdGF0ZSB0aGUgdGV4dC5cIn0scGxhY2VtZW50Ontjc3M6XCJ0ZXh0LXBsYWNlbWVudFwiLHR5cGU6W1wicG9pbnRcIixcImxpbmVcIixcInZlcnRleFwiLFwiaW50ZXJpb3JcIl0sXCJkZWZhdWx0LXZhbHVlXCI6XCJwb2ludFwiLGRvYzpcIkNvbnRyb2wgdGhlIHN0eWxlIG9mIHBsYWNlbWVudCBvZiBhIHBvaW50IHZlcnN1cyB0aGUgZ2VvbWV0cnkgaXQgaXMgYXR0YWNoZWQgdG8uXCJ9LFwicGxhY2VtZW50LXR5cGVcIjp7Y3NzOlwidGV4dC1wbGFjZW1lbnQtdHlwZVwiLGRvYzonUmUtcG9zaXRpb24gYW5kL29yIHJlLXNpemUgdGV4dCB0byBhdm9pZCBvdmVybGFwcy4gXCJzaW1wbGVcIiBmb3IgYmFzaWMgYWxnb3JpdGhtICh1c2luZyB0ZXh0LXBsYWNlbWVudHMgc3RyaW5nLCkgXCJkdW1teVwiIHRvIHR1cm4gdGhpcyBmZWF0dXJlIG9mZi4nLHR5cGU6W1wiZHVtbXlcIixcInNpbXBsZVwiXSxcImRlZmF1bHQtdmFsdWVcIjpcImR1bW15XCJ9LHBsYWNlbWVudHM6e2NzczpcInRleHQtcGxhY2VtZW50c1wiLHR5cGU6XCJzdHJpbmdcIixcImRlZmF1bHQtdmFsdWVcIjpcIlwiLGRvYzonSWYgXCJwbGFjZW1lbnQtdHlwZVwiIGlzIHNldCB0byBcInNpbXBsZVwiLCB1c2UgdGhpcyBcIlBPU0lUSU9OUyxbU0laRVNdXCIgc3RyaW5nLiBBbiBleGFtcGxlIGlzIGB0ZXh0LXBsYWNlbWVudHM6IFwiRSxORSxTRSxXLE5XLFNXXCI7YCAnfSxcInRleHQtdHJhbnNmb3JtXCI6e2NzczpcInRleHQtdHJhbnNmb3JtXCIsdHlwZTpbXCJub25lXCIsXCJ1cHBlcmNhc2VcIixcImxvd2VyY2FzZVwiLFwiY2FwaXRhbGl6ZVwiXSxkb2M6XCJUcmFuc2Zvcm0gdGhlIGNhc2Ugb2YgdGhlIGNoYXJhY3RlcnNcIixcImRlZmF1bHQtdmFsdWVcIjpcIm5vbmVcIn0sXCJob3Jpem9udGFsLWFsaWdubWVudFwiOntjc3M6XCJ0ZXh0LWhvcml6b250YWwtYWxpZ25tZW50XCIsdHlwZTpbXCJsZWZ0XCIsXCJtaWRkbGVcIixcInJpZ2h0XCIsXCJhdXRvXCJdLGRvYzpcIlRoZSB0ZXh0J3MgaG9yaXpvbnRhbCBhbGlnbm1lbnQgZnJvbSBpdHMgY2VudGVycG9pbnRcIixcImRlZmF1bHQtdmFsdWVcIjpcImF1dG9cIn0sXCJqdXN0aWZ5LWFsaWdubWVudFwiOntjc3M6XCJ0ZXh0LWFsaWduXCIsdHlwZTpbXCJsZWZ0XCIsXCJyaWdodFwiLFwiY2VudGVyXCIsXCJhdXRvXCJdLGRvYzpcIkRlZmluZSBob3cgdGV4dCBpcyBqdXN0aWZpZWRcIixcImRlZmF1bHQtdmFsdWVcIjpcImF1dG9cIixcImRlZmF1bHQtbWVhbmluZ1wiOlwiQXV0byBhbGlnbm1lbnQgbWVhbnMgdGhhdCB0ZXh0IHdpbGwgYmUgY2VudGVyZWQgYnkgZGVmYXVsdCBleGNlcHQgd2hlbiB1c2luZyB0aGUgYHBsYWNlbWVudC10eXBlYCBwYXJhbWV0ZXIgLSBpbiB0aGF0IGNhc2UgZWl0aGVyIHJpZ2h0IG9yIGxlZnQganVzdGlmaWNhdGlvbiB3aWxsIGJlIHVzZWQgYXV0b21hdGljYWxseSBkZXBlbmRpbmcgb24gd2hlcmUgdGhlIHRleHQgY291bGQgYmUgZml0IGdpdmVuIHRoZSBgdGV4dC1wbGFjZW1lbnRzYCBkaXJlY3RpdmVzXCJ9LGNsaXA6e2NzczpcInRleHQtY2xpcFwiLHR5cGU6XCJib29sZWFuXCIsXCJkZWZhdWx0LXZhbHVlXCI6ITAsXCJkZWZhdWx0LW1lYW5pbmdcIjpcImdlb21ldHJ5IHdpbGwgYmUgY2xpcHBlZCB0byBtYXAgYm91bmRzIGJlZm9yZSByZW5kZXJpbmdcIixkb2M6XCJnZW9tZXRyaWVzIGFyZSBjbGlwcGVkIHRvIG1hcCBib3VuZHMgYnkgZGVmYXVsdCBmb3IgYmVzdCByZW5kZXJpbmcgcGVyZm9ybWFuY2UuIEluIHNvbWUgY2FzZXMgdXNlcnMgbWF5IHdpc2ggdG8gZGlzYWJsZSB0aGlzIHRvIGF2b2lkIHJlbmRlcmluZyBhcnRpZmFjdHMuXCJ9LFwiY29tcC1vcFwiOntjc3M6XCJ0ZXh0LWNvbXAtb3BcIixcImRlZmF1bHQtdmFsdWVcIjpcInNyYy1vdmVyXCIsXCJkZWZhdWx0LW1lYW5pbmdcIjpcImFkZCB0aGUgY3VycmVudCBzeW1ib2xpemVyIG9uIHRvcCBvZiBvdGhlciBzeW1ib2xpemVyXCIsZG9jOlwiQ29tcG9zaXRlIG9wZXJhdGlvbi4gVGhpcyBkZWZpbmVzIGhvdyB0aGlzIHN5bWJvbGl6ZXIgc2hvdWxkIGJlaGF2ZSByZWxhdGl2ZSB0byBzeW1ib2xpemVycyBhdG9wIG9yIGJlbG93IGl0LlwiLHR5cGU6W1wiY2xlYXJcIixcInNyY1wiLFwiZHN0XCIsXCJzcmMtb3ZlclwiLFwiZHN0LW92ZXJcIixcInNyYy1pblwiLFwiZHN0LWluXCIsXCJzcmMtb3V0XCIsXCJkc3Qtb3V0XCIsXCJzcmMtYXRvcFwiLFwiZHN0LWF0b3BcIixcInhvclwiLFwicGx1c1wiLFwibWludXNcIixcIm11bHRpcGx5XCIsXCJzY3JlZW5cIixcIm92ZXJsYXlcIixcImRhcmtlblwiLFwibGlnaHRlblwiLFwiY29sb3ItZG9kZ2VcIixcImNvbG9yLWJ1cm5cIixcImhhcmQtbGlnaHRcIixcInNvZnQtbGlnaHRcIixcImRpZmZlcmVuY2VcIixcImV4Y2x1c2lvblwiLFwiY29udHJhc3RcIixcImludmVydFwiLFwiaW52ZXJ0LXJnYlwiLFwiZ3JhaW4tbWVyZ2VcIixcImdyYWluLWV4dHJhY3RcIixcImh1ZVwiLFwic2F0dXJhdGlvblwiLFwiY29sb3JcIixcInZhbHVlXCJdfX0sYnVpbGRpbmc6e2ZpbGw6e2NzczpcImJ1aWxkaW5nLWZpbGxcIixcImRlZmF1bHQtdmFsdWVcIjpcIiNGRkZGRkZcIixkb2M6XCJUaGUgY29sb3Igb2YgdGhlIGJ1aWxkaW5ncyB3YWxscy5cIix0eXBlOlwiY29sb3JcIn0sXCJmaWxsLW9wYWNpdHlcIjp7Y3NzOlwiYnVpbGRpbmctZmlsbC1vcGFjaXR5XCIsdHlwZTpcImZsb2F0XCIsZG9jOlwiVGhlIG9wYWNpdHkgb2YgdGhlIGJ1aWxkaW5nIGFzIGEgd2hvbGUsIGluY2x1ZGluZyBhbGwgd2FsbHMuXCIsXCJkZWZhdWx0LXZhbHVlXCI6MX0saGVpZ2h0Ontjc3M6XCJidWlsZGluZy1oZWlnaHRcIixkb2M6XCJUaGUgaGVpZ2h0IG9mIHRoZSBidWlsZGluZyBpbiBwaXhlbHMuXCIsdHlwZTpcImZsb2F0XCIsZXhwcmVzc2lvbjohMCxcImRlZmF1bHQtdmFsdWVcIjpcIjBcIn19LHRvcnF1ZTp7XCItdG9ycXVlLWNsZWFyLWNvbG9yXCI6e2NzczpcIi10b3JxdWUtY2xlYXItY29sb3JcIix0eXBlOlwiY29sb3JcIixcImRlZmF1bHQtdmFsdWVcIjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMClcIixcImRlZmF1bHQtbWVhbmluZ1wiOlwiZnVsbCBjbGVhclwiLGRvYzpcImNvbG9yIHVzZWQgdG8gY2xlYXIgY2FudmFzIG9uIGVhY2ggZnJhbWVcIn0sXCItdG9ycXVlLWZyYW1lLWNvdW50XCI6e2NzczpcIi10b3JxdWUtZnJhbWUtY291bnRcIixcImRlZmF1bHQtdmFsdWVcIjpcIjEyOFwiLHR5cGU6XCJmbG9hdFwiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJ0aGUgZGF0YSBpcyBicm9rZW4gaW50byAxMjggdGltZSBmcmFtZXNcIixkb2M6XCJOdW1iZXIgb2YgYW5pbWF0aW9uIHN0ZXBzL2ZyYW1lcyB1c2VkIGluIHRoZSBhbmltYXRpb24uIElmIHRoZSBkYXRhIGNvbnRhaW5zIGEgZmV3ZXJlIG51bWJlciBvZiB0b3RhbCBmcmFtZXMsIHRoZSBsZXNzZXIgdmFsdWUgd2lsbCBiZSB1c2VkLlwifSxcIi10b3JxdWUtcmVzb2x1dGlvblwiOntjc3M6XCItdG9ycXVlLXJlc29sdXRpb25cIixcImRlZmF1bHQtdmFsdWVcIjpcIjJcIix0eXBlOlwiZmxvYXRcIixcImRlZmF1bHQtbWVhbmluZ1wiOlwiXCIsZG9jOlwiU3BhdGlhbCByZXNvbHV0aW9uIGluIHBpeGVscy4gQSByZXNvbHV0aW9uIG9mIDEgbWVhbnMgbm8gc3BhdGlhbCBhZ2dyZWdhdGlvbiBvZiB0aGUgZGF0YS4gQW55IG90aGVyIHJlc29sdXRpb24gb2YgTiByZXN1bHRzIGluIHNwYXRpYWwgYWdncmVnYXRpb24gaW50byBjZWxscyBvZiBOeE4gcGl4ZWxzLiBUaGUgdmFsdWUgTiBtdXN0IGJlIHBvd2VyIG9mIDJcIn0sXCItdG9ycXVlLWFuaW1hdGlvbi1kdXJhdGlvblwiOntjc3M6XCItdG9ycXVlLWFuaW1hdGlvbi1kdXJhdGlvblwiLFwiZGVmYXVsdC12YWx1ZVwiOlwiMzBcIix0eXBlOlwiZmxvYXRcIixcImRlZmF1bHQtbWVhbmluZ1wiOlwidGhlIGFuaW1hdGlvbiBsYXN0cyAzMCBzZWNvbmRzXCIsZG9jOlwiQW5pbWF0aW9uIGR1cmF0aW9uIGluIHNlY29uZHNcIn0sXCItdG9ycXVlLWFnZ3JlZ2F0aW9uLWZ1bmN0aW9uXCI6e2NzczpcIi10b3JxdWUtYWdncmVnYXRpb24tZnVuY3Rpb25cIixcImRlZmF1bHQtdmFsdWVcIjpcImNvdW50KGNhcnRvZGJfaWQpXCIsdHlwZTpcInN0cmluZ1wiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJ0aGUgdmFsdWUgZm9yIGVhY2ggY2VsbCBpcyB0aGUgY291bnQgb2YgcG9pbnRzIGluIHRoYXQgY2VsbFwiLGRvYzpcIkEgZnVuY3Rpb24gdXNlZCB0byBjYWxjdWxhdGUgYSB2YWx1ZSBmcm9tIHRoZSBhZ2dyZWdhdGUgZGF0YSBmb3IgZWFjaCBjZWxsLiBTZWUgLXRvcnF1ZS1yZXNvbHV0aW9uXCJ9LFwiLXRvcnF1ZS10aW1lLWF0dHJpYnV0ZVwiOntjc3M6XCItdG9ycXVlLXRpbWUtYXR0cmlidXRlXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJ0aW1lXCIsdHlwZTpcInN0cmluZ1wiLFwiZGVmYXVsdC1tZWFuaW5nXCI6XCJ0aGUgZGF0YSBjb2x1bW4gaW4geW91ciB0YWJsZSB0aGF0IGlzIG9mIGEgdGltZSBiYXNlZCB0eXBlXCIsZG9jOlwiVGhlIHRhYmxlIGNvbHVtbiB0aGF0IGNvbnRhaW5zIHRoZSB0aW1lIGluZm9ybWF0aW9uIHVzZWQgY3JlYXRlIHRoZSBhbmltYXRpb25cIn0sXCItdG9ycXVlLWRhdGEtYWdncmVnYXRpb25cIjp7Y3NzOlwiLXRvcnF1ZS1kYXRhLWFnZ3JlZ2F0aW9uXCIsXCJkZWZhdWx0LXZhbHVlXCI6XCJsaW5lYXJcIix0eXBlOltcImxpbmVhclwiLFwiY3VtdWxhdGl2ZVwiXSxcImRlZmF1bHQtbWVhbmluZ1wiOlwicHJldmlvdXMgdmFsdWVzIGFyZSBkaXNjYXJkZWRcIixkb2M6XCJBIGxpbmVhciBhbmltYXRpb24gd2lsbCBkaXNjYXJkIHByZXZpb3VzIHZhbHVlcyB3aGlsZSBhIGN1bXVsYXRpdmUgYW5pbWF0aW9uIHdpbGwgYWNjdW11bGF0ZSB0aGVtIHVudGlsIGl0IHJlc3RhcnRzXCJ9fX0sY29sb3JzOnthbGljZWJsdWU6WzI0MCwyNDgsMjU1XSxhbnRpcXVld2hpdGU6WzI1MCwyMzUsMjE1XSxhcXVhOlswLDI1NSwyNTVdLGFxdWFtYXJpbmU6WzEyNywyNTUsMjEyXSxhenVyZTpbMjQwLDI1NSwyNTVdLGJlaWdlOlsyNDUsMjQ1LDIyMF0sYmlzcXVlOlsyNTUsMjI4LDE5Nl0sYmxhY2s6WzAsMCwwXSxibGFuY2hlZGFsbW9uZDpbMjU1LDIzNSwyMDVdLGJsdWU6WzAsMCwyNTVdLGJsdWV2aW9sZXQ6WzEzOCw0MywyMjZdLGJyb3duOlsxNjUsNDIsNDJdLGJ1cmx5d29vZDpbMjIyLDE4NCwxMzVdLGNhZGV0Ymx1ZTpbOTUsMTU4LDE2MF0sY2hhcnRyZXVzZTpbMTI3LDI1NSwwXSxjaG9jb2xhdGU6WzIxMCwxMDUsMzBdLGNvcmFsOlsyNTUsMTI3LDgwXSxjb3JuZmxvd2VyYmx1ZTpbMTAwLDE0OSwyMzddLGNvcm5zaWxrOlsyNTUsMjQ4LDIyMF0sY3JpbXNvbjpbMjIwLDIwLDYwXSxjeWFuOlswLDI1NSwyNTVdLGRhcmtibHVlOlswLDAsMTM5XSxkYXJrY3lhbjpbMCwxMzksMTM5XSxkYXJrZ29sZGVucm9kOlsxODQsMTM0LDExXSxkYXJrZ3JheTpbMTY5LDE2OSwxNjldLGRhcmtncmVlbjpbMCwxMDAsMF0sZGFya2dyZXk6WzE2OSwxNjksMTY5XSxkYXJra2hha2k6WzE4OSwxODMsMTA3XSxkYXJrbWFnZW50YTpbMTM5LDAsMTM5XSxkYXJrb2xpdmVncmVlbjpbODUsMTA3LDQ3XSxkYXJrb3JhbmdlOlsyNTUsMTQwLDBdLGRhcmtvcmNoaWQ6WzE1Myw1MCwyMDRdLGRhcmtyZWQ6WzEzOSwwLDBdLGRhcmtzYWxtb246WzIzMywxNTAsMTIyXSxkYXJrc2VhZ3JlZW46WzE0MywxODgsMTQzXSxkYXJrc2xhdGVibHVlOls3Miw2MSwxMzldLGRhcmtzbGF0ZWdyZXk6WzQ3LDc5LDc5XSxkYXJrdHVycXVvaXNlOlswLDIwNiwyMDldLGRhcmt2aW9sZXQ6WzE0OCwwLDIxMV0sZGVlcHBpbms6WzI1NSwyMCwxNDddLGRlZXBza3libHVlOlswLDE5MSwyNTVdLGRpbWdyYXk6WzEwNSwxMDUsMTA1XSxkaW1ncmV5OlsxMDUsMTA1LDEwNV0sZG9kZ2VyYmx1ZTpbMzAsMTQ0LDI1NV0sZmlyZWJyaWNrOlsxNzgsMzQsMzRdLGZsb3JhbHdoaXRlOlsyNTUsMjUwLDI0MF0sZm9yZXN0Z3JlZW46WzM0LDEzOSwzNF0sZnVjaHNpYTpbMjU1LDAsMjU1XSxnYWluc2Jvcm86WzIyMCwyMjAsMjIwXSxnaG9zdHdoaXRlOlsyNDgsMjQ4LDI1NV0sZ29sZDpbMjU1LDIxNSwwXSxnb2xkZW5yb2Q6WzIxOCwxNjUsMzJdLGdyYXk6WzEyOCwxMjgsMTI4XSxncmV5OlsxMjgsMTI4LDEyOF0sZ3JlZW46WzAsMTI4LDBdLGdyZWVueWVsbG93OlsxNzMsMjU1LDQ3XSxob25leWRldzpbMjQwLDI1NSwyNDBdLGhvdHBpbms6WzI1NSwxMDUsMTgwXSxpbmRpYW5yZWQ6WzIwNSw5Miw5Ml0saW5kaWdvOls3NSwwLDEzMF0saXZvcnk6WzI1NSwyNTUsMjQwXSxraGFraTpbMjQwLDIzMCwxNDBdLGxhdmVuZGVyOlsyMzAsMjMwLDI1MF0sbGF2ZW5kZXJibHVzaDpbMjU1LDI0MCwyNDVdLGxhd25ncmVlbjpbMTI0LDI1MiwwXSxsZW1vbmNoaWZmb246WzI1NSwyNTAsMjA1XSxsaWdodGJsdWU6WzE3MywyMTYsMjMwXSxsaWdodGNvcmFsOlsyNDAsMTI4LDEyOF0sbGlnaHRjeWFuOlsyMjQsMjU1LDI1NV0sbGlnaHRnb2xkZW5yb2R5ZWxsb3c6WzI1MCwyNTAsMjEwXSxsaWdodGdyYXk6WzIxMSwyMTEsMjExXSxsaWdodGdyZWVuOlsxNDQsMjM4LDE0NF0sbGlnaHRncmV5OlsyMTEsMjExLDIxMV0sbGlnaHRwaW5rOlsyNTUsMTgyLDE5M10sbGlnaHRzYWxtb246WzI1NSwxNjAsMTIyXSxsaWdodHNlYWdyZWVuOlszMiwxNzgsMTcwXSxsaWdodHNreWJsdWU6WzEzNSwyMDYsMjUwXSxsaWdodHNsYXRlZ3JheTpbMTE5LDEzNiwxNTNdLGxpZ2h0c2xhdGVncmV5OlsxMTksMTM2LDE1M10sbGlnaHRzdGVlbGJsdWU6WzE3NiwxOTYsMjIyXSxsaWdodHllbGxvdzpbMjU1LDI1NSwyMjRdLGxpbWU6WzAsMjU1LDBdLGxpbWVncmVlbjpbNTAsMjA1LDUwXSxsaW5lbjpbMjUwLDI0MCwyMzBdLG1hZ2VudGE6WzI1NSwwLDI1NV0sbWFyb29uOlsxMjgsMCwwXSxtZWRpdW1hcXVhbWFyaW5lOlsxMDIsMjA1LDE3MF0sbWVkaXVtYmx1ZTpbMCwwLDIwNV0sbWVkaXVtb3JjaGlkOlsxODYsODUsMjExXSxtZWRpdW1wdXJwbGU6WzE0NywxMTIsMjE5XSxtZWRpdW1zZWFncmVlbjpbNjAsMTc5LDExM10sbWVkaXVtc2xhdGVibHVlOlsxMjMsMTA0LDIzOF0sbWVkaXVtc3ByaW5nZ3JlZW46WzAsMjUwLDE1NF0sbWVkaXVtdHVycXVvaXNlOls3MiwyMDksMjA0XSxtZWRpdW12aW9sZXRyZWQ6WzE5OSwyMSwxMzNdLG1pZG5pZ2h0Ymx1ZTpbMjUsMjUsMTEyXSxtaW50Y3JlYW06WzI0NSwyNTUsMjUwXSxtaXN0eXJvc2U6WzI1NSwyMjgsMjI1XSxtb2NjYXNpbjpbMjU1LDIyOCwxODFdLG5hdmFqb3doaXRlOlsyNTUsMjIyLDE3M10sbmF2eTpbMCwwLDEyOF0sb2xkbGFjZTpbMjUzLDI0NSwyMzBdLG9saXZlOlsxMjgsMTI4LDBdLG9saXZlZHJhYjpbMTA3LDE0MiwzNV0sb3JhbmdlOlsyNTUsMTY1LDBdLG9yYW5nZXJlZDpbMjU1LDY5LDBdLG9yY2hpZDpbMjE4LDExMiwyMTRdLHBhbGVnb2xkZW5yb2Q6WzIzOCwyMzIsMTcwXSxwYWxlZ3JlZW46WzE1MiwyNTEsMTUyXSxwYWxldHVycXVvaXNlOlsxNzUsMjM4LDIzOF0scGFsZXZpb2xldHJlZDpbMjE5LDExMiwxNDddLHBhcGF5YXdoaXA6WzI1NSwyMzksMjEzXSxwZWFjaHB1ZmY6WzI1NSwyMTgsMTg1XSxwZXJ1OlsyMDUsMTMzLDYzXSxwaW5rOlsyNTUsMTkyLDIwM10scGx1bTpbMjIxLDE2MCwyMjFdLHBvd2RlcmJsdWU6WzE3NiwyMjQsMjMwXSxwdXJwbGU6WzEyOCwwLDEyOF0scmVkOlsyNTUsMCwwXSxyb3N5YnJvd246WzE4OCwxNDMsMTQzXSxyb3lhbGJsdWU6WzY1LDEwNSwyMjVdLHNhZGRsZWJyb3duOlsxMzksNjksMTldLHNhbG1vbjpbMjUwLDEyOCwxMTRdLHNhbmR5YnJvd246WzI0NCwxNjQsOTZdLHNlYWdyZWVuOls0NiwxMzksODddLHNlYXNoZWxsOlsyNTUsMjQ1LDIzOF0sc2llbm5hOlsxNjAsODIsNDVdLHNpbHZlcjpbMTkyLDE5MiwxOTJdLHNreWJsdWU6WzEzNSwyMDYsMjM1XSxzbGF0ZWJsdWU6WzEwNiw5MCwyMDVdLHNsYXRlZ3JheTpbMTEyLDEyOCwxNDRdLHNsYXRlZ3JleTpbMTEyLDEyOCwxNDRdLHNub3c6WzI1NSwyNTAsMjUwXSxzcHJpbmdncmVlbjpbMCwyNTUsMTI3XSxzdGVlbGJsdWU6WzcwLDEzMCwxODBdLHRhbjpbMjEwLDE4MCwxNDBdLHRlYWw6WzAsMTI4LDEyOF0sdGhpc3RsZTpbMjE2LDE5MSwyMTZdLHRvbWF0bzpbMjU1LDk5LDcxXSx0dXJxdW9pc2U6WzY0LDIyNCwyMDhdLHZpb2xldDpbMjM4LDEzMCwyMzhdLHdoZWF0OlsyNDUsMjIyLDE3OV0sd2hpdGU6WzI1NSwyNTUsMjU1XSx3aGl0ZXNtb2tlOlsyNDUsMjQ1LDI0NV0seWVsbG93OlsyNTUsMjU1LDBdLHllbGxvd2dyZWVuOlsxNTQsMjA1LDUwXSx0cmFuc3BhcmVudDpbMCwwLDAsMF19LGZpbHRlcjp7dmFsdWU6W1widHJ1ZVwiLFwiZmFsc2VcIixcIm51bGxcIixcInBvaW50XCIsXCJsaW5lc3RyaW5nXCIsXCJwb2x5Z29uXCIsXCJjb2xsZWN0aW9uXCJdfX07XG50LmV4cG9ydHM9e3ZlcnNpb246e2xhdGVzdDpuLFwiMi4xLjFcIjpufX19LHt9XSw5OltmdW5jdGlvbihlLHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiB0JiYodC5leHBvcnRzLmZpbmQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4scj0wO3I8ZS5sZW5ndGg7cisrKWlmKG49dC5jYWxsKGUsZVtyXSkpcmV0dXJuIG47cmV0dXJuIG51bGx9KX0se31dLDEwOltmdW5jdGlvbihlKXsoZnVuY3Rpb24odCl7IWZ1bmN0aW9uKG4pe3ZhciByPXQuX3x8ZShcInVuZGVyc2NvcmVcIik7bi5DYWxsPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLm5hbWU9ZSx0aGlzLmFyZ3M9dCx0aGlzLmluZGV4PW59LG4uQ2FsbC5wcm90b3R5cGU9e2lzOlwiY2FsbFwiLGV2OmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLmFyZ3MubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmV2KGUpfSksaT0wO2k8dC5sZW5ndGg7aSsrKWlmKFwidW5kZWZpbmVkXCI9PT10W2ldLmlzKXJldHVybntpczpcInVuZGVmaW5lZFwiLHZhbHVlOlwidW5kZWZpbmVkXCJ9O2lmKHRoaXMubmFtZSBpbiBuLmZ1bmN0aW9ucyl7aWYobi5mdW5jdGlvbnNbdGhpcy5uYW1lXS5sZW5ndGg8PXQubGVuZ3RoKXt2YXIgbz1uLmZ1bmN0aW9uc1t0aGlzLm5hbWVdLmFwcGx5KG4uZnVuY3Rpb25zLHQpO3JldHVybiBudWxsPT09bz8oZS5lcnJvcih7bWVzc2FnZTpcImluY29ycmVjdCBhcmd1bWVudHMgZ2l2ZW4gdG8gXCIrdGhpcy5uYW1lK1wiKClcIixpbmRleDp0aGlzLmluZGV4LHR5cGU6XCJydW50aW1lXCIsZmlsZW5hbWU6dGhpcy5maWxlbmFtZX0pLHtpczpcInVuZGVmaW5lZFwiLHZhbHVlOlwidW5kZWZpbmVkXCJ9KTpvfXJldHVybiBlLmVycm9yKHttZXNzYWdlOlwiaW5jb3JyZWN0IG51bWJlciBvZiBhcmd1bWVudHMgZm9yIFwiK3RoaXMubmFtZStcIigpLiBcIituLmZ1bmN0aW9uc1t0aGlzLm5hbWVdLmxlbmd0aCtcIiBleHBlY3RlZC5cIixpbmRleDp0aGlzLmluZGV4LHR5cGU6XCJydW50aW1lXCIsZmlsZW5hbWU6dGhpcy5maWxlbmFtZX0pLHtpczpcInVuZGVmaW5lZFwiLHZhbHVlOlwidW5kZWZpbmVkXCJ9fXZhciBhPW4uUmVmZXJlbmNlLm1hcG5pa0Z1bmN0aW9uc1t0aGlzLm5hbWVdO2lmKHZvaWQgMD09PWEpe3ZhciBzPXIucGFpcnMobi5SZWZlcmVuY2UubWFwbmlrRnVuY3Rpb25zKSxsPXRoaXMubmFtZSx1PXMubWFwKGZ1bmN0aW9uKGUpe3JldHVybltlWzBdLG4uUmVmZXJlbmNlLmVkaXREaXN0YW5jZShsLGVbMF0pLGVbMV1dfSkuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlWzFdLXRbMV19KTtyZXR1cm4gZS5lcnJvcih7bWVzc2FnZTpcInVua25vd24gZnVuY3Rpb24gXCIrdGhpcy5uYW1lK1wiKCksIGRpZCB5b3UgbWVhbiBcIit1WzBdWzBdK1wiKFwiK3VbMF1bMl0rXCIpXCIsaW5kZXg6dGhpcy5pbmRleCx0eXBlOlwicnVudGltZVwiLGZpbGVuYW1lOnRoaXMuZmlsZW5hbWV9KSx7aXM6XCJ1bmRlZmluZWRcIix2YWx1ZTpcInVuZGVmaW5lZFwifX1yZXR1cm4gYT09PXQubGVuZ3RofHxBcnJheS5pc0FycmF5KGEpJiZyLmluY2x1ZGUoYSx0Lmxlbmd0aCl8fC0xPT09YT8odGhpcy5hcmdzPXQsdGhpcyk6KGUuZXJyb3Ioe21lc3NhZ2U6XCJmdW5jdGlvbiBcIit0aGlzLm5hbWUrXCIoKSB0YWtlcyBcIithK1wiIGFyZ3VtZW50cyBhbmQgd2FzIGdpdmVuIFwiK3QubGVuZ3RoLGluZGV4OnRoaXMuaW5kZXgsdHlwZTpcInJ1bnRpbWVcIixmaWxlbmFtZTp0aGlzLmZpbGVuYW1lfSkse2lzOlwidW5kZWZpbmVkXCIsdmFsdWU6XCJ1bmRlZmluZWRcIn0pfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFyZ3MubGVuZ3RoP3RoaXMubmFtZStcIihcIit0aGlzLmFyZ3Muam9pbihcIixcIikrXCIpXCI6dGhpcy5uYW1lfX19KGUoXCIuLi90cmVlXCIpKX0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi4vdHJlZVwiOjksdW5kZXJzY29yZTo0Mn1dLDExOltmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7ZS5Db2xvcj1mdW5jdGlvbihlLHQpe3RoaXMucmdiPUFycmF5LmlzQXJyYXkoZSk/ZS5zbGljZSgwLDMpOjY9PWUubGVuZ3RoP2UubWF0Y2goLy57Mn0vZykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLDE2KX0pOmUuc3BsaXQoXCJcIikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlK2UsMTYpfSksdGhpcy5hbHBoYT1cIm51bWJlclwiPT10eXBlb2YgdD90OjQ9PT1lLmxlbmd0aD9lWzNdOjF9LGUuQ29sb3IucHJvdG90eXBlPXtpczpcImNvbG9yXCIsZXY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbHBoYTwxP1wicmdiYShcIit0aGlzLnJnYi5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIE1hdGgucm91bmQoZSl9KS5jb25jYXQodGhpcy5hbHBoYSkuam9pbihcIiwgXCIpK1wiKVwiOlwiI1wiK3RoaXMucmdiLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZT1NYXRoLnJvdW5kKGUpLGU9KGU+MjU1PzI1NTowPmU/MDplKS50b1N0cmluZygxNiksMT09PWUubGVuZ3RoP1wiMFwiK2U6ZX0pLmpvaW4oXCJcIil9LG9wZXJhdGU6ZnVuY3Rpb24odCxuLHIpe3ZhciBpPVtdO3IgaW5zdGFuY2VvZiBlLkNvbG9yfHwocj1yLnRvQ29sb3IoKSk7Zm9yKHZhciBvPTA7Mz5vO28rKylpW29dPWUub3BlcmF0ZShuLHRoaXMucmdiW29dLHIucmdiW29dKTtyZXR1cm4gbmV3IGUuQ29sb3IoaSl9LHRvSFNMOmZ1bmN0aW9uKCl7dmFyIGUsdCxuPXRoaXMucmdiWzBdLzI1NSxyPXRoaXMucmdiWzFdLzI1NSxpPXRoaXMucmdiWzJdLzI1NSxvPXRoaXMuYWxwaGEsYT1NYXRoLm1heChuLHIsaSkscz1NYXRoLm1pbihuLHIsaSksbD0oYStzKS8yLHU9YS1zO2lmKGE9PT1zKWU9dD0wO2Vsc2V7c3dpdGNoKHQ9bD4uNT91LygyLWEtcyk6dS8oYStzKSxhKXtjYXNlIG46ZT0oci1pKS91KyhpPnI/NjowKTticmVhaztjYXNlIHI6ZT0oaS1uKS91KzI7YnJlYWs7Y2FzZSBpOmU9KG4tcikvdSs0fWUvPTZ9cmV0dXJue2g6MzYwKmUsczp0LGw6bCxhOm99fX19KGUoXCIuLi90cmVlXCIpKX0se1wiLi4vdHJlZVwiOjl9XSwxMjpbZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe2UuQ29tbWVudD1mdW5jdGlvbihlLHQpe3RoaXMudmFsdWU9ZSx0aGlzLnNpbGVudD0hIXR9LGUuQ29tbWVudC5wcm90b3R5cGU9e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuXCI8IS0tXCIrdGhpcy52YWx1ZStcIi0tPlwifSxldjpmdW5jdGlvbigpe3JldHVybiB0aGlzfX19KGUoXCIuLi90cmVlXCIpKX0se1wiLi4vdHJlZVwiOjl9XSwxMzpbZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKHQpeyFmdW5jdGlvbihuKXtmdW5jdGlvbiByKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGVbMV0udG9VcHBlckNhc2UoKX1yZXR1cm4gZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpLnJlcGxhY2UoL1xcLS4vLHQpK1wiU3ltYm9saXplclwifWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGUuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiBlWzFdLXRbMV19KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF19KX12YXIgbz1lKFwiYXNzZXJ0XCIpLGE9dC5ffHxlKFwidW5kZXJzY29yZVwiKTtuLkRlZmluaXRpb249ZnVuY3Rpb24oZSx0KXt0aGlzLmVsZW1lbnRzPWUuZWxlbWVudHMsby5vayhlLmZpbHRlcnMgaW5zdGFuY2VvZiBuLkZpbHRlcnNldCksdGhpcy5ydWxlcz10LHRoaXMucnVsZUluZGV4PXt9O2Zvcih2YXIgcj0wO3I8dGhpcy5ydWxlcy5sZW5ndGg7cisrKVwiem9vbVwiaW4gdGhpcy5ydWxlc1tyXSYmKHRoaXMucnVsZXNbcl09dGhpcy5ydWxlc1tyXS5jbG9uZSgpKSx0aGlzLnJ1bGVzW3JdLnpvb209ZS56b29tLHRoaXMucnVsZUluZGV4W3RoaXMucnVsZXNbcl0udXBkYXRlSUQoKV09ITA7dGhpcy5maWx0ZXJzPWUuZmlsdGVycyx0aGlzLnpvb209ZS56b29tLHRoaXMuZnJhbWVfb2Zmc2V0PWUuZnJhbWVfb2Zmc2V0LHRoaXMuYXR0YWNobWVudD1lLmF0dGFjaG1lbnR8fFwiX19kZWZhdWx0X19cIix0aGlzLnNwZWNpZmljaXR5PWUuc3BlY2lmaWNpdHkoKX0sbi5EZWZpbml0aW9uLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLmZpbHRlcnMudG9TdHJpbmcoKSx0PTA7dDx0aGlzLnJ1bGVzLmxlbmd0aDt0KyspZSs9XCJcXG4gICAgXCIrdGhpcy5ydWxlc1t0XTtyZXR1cm4gZX0sbi5EZWZpbml0aW9uLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbihlKXtlJiZvLm9rKGUgaW5zdGFuY2VvZiBuLkZpbHRlcnNldCk7dmFyIHQ9T2JqZWN0LmNyZWF0ZShuLkRlZmluaXRpb24ucHJvdG90eXBlKTtyZXR1cm4gdC5ydWxlcz10aGlzLnJ1bGVzLnNsaWNlKCksdC5ydWxlSW5kZXg9YS5jbG9uZSh0aGlzLnJ1bGVJbmRleCksdC5maWx0ZXJzPWU/ZTp0aGlzLmZpbHRlcnMuY2xvbmUoKSx0LmF0dGFjaG1lbnQ9dGhpcy5hdHRhY2htZW50LHR9LG4uRGVmaW5pdGlvbi5wcm90b3R5cGUuYWRkUnVsZXM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTAsbj0wO248ZS5sZW5ndGg7bisrKXRoaXMucnVsZUluZGV4W2Vbbl0uaWRdfHwodGhpcy5ydWxlcy5wdXNoKGVbbl0pLHRoaXMucnVsZUluZGV4W2Vbbl0uaWRdPSEwLHQrKyk7cmV0dXJuIHR9LG4uRGVmaW5pdGlvbi5wcm90b3R5cGUuYXBwbGllc1RvPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPTAscj10aGlzLmVsZW1lbnRzLmxlbmd0aDtyPm47bisrKXt2YXIgaT10aGlzLmVsZW1lbnRzW25dO2lmKCEoaS53aWxkY2FyZHx8XCJjbGFzc1wiPT09aS50eXBlJiZ0W2kuY2xlYW5dfHxcImlkXCI9PT1pLnR5cGUmJmU9PT1pLmNsZWFuKSlyZXR1cm4hMX1yZXR1cm4hMH0sbi5EZWZpbml0aW9uLnByb3RvdHlwZS5zeW1ib2xpemVyc1RvWE1MPWZ1bmN0aW9uKGUsdCxvKXt2YXIgYT1vLnRvWE1MKGUpLmpvaW4oXCJcIikrdGhpcy5maWx0ZXJzLnRvWE1MKGUpLHM9W10sbD1bXTtmb3IodmFyIHUgaW4gdCl7bD1bXTtmb3IodmFyIGMgaW4gdFt1XSlsLnB1c2godFt1XVtjXS5pbmRleCk7dmFyIGY9TWF0aC5taW4uYXBwbHkoTWF0aCxsKTtzLnB1c2goW3UsZl0pfXM9aShzKTtmb3IodmFyIGQ9MCxoPTA7aDxzLmxlbmd0aDtoKyspe3ZhciBwPXRbc1toXV0sbT1zW2hdLnNwbGl0KFwiL1wiKS5wb3AoKTtpZihcIipcIiE9PW0pe2QrKzt2YXIgZz1uLlJlZmVyZW5jZS5yZXF1aXJlZFByb3BlcnRpZXMobSxwKTtpZihnKXt2YXIgdj1wW09iamVjdC5rZXlzKHApLnNoaWZ0KCldO2UuZXJyb3Ioe21lc3NhZ2U6ZyxpbmRleDp2LmluZGV4LGZpbGVuYW1lOnYuZmlsZW5hbWV9KX12YXIgeSxiPXIobSksdz0hMDthKz1cIiAgICA8XCIrYitcIiBcIjtmb3IodmFyIHggaW4gcCl7XCJtYXBcIj09PW0mJmUuZXJyb3Ioe21lc3NhZ2U6XCJNYXAgcHJvcGVydGllcyBhcmUgbm90IHBlcm1pdHRlZCBpbiBvdGhlciBydWxlc1wiLGluZGV4OnBbeF0uaW5kZXgsZmlsZW5hbWU6cFt4XS5maWxlbmFtZX0pO3ZhciBrPW4uUmVmZXJlbmNlLnNlbGVjdG9yKHBbeF0ubmFtZSk7ayYmay5zZXJpYWxpemF0aW9uJiZcImNvbnRlbnRcIj09PWsuc2VyaWFsaXphdGlvbj8odz0hMSx5PXBbeF0uZXYoZSkudG9YTUwoZSwhMCkpOmsmJmsuc2VyaWFsaXphdGlvbiYmXCJ0YWdcIj09PWsuc2VyaWFsaXphdGlvbj8odz0hMSx5PXBbeF0uZXYoZSkudG9YTUwoZSwhMCkpOmErPXBbeF0uZXYoZSkudG9YTUwoZSkrXCIgXCJ9dz9hKz1cIi8+XFxuXCI6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHkmJihhKz0tMSE9eS5pbmRleE9mKFwiPFwiKT9cIj5cIit5K1wiPC9cIitiK1wiPlxcblwiOlwiPjwhW0NEQVRBW1wiK3krXCJdXT48L1wiK2IrXCI+XFxuXCIpfX1yZXR1cm4gZCYmYT9cIiAgPFJ1bGU+XFxuXCIrYStcIiAgPC9SdWxlPlxcblwiOlwiXCJ9LG4uRGVmaW5pdGlvbi5wcm90b3R5cGUuY29sbGVjdFN5bWJvbGl6ZXJzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9e30saT10O2k8dGhpcy5ydWxlcy5sZW5ndGg7aSsrKXtuPXRoaXMucnVsZXNbaV07dmFyIG89bi5pbnN0YW5jZStcIi9cIituLnN5bWJvbGl6ZXI7IShlLmN1cnJlbnQmbi56b29tKXx8byBpbiByJiZuLm5hbWUgaW4gcltvXXx8KGUuY3VycmVudCY9bi56b29tLG8gaW4gcnx8KHJbb109e30pLHJbb11bbi5uYW1lXT1uKX1yZXR1cm4gT2JqZWN0LmtleXMocikubGVuZ3RoPyhlLnJ1bGUmPWUuYXZhaWxhYmxlJj1+ZS5jdXJyZW50LHIpOnZvaWQgMH0sbi5EZWZpbml0aW9uLnByb3RvdHlwZS50b1hNTD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMuZmlsdGVycy50b1N0cmluZygpO3IgaW4gdHx8KHRbcl09bi5ab29tLmFsbCk7Zm9yKHZhciBpLG89bi5ab29tLmFsbCxhPVwiXCIscz17YXZhaWxhYmxlOm4uWm9vbS5hbGx9LGw9MDtsPHRoaXMucnVsZXMubGVuZ3RoJiZvO2wrKylpZihzLnJ1bGU9dGhpcy5ydWxlc1tsXS56b29tLHRbcl0mcy5ydWxlKWZvcig7cy5jdXJyZW50PXMucnVsZSZvOylpZihpPXRoaXMuY29sbGVjdFN5bWJvbGl6ZXJzKHMsbCkpe2lmKCEodFtyXSZzLmN1cnJlbnQpKWNvbnRpbnVlO2ErPXRoaXMuc3ltYm9saXplcnNUb1hNTChlLGksKG5ldyBuLlpvb20pLnNldFpvb20odFtyXSZzLmN1cnJlbnQpKSx0W3JdJj1+cy5jdXJyZW50fXJldHVybiBhfSxuLkRlZmluaXRpb24ucHJvdG90eXBlLnRvSlM9ZnVuY3Rpb24oZSl7dmFyIHQ9e30scj1cIihcIit0aGlzLnpvb20rXCIgJiAoMSA8PCBjdHguem9vbSkpXCIsaT10aGlzLmZyYW1lX29mZnNldCxvPXRoaXMuZmlsdGVycy50b0pTKGUpLHM9W3JdO3JldHVybiBvJiZzLnB1c2gobyksaSYmcy5wdXNoKCdjdHhbXCJmcmFtZS1vZmZzZXRcIl0gPT09ICcraSksbz1zLmpvaW4oXCIgJiYgXCIpLGEuZWFjaCh0aGlzLnJ1bGVzLGZ1bmN0aW9uKHIpe2lmKCEociBpbnN0YW5jZW9mIG4uUnVsZSkpdGhyb3cgbmV3IEVycm9yKFwiUnVsZXNldCBub3Qgc3VwcG9ydGVkXCIpO3Rbci5uYW1lXT10W3IubmFtZV18fFtdO3ZhciBpPXtpbmRleDpyLmluZGV4LHN5bWJvbGl6ZXI6ci5zeW1ib2xpemVyfTtpLmpzPW8/XCJpZihcIitvK1wiKXtcIityLnZhbHVlLnRvSlMoZSkrXCJ9XCI6ci52YWx1ZS50b0pTKGUpLGkuY29uc3RhbnQ9XCJmaWVsZFwiIT09ci52YWx1ZS5ldihlKS5pcyxpLmZpbHRlcmVkPSEhbyx0W3IubmFtZV0ucHVzaChpKX0pLHR9fShlKFwiLi4vdHJlZVwiKSl9KS5jYWxsKHRoaXMsXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4uL3RyZWVcIjo5LGFzc2VydDoxLHVuZGVyc2NvcmU6NDJ9XSwxNDpbZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKHQpeyFmdW5jdGlvbihuKXt2YXIgcj10Ll98fGUoXCJ1bmRlcnNjb3JlXCIpO24uRGltZW5zaW9uPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLnZhbHVlPXBhcnNlRmxvYXQoZSksdGhpcy51bml0PXR8fG51bGwsdGhpcy5pbmRleD1ufSxuLkRpbWVuc2lvbi5wcm90b3R5cGU9e2lzOlwiZmxvYXRcIixwaHlzaWNhbF91bml0czpbXCJtXCIsXCJjbVwiLFwiaW5cIixcIm1tXCIsXCJwdFwiLFwicGNcIl0sc2NyZWVuX3VuaXRzOltcInB4XCIsXCIlXCJdLGFsbF91bml0czpbXCJtXCIsXCJjbVwiLFwiaW5cIixcIm1tXCIsXCJwdFwiLFwicGNcIixcInB4XCIsXCIlXCJdLGRlbnNpdGllczp7bTouMDI1NCxtbToyNS40LGNtOjIuNTQscHQ6NzIscGM6Nn0sZXY6ZnVuY3Rpb24oZSl7aWYodGhpcy51bml0JiYhci5jb250YWlucyh0aGlzLmFsbF91bml0cyx0aGlzLnVuaXQpKXJldHVybiBlLmVycm9yKHttZXNzYWdlOlwiSW52YWxpZCB1bml0OiAnXCIrdGhpcy51bml0K1wiJ1wiLGluZGV4OnRoaXMuaW5kZXh9KSx7aXM6XCJ1bmRlZmluZWRcIix2YWx1ZTpcInVuZGVmaW5lZFwifTtpZih0aGlzLnVuaXQmJnIuY29udGFpbnModGhpcy5waHlzaWNhbF91bml0cyx0aGlzLnVuaXQpKXtpZighZS5wcGkpcmV0dXJuIGUuZXJyb3Ioe21lc3NhZ2U6XCJwcGkgaXMgbm90IHNldCwgc28gbWV0cmljIHVuaXRzIGNhbid0IGJlIHVzZWRcIixpbmRleDp0aGlzLmluZGV4fSkse2lzOlwidW5kZWZpbmVkXCIsdmFsdWU6XCJ1bmRlZmluZWRcIn07dGhpcy52YWx1ZT10aGlzLnZhbHVlL3RoaXMuZGVuc2l0aWVzW3RoaXMudW5pdF0qZS5wcGksdGhpcy51bml0PVwicHhcIn1yZXR1cm4gdGhpc30scm91bmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZT1NYXRoLnJvdW5kKHRoaXMudmFsdWUpLHRoaXN9LHRvQ29sb3I6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4uQ29sb3IoW3RoaXMudmFsdWUsdGhpcy52YWx1ZSx0aGlzLnZhbHVlXSl9LHJvdW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWU9TWF0aC5yb3VuZCh0aGlzLnZhbHVlKSx0aGlzfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlLnRvU3RyaW5nKCl9LG9wZXJhdGU6ZnVuY3Rpb24oZSx0LHIpe3JldHVyblwiJVwiPT09dGhpcy51bml0JiZcIiVcIiE9PXIudW5pdD8oZS5lcnJvcih7bWVzc2FnZTpcIklmIHR3byBvcGVyYW5kcyBkaWZmZXIsIHRoZSBmaXJzdCBtdXN0IG5vdCBiZSAlXCIsaW5kZXg6dGhpcy5pbmRleH0pLHtpczpcInVuZGVmaW5lZFwiLHZhbHVlOlwidW5kZWZpbmVkXCJ9KTpcIiVcIiE9PXRoaXMudW5pdCYmXCIlXCI9PT1yLnVuaXQ/XCIqXCI9PT10fHxcIi9cIj09PXR8fFwiJVwiPT09dD8oZS5lcnJvcih7bWVzc2FnZTpcIlBlcmNlbnQgdmFsdWVzIGNhbiBvbmx5IGJlIGFkZGVkIG9yIHN1YnRyYWN0ZWQgZnJvbSBvdGhlciB2YWx1ZXNcIixpbmRleDp0aGlzLmluZGV4fSkse2lzOlwidW5kZWZpbmVkXCIsdmFsdWU6XCJ1bmRlZmluZWRcIn0pOm5ldyBuLkRpbWVuc2lvbihuLm9wZXJhdGUodCx0aGlzLnZhbHVlLHRoaXMudmFsdWUqci52YWx1ZSouMDEpLHRoaXMudW5pdCk6bmV3IG4uRGltZW5zaW9uKG4ub3BlcmF0ZSh0LHRoaXMudmFsdWUsci52YWx1ZSksdGhpcy51bml0fHxyLnVuaXQpfX19KGUoXCIuLi90cmVlXCIpKX0pLmNhbGwodGhpcyxcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOlwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se1wiLi4vdHJlZVwiOjksdW5kZXJzY29yZTo0Mn1dLDE1OltmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7ZS5FbGVtZW50PWZ1bmN0aW9uKGUpe3RoaXMudmFsdWU9ZS50cmltKCksXCIjXCI9PT10aGlzLnZhbHVlWzBdJiYodGhpcy50eXBlPVwiaWRcIix0aGlzLmNsZWFuPXRoaXMudmFsdWUucmVwbGFjZSgvXiMvLFwiXCIpKSxcIi5cIj09PXRoaXMudmFsdWVbMF0mJih0aGlzLnR5cGU9XCJjbGFzc1wiLHRoaXMuY2xlYW49dGhpcy52YWx1ZS5yZXBsYWNlKC9eXFwuLyxcIlwiKSksLTEhPT10aGlzLnZhbHVlLmluZGV4T2YoXCIqXCIpJiYodGhpcy50eXBlPVwid2lsZGNhcmRcIil9LGUuRWxlbWVudC5wcm90b3R5cGUuc3BlY2lmaWNpdHk9ZnVuY3Rpb24oKXtyZXR1cm5bXCJpZFwiPT09dGhpcy50eXBlPzE6MCxcImNsYXNzXCI9PT10aGlzLnR5cGU/MTowXX0sZS5FbGVtZW50LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlfX0oZShcIi4uL3RyZWVcIikpfSx7XCIuLi90cmVlXCI6OX1dLDE2OltmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7ZS5FeHByZXNzaW9uPWZ1bmN0aW9uKGUpe3RoaXMudmFsdWU9ZX0sZS5FeHByZXNzaW9uLnByb3RvdHlwZT17aXM6XCJleHByZXNzaW9uXCIsZXY6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudmFsdWUubGVuZ3RoPjE/bmV3IGUuRXhwcmVzc2lvbih0aGlzLnZhbHVlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ldih0KX0pKTp0aGlzLnZhbHVlWzBdLmV2KHQpfSx0b1N0cmluZzpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52YWx1ZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9TdHJpbmcoZSl9KS5qb2luKFwiIFwiKX19fShlKFwiLi4vdHJlZVwiKSl9LHtcIi4uL3RyZWVcIjo5fV0sMTc6W2Z1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtlLkZpZWxkPWZ1bmN0aW9uKGUpe3RoaXMudmFsdWU9ZXx8XCJcIn0sZS5GaWVsZC5wcm90b3R5cGU9e2lzOlwiZmllbGRcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW1wiK3RoaXMudmFsdWUrXCJdXCJ9LGV2OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fX0oZShcIi4uL3RyZWVcIikpfSx7XCIuLi90cmVlXCI6OX1dLDE4OltmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7ZS5GaWx0ZXI9ZnVuY3Rpb24oZSx0LG4scixpKXt0aGlzLmtleT1lLHRoaXMub3A9dCx0aGlzLnZhbD1uLHRoaXMuaW5kZXg9cix0aGlzLmZpbGVuYW1lPWksdGhpcy5pZD10aGlzLmtleSt0aGlzLm9wK3RoaXMudmFsfTt2YXIgdD17XCI8XCI6W1wiICZsdDsgXCIsXCJudW1lcmljXCJdLFwiPlwiOltcIiAmZ3Q7IFwiLFwibnVtZXJpY1wiXSxcIj1cIjpbXCIgPSBcIixcImJvdGhcIl0sXCIhPVwiOltcIiAhPSBcIixcImJvdGhcIl0sXCI8PVwiOltcIiAmbHQ7PSBcIixcIm51bWVyaWNcIl0sXCI+PVwiOltcIiAmZ3Q7PSBcIixcIm51bWVyaWNcIl0sXCI9flwiOltcIi5tYXRjaChcIixcInN0cmluZ1wiLFwiKVwiXX07ZS5GaWx0ZXIucHJvdG90eXBlLmV2PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmtleT10aGlzLmtleS5ldihlKSx0aGlzLnZhbD10aGlzLnZhbC5ldihlKSx0aGlzfSxlLkZpbHRlci5wcm90b3R5cGUudG9YTUw9ZnVuY3Rpb24obil7ZS5SZWZlcmVuY2UuZGF0YS5maWx0ZXImJihcImtleXdvcmRcIj09PXRoaXMua2V5LmlzJiYtMT09PWUuUmVmZXJlbmNlLmRhdGEuZmlsdGVyLnZhbHVlLmluZGV4T2YodGhpcy5rZXkudG9TdHJpbmcoKSkmJm4uZXJyb3Ioe21lc3NhZ2U6dGhpcy5rZXkudG9TdHJpbmcoKStcIiBpcyBub3QgYSB2YWxpZCBrZXl3b3JkIGluIGEgZmlsdGVyIGV4cHJlc3Npb25cIixpbmRleDp0aGlzLmluZGV4LGZpbGVuYW1lOnRoaXMuZmlsZW5hbWV9KSxcImtleXdvcmRcIj09PXRoaXMudmFsLmlzJiYtMT09PWUuUmVmZXJlbmNlLmRhdGEuZmlsdGVyLnZhbHVlLmluZGV4T2YodGhpcy52YWwudG9TdHJpbmcoKSkmJm4uZXJyb3Ioe21lc3NhZ2U6dGhpcy52YWwudG9TdHJpbmcoKStcIiBpcyBub3QgYSB2YWxpZCBrZXl3b3JkIGluIGEgZmlsdGVyIGV4cHJlc3Npb25cIixpbmRleDp0aGlzLmluZGV4LGZpbGVuYW1lOnRoaXMuZmlsZW5hbWV9KSk7dmFyIHI9dGhpcy5rZXkudG9TdHJpbmcoITEpLGk9dGhpcy52YWwudG9TdHJpbmcoXCJzdHJpbmdcIj09dGhpcy52YWwuaXMpO3JldHVybihcIm51bWVyaWNcIj09dFt0aGlzLm9wXVsxXSYmaXNOYU4oaSkmJlwiZmllbGRcIiE9PXRoaXMudmFsLmlzfHxcInN0cmluZ1wiPT10W3RoaXMub3BdWzFdJiZcIidcIiE9aVswXSkmJm4uZXJyb3Ioe21lc3NhZ2U6J0Nhbm5vdCB1c2Ugb3BlcmF0b3IgXCInK3RoaXMub3ArJ1wiIHdpdGggdmFsdWUgJyt0aGlzLnZhbCxpbmRleDp0aGlzLmluZGV4LGZpbGVuYW1lOnRoaXMuZmlsZW5hbWV9KSxyK3RbdGhpcy5vcF1bMF0raSsodFt0aGlzLm9wXVsyXXx8XCJcIil9LGUuRmlsdGVyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1wiK3RoaXMuaWQrXCJdXCJ9fShlKFwiLi4vdHJlZVwiKSl9LHtcIi4uL3RyZWVcIjo5fV0sMTk6W2Z1bmN0aW9uKGUpeyhmdW5jdGlvbih0KXt2YXIgbj1lKFwiLi4vdHJlZVwiKSxyPXQuX3x8ZShcInVuZGVyc2NvcmVcIik7bi5GaWx0ZXJzZXQ9ZnVuY3Rpb24oKXt0aGlzLmZpbHRlcnM9e319LG4uRmlsdGVyc2V0LnByb3RvdHlwZS50b1hNTD1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIG4gaW4gdGhpcy5maWx0ZXJzKXQucHVzaChcIihcIit0aGlzLmZpbHRlcnNbbl0udG9YTUwoZSkudHJpbSgpK1wiKVwiKTtyZXR1cm4gdC5sZW5ndGg/XCIgICAgPEZpbHRlcj5cIit0LmpvaW4oXCIgYW5kIFwiKStcIjwvRmlsdGVyPlxcblwiOlwiXCJ9LG4uRmlsdGVyc2V0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBlPVtdO2Zvcih2YXIgdCBpbiB0aGlzLmZpbHRlcnMpZS5wdXNoKHRoaXMuZmlsdGVyc1t0XS5pZCk7cmV0dXJuIGUuc29ydCgpLmpvaW4oXCJcdFwiKX0sbi5GaWx0ZXJzZXQucHJvdG90eXBlLmV2PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdCBpbiB0aGlzLmZpbHRlcnMpdGhpcy5maWx0ZXJzW3RdLmV2KGUpO3JldHVybiB0aGlzfSxuLkZpbHRlcnNldC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbi5GaWx0ZXJzZXQ7Zm9yKHZhciB0IGluIHRoaXMuZmlsdGVycyllLmZpbHRlcnNbdF09dGhpcy5maWx0ZXJzW3RdO3JldHVybiBlfSxuLkZpbHRlcnNldC5wcm90b3R5cGUuY2xvbmVXaXRoPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiBlLmZpbHRlcnMpe3ZhciBpPXRoaXMuYWRkYWJsZShlLmZpbHRlcnNbcl0pO2lmKGk9PT0hMSlyZXR1cm4hMTtpPT09ITAmJnQucHVzaChlLmZpbHRlcnNbcl0pfWlmKCF0Lmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgbz1uZXcgbi5GaWx0ZXJzZXQ7Zm9yKHIgaW4gdGhpcy5maWx0ZXJzKW8uZmlsdGVyc1tyXT10aGlzLmZpbHRlcnNbcl07Zm9yKDtyPXQuc2hpZnQoKTspby5hZGQocik7cmV0dXJuIG99LG4uRmlsdGVyc2V0LnByb3RvdHlwZS50b0pTPWZ1bmN0aW9uKCl7dmFyIGU9e1wiPVwiOlwiPT09XCJ9O3JldHVybiByLm1hcCh0aGlzLmZpbHRlcnMsZnVuY3Rpb24odCl7dmFyIG49dC5vcDtuIGluIGUmJihuPWVbbl0pO3ZhciByPXQudmFsO3ZvaWQgMCE9PXQuX3ZhbCYmKHI9dC5fdmFsLnRvU3RyaW5nKCEwKSk7dmFyIGk9XCJkYXRhXCI7cmV0dXJuIGkrXCJbJ1wiK3Qua2V5LnZhbHVlK1wiJ10gXCIrbitcIiBcIisoXCJzdHJpbmdcIj09PXIuaXM/XCInXCIrci50b1N0cmluZygpLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpK1wiJ1wiOnIpfSkuam9pbihcIiAmJiBcIil9LG4uRmlsdGVyc2V0LnByb3RvdHlwZS5hZGRhYmxlPWZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5LnRvU3RyaW5nKCksbj1lLnZhbC50b1N0cmluZygpO3N3aXRjaChuLm1hdGNoKC9eWzAtOV0rKFxcLlswLTldKik/JC8pJiYobj1wYXJzZUZsb2F0KG4pKSxlLm9wKXtjYXNlXCI9XCI6cmV0dXJuIHZvaWQgMCE9PXRoaXMuZmlsdGVyc1t0K1wiPVwiXT90aGlzLmZpbHRlcnNbdCtcIj1cIl0udmFsLnRvU3RyaW5nKCkhPW4/ITE6bnVsbDp2b2lkIDAhPT10aGlzLmZpbHRlcnNbdCtcIiE9XCIrbl0/ITE6dm9pZCAwIT09dGhpcy5maWx0ZXJzW3QrXCI+XCJdJiZ0aGlzLmZpbHRlcnNbdCtcIj5cIl0udmFsPj1uPyExOnZvaWQgMCE9PXRoaXMuZmlsdGVyc1t0K1wiPFwiXSYmdGhpcy5maWx0ZXJzW3QrXCI8XCJdLnZhbDw9bj8hMTp2b2lkIDAhPT10aGlzLmZpbHRlcnNbdCtcIj49XCJdJiZ0aGlzLmZpbHRlcnNbdCtcIj49XCJdLnZhbD5uPyExOnZvaWQgMCE9PXRoaXMuZmlsdGVyc1t0K1wiPD1cIl0mJnRoaXMuZmlsdGVyc1t0K1wiPD1cIl0udmFsPG4/ITE6ITA7Y2FzZVwiPX5cIjpyZXR1cm4hMDtjYXNlXCIhPVwiOnJldHVybiB2b2lkIDAhPT10aGlzLmZpbHRlcnNbdCtcIj1cIl0/dGhpcy5maWx0ZXJzW3QrXCI9XCJdLnZhbD09bj8hMTpudWxsOnZvaWQgMCE9PXRoaXMuZmlsdGVyc1t0K1wiIT1cIituXT9udWxsOnZvaWQgMCE9PXRoaXMuZmlsdGVyc1t0K1wiPlwiXSYmdGhpcy5maWx0ZXJzW3QrXCI+XCJdLnZhbD49bj9udWxsOnZvaWQgMCE9PXRoaXMuZmlsdGVyc1t0K1wiPFwiXSYmdGhpcy5maWx0ZXJzW3QrXCI8XCJdLnZhbDw9bj9udWxsOnZvaWQgMCE9PXRoaXMuZmlsdGVyc1t0K1wiPj1cIl0mJnRoaXMuZmlsdGVyc1t0K1wiPj1cIl0udmFsPm4/bnVsbDp2b2lkIDAhPT10aGlzLmZpbHRlcnNbdCtcIjw9XCJdJiZ0aGlzLmZpbHRlcnNbdCtcIjw9XCJdLnZhbDxuP251bGw6ITA7Y2FzZVwiPlwiOnJldHVybiB0K1wiPVwiaW4gdGhpcy5maWx0ZXJzP3RoaXMuZmlsdGVyc1t0K1wiPVwiXS52YWw8PW4/ITE6bnVsbDp2b2lkIDAhPT10aGlzLmZpbHRlcnNbdCtcIjxcIl0mJnRoaXMuZmlsdGVyc1t0K1wiPFwiXS52YWw8PW4/ITE6dm9pZCAwIT09dGhpcy5maWx0ZXJzW3QrXCI8PVwiXSYmdGhpcy5maWx0ZXJzW3QrXCI8PVwiXS52YWw8PW4/ITE6dm9pZCAwIT09dGhpcy5maWx0ZXJzW3QrXCI+XCJdJiZ0aGlzLmZpbHRlcnNbdCtcIj5cIl0udmFsPj1uP251bGw6dm9pZCAwIT09dGhpcy5maWx0ZXJzW3QrXCI+PVwiXSYmdGhpcy5maWx0ZXJzW3QrXCI+PVwiXS52YWw+bj9udWxsOiEwO2Nhc2VcIj49XCI6cmV0dXJuIHZvaWQgMCE9PXRoaXMuZmlsdGVyc1t0K1wiPVwiXT90aGlzLmZpbHRlcnNbdCtcIj1cIl0udmFsPG4/ITE6bnVsbDp2b2lkIDAhPT10aGlzLmZpbHRlcnNbdCtcIjxcIl0mJnRoaXMuZmlsdGVyc1t0K1wiPFwiXS52YWw8PW4/ITE6dm9pZCAwIT09dGhpcy5maWx0ZXJzW3QrXCI8PVwiXSYmdGhpcy5maWx0ZXJzW3QrXCI8PVwiXS52YWw8bj8hMTp2b2lkIDAhPT10aGlzLmZpbHRlcnNbdCtcIj5cIl0mJnRoaXMuZmlsdGVyc1t0K1wiPlwiXS52YWw+PW4/bnVsbDp2b2lkIDAhPT10aGlzLmZpbHRlcnNbdCtcIj49XCJdJiZ0aGlzLmZpbHRlcnNbdCtcIj49XCJdLnZhbD49bj9udWxsOiEwO2Nhc2VcIjxcIjpyZXR1cm4gdm9pZCAwIT09dGhpcy5maWx0ZXJzW3QrXCI9XCJdP3RoaXMuZmlsdGVyc1t0K1wiPVwiXS52YWw+PW4/ITE6bnVsbDp2b2lkIDAhPT10aGlzLmZpbHRlcnNbdCtcIj5cIl0mJnRoaXMuZmlsdGVyc1t0K1wiPlwiXS52YWw+PW4/ITE6dm9pZCAwIT09dGhpcy5maWx0ZXJzW3QrXCI+PVwiXSYmdGhpcy5maWx0ZXJzW3QrXCI+PVwiXS52YWw+PW4/ITE6dm9pZCAwIT09dGhpcy5maWx0ZXJzW3QrXCI8XCJdJiZ0aGlzLmZpbHRlcnNbdCtcIjxcIl0udmFsPD1uP251bGw6dm9pZCAwIT09dGhpcy5maWx0ZXJzW3QrXCI8PVwiXSYmdGhpcy5maWx0ZXJzW3QrXCI8PVwiXS52YWw8bj9udWxsOiEwO2Nhc2VcIjw9XCI6cmV0dXJuIHZvaWQgMCE9PXRoaXMuZmlsdGVyc1t0K1wiPVwiXT90aGlzLmZpbHRlcnNbdCtcIj1cIl0udmFsPm4/ITE6bnVsbDp2b2lkIDAhPT10aGlzLmZpbHRlcnNbdCtcIj5cIl0mJnRoaXMuZmlsdGVyc1t0K1wiPlwiXS52YWw+PW4/ITE6dm9pZCAwIT09dGhpcy5maWx0ZXJzW3QrXCI+PVwiXSYmdGhpcy5maWx0ZXJzW3QrXCI+PVwiXS52YWw+bj8hMTp2b2lkIDAhPT10aGlzLmZpbHRlcnNbdCtcIjxcIl0mJnRoaXMuZmlsdGVyc1t0K1wiPFwiXS52YWw8PW4/bnVsbDp2b2lkIDAhPT10aGlzLmZpbHRlcnNbdCtcIjw9XCJdJiZ0aGlzLmZpbHRlcnNbdCtcIjw9XCJdLnZhbDw9bj9udWxsOiEwfX0sbi5GaWx0ZXJzZXQucHJvdG90eXBlLmNvbmZsaWN0PWZ1bmN0aW9uKGUpe3ZhciB0PWUua2V5LnRvU3RyaW5nKCksbj1lLnZhbC50b1N0cmluZygpO3JldHVybiBpc05hTihwYXJzZUZsb2F0KG4pKXx8KG49cGFyc2VGbG9hdChuKSksXCI9XCI9PT1lLm9wJiZ2b2lkIDAhPT10aGlzLmZpbHRlcnNbdCtcIj1cIl0mJm4hPXRoaXMuZmlsdGVyc1t0K1wiPVwiXS52YWwudG9TdHJpbmcoKXx8XCIhPVwiPT09ZS5vcCYmdm9pZCAwIT09dGhpcy5maWx0ZXJzW3QrXCI9XCJdJiZuPT10aGlzLmZpbHRlcnNbdCtcIj1cIl0udmFsLnRvU3RyaW5nKCl8fFwiPVwiPT09ZS5vcCYmdm9pZCAwIT09dGhpcy5maWx0ZXJzW3QrXCIhPVwiXSYmbj09dGhpcy5maWx0ZXJzW3QrXCIhPVwiXS52YWwudG9TdHJpbmcoKT9lLnRvU3RyaW5nKCkrXCIgYWRkZWQgdG8gXCIrdGhpcy50b1N0cmluZygpK1wiIHByb2R1Y2VzIGFuIGludmFsaWQgZmlsdGVyXCI6ITF9LG4uRmlsdGVyc2V0LnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmtleS50b1N0cmluZygpLHI9ZS5vcCxpPXRoaXMuY29uZmxpY3QoZSk7aWYoaSlyZXR1cm4gaTtpZihcIj1cIj09PXIpe2Zvcih2YXIgbyBpbiB0aGlzLmZpbHRlcnMpdGhpcy5maWx0ZXJzW29dLmtleT09biYmZGVsZXRlIHRoaXMuZmlsdGVyc1tvXTt0aGlzLmZpbHRlcnNbbitcIj1cIl09ZX1lbHNlIGlmKFwiIT1cIj09PXIpdGhpcy5maWx0ZXJzW24rXCIhPVwiK2UudmFsXT1lO2Vsc2UgaWYoXCI9flwiPT09cil0aGlzLmZpbHRlcnNbbitcIj1+XCIrZS52YWxdPWU7ZWxzZSBpZihcIj5cIj09PXIpe2Zvcih2YXIgYSBpbiB0aGlzLmZpbHRlcnMpdGhpcy5maWx0ZXJzW2FdLmtleT09biYmdGhpcy5maWx0ZXJzW2FdLnZhbDw9ZS52YWwmJmRlbGV0ZSB0aGlzLmZpbHRlcnNbYV07dGhpcy5maWx0ZXJzW24rXCI+XCJdPWV9ZWxzZSBpZihcIj49XCI9PT1yKXtmb3IodmFyIHMgaW4gdGhpcy5maWx0ZXJzKXQ9K3RoaXMuZmlsdGVyc1tzXS52YWwudG9TdHJpbmcoKSx0aGlzLmZpbHRlcnNbc10ua2V5PT1uJiZ0PGUudmFsJiZkZWxldGUgdGhpcy5maWx0ZXJzW3NdO3ZvaWQgMCE9PXRoaXMuZmlsdGVyc1tuK1wiIT1cIitlLnZhbF0/KGRlbGV0ZSB0aGlzLmZpbHRlcnNbbitcIiE9XCIrZS52YWxdLGUub3A9XCI+XCIsdGhpcy5maWx0ZXJzW24rXCI+XCJdPWUpOnRoaXMuZmlsdGVyc1tuK1wiPj1cIl09ZX1lbHNlIGlmKFwiPFwiPT09cil7Zm9yKHZhciBsIGluIHRoaXMuZmlsdGVycyl0PSt0aGlzLmZpbHRlcnNbbF0udmFsLnRvU3RyaW5nKCksdGhpcy5maWx0ZXJzW2xdLmtleT09biYmdD49ZS52YWwmJmRlbGV0ZSB0aGlzLmZpbHRlcnNbbF07dGhpcy5maWx0ZXJzW24rXCI8XCJdPWV9ZWxzZSBpZihcIjw9XCI9PT1yKXtmb3IodmFyIHUgaW4gdGhpcy5maWx0ZXJzKXQ9K3RoaXMuZmlsdGVyc1t1XS52YWwudG9TdHJpbmcoKSx0aGlzLmZpbHRlcnNbdV0ua2V5PT1uJiZ0PmUudmFsJiZkZWxldGUgdGhpcy5maWx0ZXJzW3VdO3ZvaWQgMCE9PXRoaXMuZmlsdGVyc1tuK1wiIT1cIitlLnZhbF0/KGRlbGV0ZSB0aGlzLmZpbHRlcnNbbitcIiE9XCIrZS52YWxdLGUub3A9XCI8XCIsdGhpcy5maWx0ZXJzW24rXCI8XCJdPWUpOnRoaXMuZmlsdGVyc1tuK1wiPD1cIl09ZX19fSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuLi90cmVlXCI6OSx1bmRlcnNjb3JlOjQyfV0sMjA6W2Z1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtlLl9nZXRGb250U2V0PWZ1bmN0aW9uKHQsbil7dmFyIHI9bi5qb2luKFwiXCIpO2lmKHQuX2ZvbnRNYXAmJnQuX2ZvbnRNYXBbcl0pcmV0dXJuIHQuX2ZvbnRNYXBbcl07dmFyIGk9bmV3IGUuRm9udFNldCh0LG4pO3JldHVybiB0LmVmZmVjdHMucHVzaChpKSx0Ll9mb250TWFwfHwodC5fZm9udE1hcD17fSksdC5fZm9udE1hcFtyXT1pLGl9LGUuRm9udFNldD1mdW5jdGlvbihlLHQpe3RoaXMuZm9udHM9dCx0aGlzLm5hbWU9XCJmb250c2V0LVwiK2UuZWZmZWN0cy5sZW5ndGh9LGUuRm9udFNldC5wcm90b3R5cGUudG9YTUw9ZnVuY3Rpb24oKXtyZXR1cm4nPEZvbnRTZXQgbmFtZT1cIicrdGhpcy5uYW1lKydcIj5cXG4nK3RoaXMuZm9udHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybicgIDxGb250IGZhY2UtbmFtZT1cIicrZSsnXCIvPid9KS5qb2luKFwiXFxuXCIpK1wiXFxuPC9Gb250U2V0PlwifX0oZShcIi4uL3RyZWVcIikpfSx7XCIuLi90cmVlXCI6OX1dLDIxOltmdW5jdGlvbihlKXt2YXIgdD1lKFwiLi4vdHJlZVwiKTt0LkZyYW1lT2Zmc2V0PWZ1bmN0aW9uKGUsbixyKXtpZihuPXBhcnNlSW50KG4sMTApLG4+dC5GcmFtZU9mZnNldC5tYXh8fDA+PW4pdGhyb3d7bWVzc2FnZTpcIk9ubHkgZnJhbWUtb2Zmc2V0IGxldmVscyBiZXR3ZWVuIDEgYW5kIFwiK3QuRnJhbWVPZmZzZXQubWF4K1wiIHN1cHBvcnRlZC5cIixpbmRleDpyfTtpZihcIj1cIiE9PWUpdGhyb3d7bWVzc2FnZTpcIm9ubHkgPSBvcGVyYXRvciBpcyBzdXBwb3J0ZWQgZm9yIGZyYW1lLW9mZnNldFwiLGluZGV4OnJ9O3JldHVybiBufSx0LkZyYW1lT2Zmc2V0Lm1heD0zMix0LkZyYW1lT2Zmc2V0Lm5vbmU9MH0se1wiLi4vdHJlZVwiOjl9XSwyMjpbZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe2UuSW1hZ2VGaWx0ZXI9ZnVuY3Rpb24oZSx0KXt0aGlzLmZpbHRlcj1lLHRoaXMuYXJncz10fHxudWxsfSxlLkltYWdlRmlsdGVyLnByb3RvdHlwZT17aXM6XCJpbWFnZWZpbHRlclwiLGV2OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXJncz90aGlzLmZpbHRlcitcIihcIit0aGlzLmFyZ3Muam9pbihcIixcIikrXCIpXCI6dGhpcy5maWx0ZXJ9fX0oZShcIi4uL3RyZWVcIikpfSx7XCIuLi90cmVlXCI6OX1dLDIzOltmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7ZS5JbnZhbGlkPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLmNodW5rPWUsdGhpcy5pbmRleD10LHRoaXMudHlwZT1cInN5bnRheFwiLHRoaXMubWVzc2FnZT1ufHxcIkludmFsaWQgY29kZTogXCIrdGhpcy5jaHVua30sZS5JbnZhbGlkLnByb3RvdHlwZS5pcz1cImludmFsaWRcIixlLkludmFsaWQucHJvdG90eXBlLmV2PWZ1bmN0aW9uKGUpe3JldHVybiBlLmVycm9yKHtjaHVuazp0aGlzLmNodW5rLGluZGV4OnRoaXMuaW5kZXgsdHlwZTpcInN5bnRheFwiLG1lc3NhZ2U6dGhpcy5tZXNzYWdlfHxcIkludmFsaWQgY29kZTogXCIrdGhpcy5jaHVua30pLHtpczpcInVuZGVmaW5lZFwifX19KGUoXCIuLi90cmVlXCIpKX0se1wiLi4vdHJlZVwiOjl9XSwyNDpbZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe2UuS2V5d29yZD1mdW5jdGlvbihlKXt0aGlzLnZhbHVlPWU7dmFyIHQ9e3RyYW5zcGFyZW50OlwiY29sb3JcIixcInRydWVcIjpcImJvb2xlYW5cIixcImZhbHNlXCI6XCJib29sZWFuXCJ9O3RoaXMuaXM9dFtlXT90W2VdOlwia2V5d29yZFwifSxlLktleXdvcmQucHJvdG90eXBlPXtldjpmdW5jdGlvbigpe3JldHVybiB0aGlzfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlfX19KGUoXCIuLi90cmVlXCIpKX0se1wiLi4vdHJlZVwiOjl9XSwyNTpbZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe2UuTGF5ZXJYTUw9ZnVuY3Rpb24odCxuKXt2YXIgcj1bXTtmb3IodmFyIGkgaW4gdC5EYXRhc291cmNlKXIucHVzaCgnPFBhcmFtZXRlciBuYW1lPVwiJytpKydcIj48IVtDREFUQVsnK3QuRGF0YXNvdXJjZVtpXStcIl1dPjwvUGFyYW1ldGVyPlwiKTt2YXIgbz1cIlwiO2Zvcih2YXIgYSBpbiB0LnByb3BlcnRpZXMpbys9XCJtaW56b29tXCI9PT1hPycgIG1heHpvb209XCInK2UuWm9vbS5yYW5nZXNbdC5wcm9wZXJ0aWVzW2FdXSsnXCJcXG4nOlwibWF4em9vbVwiPT09YT8nICBtaW56b29tPVwiJytlLlpvb20ucmFuZ2VzW3QucHJvcGVydGllc1thXSsxXSsnXCJcXG4nOlwiICBcIithKyc9XCInK3QucHJvcGVydGllc1thXSsnXCJcXG4nO3JldHVybic8TGF5ZXIgbmFtZT1cIicrdC5uYW1lKydcIlxcbicrbysoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQuc3RhdHVzP1wiXCI6JyAgc3RhdHVzPVwiJyt0LnN0YXR1cysnXCJcXG4nKSsoXCJ1bmRlZmluZWRcIj09dHlwZW9mIHQuc3JzP1wiXCI6JyAgc3JzPVwiJyt0LnNycysnXCInKStcIj5cXG4gICAgXCIrbi5yZXZlcnNlKCkubWFwKGZ1bmN0aW9uKGUpe3JldHVyblwiPFN0eWxlTmFtZT5cIitlK1wiPC9TdHlsZU5hbWU+XCJ9KS5qb2luKFwiXFxuICAgIFwiKSsoci5sZW5ndGg/XCJcXG4gICAgPERhdGFzb3VyY2U+XFxuICAgICAgIFwiK3Iuam9pbihcIlxcbiAgICAgICBcIikrXCJcXG4gICAgPC9EYXRhc291cmNlPlxcblwiOlwiXCIpK1wiICA8L0xheWVyPlxcblwifX0oZShcIi4uL3RyZWVcIikpfSx7XCIuLi90cmVlXCI6OX1dLDI2OltmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7ZS5MaXRlcmFsPWZ1bmN0aW9uKGUpe3RoaXMudmFsdWU9ZXx8XCJcIix0aGlzLmlzPVwiZmllbGRcIn0sZS5MaXRlcmFsLnByb3RvdHlwZT17dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZX0sZXY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319fShlKFwiLi4vdHJlZVwiKSl9LHtcIi4uL3RyZWVcIjo5fV0sMjc6W2Z1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtlLk9wZXJhdGlvbj1mdW5jdGlvbihlLHQsbil7dGhpcy5vcD1lLnRyaW0oKSx0aGlzLm9wZXJhbmRzPXQsdGhpcy5pbmRleD1ufSxlLk9wZXJhdGlvbi5wcm90b3R5cGUuaXM9XCJvcGVyYXRpb25cIixlLk9wZXJhdGlvbi5wcm90b3R5cGUuZXY9ZnVuY3Rpb24odCl7dmFyIG4scj10aGlzLm9wZXJhbmRzWzBdLmV2KHQpLGk9dGhpcy5vcGVyYW5kc1sxXS5ldih0KTtyZXR1cm5cInVuZGVmaW5lZFwiPT09ci5pc3x8XCJ1bmRlZmluZWRcIj09PWkuaXM/e2lzOlwidW5kZWZpbmVkXCIsdmFsdWU6XCJ1bmRlZmluZWRcIn06KHIgaW5zdGFuY2VvZiBlLkRpbWVuc2lvbiYmaSBpbnN0YW5jZW9mIGUuQ29sb3ImJihcIipcIj09PXRoaXMub3B8fFwiK1wiPT09dGhpcy5vcD8obj1pLGk9cixyPW4pOnQuZXJyb3Ioe25hbWU6XCJPcGVyYXRpb25FcnJvclwiLG1lc3NhZ2U6XCJDYW4ndCBzdWJzdHJhY3Qgb3IgZGl2aWRlIGEgY29sb3IgZnJvbSBhIG51bWJlclwiLGluZGV4OnRoaXMuaW5kZXh9KSksciBpbnN0YW5jZW9mIGUuUXVvdGVkJiZpIGluc3RhbmNlb2YgZS5RdW90ZWQmJlwiK1wiIT09dGhpcy5vcD8odC5lcnJvcih7bWVzc2FnZTpcIkNhbid0IHN1YnRyYWN0LCBkaXZpZGUsIG9yIG11bHRpcGx5IHN0cmluZ3MuXCIsaW5kZXg6dGhpcy5pbmRleCx0eXBlOlwicnVudGltZVwiLGZpbGVuYW1lOnRoaXMuZmlsZW5hbWV9KSx7aXM6XCJ1bmRlZmluZWRcIix2YWx1ZTpcInVuZGVmaW5lZFwifSk6ciBpbnN0YW5jZW9mIGUuRmllbGR8fGkgaW5zdGFuY2VvZiBlLkZpZWxkfHxyIGluc3RhbmNlb2YgZS5MaXRlcmFsfHxpIGluc3RhbmNlb2YgZS5MaXRlcmFsP1wiY29sb3JcIj09PXIuaXN8fFwiY29sb3JcIj09PWkuaXM/KHQuZXJyb3Ioe21lc3NhZ2U6XCJDYW4ndCBzdWJ0cmFjdCwgZGl2aWRlLCBvciBtdWx0aXBseSBjb2xvcnMgaW4gZXhwcmVzc2lvbnMuXCIsaW5kZXg6dGhpcy5pbmRleCx0eXBlOlwicnVudGltZVwiLGZpbGVuYW1lOnRoaXMuZmlsZW5hbWV9KSx7aXM6XCJ1bmRlZmluZWRcIix2YWx1ZTpcInVuZGVmaW5lZFwifSk6bmV3IGUuTGl0ZXJhbChyLmV2KHQpLnRvU3RyaW5nKCEwKSt0aGlzLm9wK2kuZXYodCkudG9TdHJpbmcoITApKTp2b2lkIDA9PT1yLm9wZXJhdGU/KHQuZXJyb3Ioe21lc3NhZ2U6XCJDYW5ub3QgZG8gbWF0aCB3aXRoIHR5cGUgXCIrci5pcytcIi5cIixpbmRleDp0aGlzLmluZGV4LHR5cGU6XCJydW50aW1lXCIsZmlsZW5hbWU6dGhpcy5maWxlbmFtZX0pLHtpczpcInVuZGVmaW5lZFwiLHZhbHVlOlwidW5kZWZpbmVkXCJ9KTpyLm9wZXJhdGUodCx0aGlzLm9wLGkpKX0sZS5vcGVyYXRlPWZ1bmN0aW9uKGUsdCxuKXtzd2l0Y2goZSl7Y2FzZVwiK1wiOnJldHVybiB0K247Y2FzZVwiLVwiOnJldHVybiB0LW47Y2FzZVwiKlwiOnJldHVybiB0Km47Y2FzZVwiJVwiOnJldHVybiB0JW47Y2FzZVwiL1wiOnJldHVybiB0L259fX0oZShcIi4uL3RyZWVcIikpfSx7XCIuLi90cmVlXCI6OX1dLDI4OltmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7ZS5RdW90ZWQ9ZnVuY3Rpb24oZSl7dGhpcy52YWx1ZT1lfHxcIlwifSxlLlF1b3RlZC5wcm90b3R5cGU9e2lzOlwic3RyaW5nXCIsdG9TdHJpbmc6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy52YWx1ZS5yZXBsYWNlKC8mL2csXCImYW1wO1wiKSxuPXQucmVwbGFjZSgvXFwnL2csXCJcXFxcJ1wiKS5yZXBsYWNlKC9cXFwiL2csXCImcXVvdDtcIikucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC9cXD4vZyxcIiZndDtcIik7cmV0dXJuIGU9PT0hMD9cIidcIituK1wiJ1wiOnR9LGV2OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LG9wZXJhdGU6ZnVuY3Rpb24odCxuLHIpe3JldHVybiBuZXcgZS5RdW90ZWQoZS5vcGVyYXRlKG4sdGhpcy50b1N0cmluZygpLHIudG9TdHJpbmcodGhpcy5jb250YWluc19maWVsZCkpKX19fShlKFwiLi4vdHJlZVwiKSl9LHtcIi4uL3RyZWVcIjo5fV0sMjk6W2Z1bmN0aW9uKGUpeyhmdW5jdGlvbih0KXshZnVuY3Rpb24obil7ZnVuY3Rpb24gcihlKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZS5zeW1ib2xpemVycylmb3IodmFyIHIgaW4gZS5zeW1ib2xpemVyc1tuXSllLnN5bWJvbGl6ZXJzW25dW3JdLmhhc093blByb3BlcnR5KFwiY3NzXCIpJiYodFtlLnN5bWJvbGl6ZXJzW25dW3JdLmNzc109W2Uuc3ltYm9saXplcnNbbl1bcl0sbixyXSk7cmV0dXJuIHR9ZnVuY3Rpb24gaShlKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZS5zeW1ib2xpemVycylmb3IodmFyIHIgaW4gZS5zeW1ib2xpemVyc1tuXSlpZihcImZ1bmN0aW9uc1wiPT09ZS5zeW1ib2xpemVyc1tuXVtyXS50eXBlKWZvcih2YXIgaT0wO2k8ZS5zeW1ib2xpemVyc1tuXVtyXS5mdW5jdGlvbnMubGVuZ3RoO2krKyl7dmFyIG89ZS5zeW1ib2xpemVyc1tuXVtyXS5mdW5jdGlvbnNbaV07dFtvWzBdXT1vWzFdfXJldHVybiB0fWZ1bmN0aW9uIG8oZSl7dmFyIHQ9e307Zm9yKHZhciBuIGluIGUuc3ltYm9saXplcnMpe3Rbbl09W107Zm9yKHZhciByIGluIGUuc3ltYm9saXplcnNbbl0pZS5zeW1ib2xpemVyc1tuXVtyXS5yZXF1aXJlZCYmdFtuXS5wdXNoKGUuc3ltYm9saXplcnNbbl1bcl0uY3NzKX1yZXR1cm4gdH1mdW5jdGlvbiBhKGUsdCl7aWYoXCJzdHJpbmdcIj09PWUudmFsdWVbMF0uaXMpcmV0dXJuITA7Zm9yKHZhciBuIGluIGUudmFsdWUpZm9yKHZhciByIGluIGUudmFsdWVbbl0udmFsdWUpe2lmKFwiY2FsbFwiIT09ZS52YWx1ZVtuXS52YWx1ZVtyXS5pcylyZXR1cm4hMTt2YXIgaT1sLmZpbmQodS5zZWxlY3Rvcih0KS5mdW5jdGlvbnMsZnVuY3Rpb24odCl7cmV0dXJuIHRbMF09PWUudmFsdWVbbl0udmFsdWVbcl0ubmFtZX0pO2lmKCEoaSYmLTE9PWlbMV18fGkmJmlbMV09PT1lLnZhbHVlW25dLnZhbHVlW3JdLmFyZ3MubGVuZ3RoKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBzKGUsdCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHUuc2VsZWN0b3IodCkudHlwZT8tMSE9PXUuc2VsZWN0b3IodCkudHlwZS5pbmRleE9mKGUudmFsdWVbMF0udmFsdWUpOlwic3RyaW5nXCI9PT11LnNlbGVjdG9yKHQpLnR5cGV9dmFyIGw9dC5ffHxlKFwidW5kZXJzY29yZVwiKSx1PXt9O3Uuc2V0RGF0YT1mdW5jdGlvbihlKXt1LmRhdGE9ZSx1LnNlbGVjdG9yX2NhY2hlPXIoZSksdS5tYXBuaWtGdW5jdGlvbnM9aShlKSx1Lm1hcG5pa0Z1bmN0aW9ucy5tYXRyaXg9WzZdLHUubWFwbmlrRnVuY3Rpb25zLnRyYW5zbGF0ZT1bMSwyXSx1Lm1hcG5pa0Z1bmN0aW9ucy5zY2FsZT1bMSwyXSx1Lm1hcG5pa0Z1bmN0aW9ucy5yb3RhdGU9WzEsM10sdS5tYXBuaWtGdW5jdGlvbnMuc2tld1g9WzFdLHUubWFwbmlrRnVuY3Rpb25zLnNrZXdZPVsxXSx1LnJlcXVpcmVkX2NhY2hlPW8oZSl9LHUuc2V0VmVyc2lvbj1mdW5jdGlvbih0KXt2YXIgbj1lKFwibWFwbmlrLXJlZmVyZW5jZVwiKTtyZXR1cm4gbi52ZXJzaW9uLmhhc093blByb3BlcnR5KHQpPyh1LnNldERhdGEobi52ZXJzaW9uW3RdKSwhMCk6ITF9LHUuc2VsZWN0b3JEYXRhPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHUuc2VsZWN0b3JfY2FjaGVbZV0/dS5zZWxlY3Rvcl9jYWNoZVtlXVt0XTp2b2lkIDB9LHUudmFsaWRTZWxlY3Rvcj1mdW5jdGlvbihlKXtyZXR1cm4hIXUuc2VsZWN0b3JfY2FjaGVbZV19LHUuc2VsZWN0b3JOYW1lPWZ1bmN0aW9uKGUpe3JldHVybiB1LnNlbGVjdG9yRGF0YShlLDIpfSx1LnNlbGVjdG9yPWZ1bmN0aW9uKGUpe3JldHVybiB1LnNlbGVjdG9yRGF0YShlLDApfSx1LnN5bWJvbGl6ZXI9ZnVuY3Rpb24oZSl7cmV0dXJuIHUuc2VsZWN0b3JEYXRhKGUsMSl9LHUucmVxdWlyZWRQcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsdCl7dmFyIG49dS5yZXF1aXJlZF9jYWNoZVtlXTtmb3IodmFyIHIgaW4gbilpZighKG5bcl1pbiB0KSlyZXR1cm5cIlByb3BlcnR5IFwiK25bcl0rXCIgcmVxdWlyZWQgZm9yIGRlZmluaW5nIFwiK2UrXCIgc3R5bGVzLlwifSx1Ll92YWxpZGF0ZVZhbHVlPXtmb250OmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUudmFsaWRhdGlvbl9kYXRhJiZlLnZhbGlkYXRpb25fZGF0YS5mb250cz8tMSE9ZS52YWxpZGF0aW9uX2RhdGEuZm9udHMuaW5kZXhPZih0KTohMH19LHUuaXNGb250PWZ1bmN0aW9uKGUpe3JldHVyblwiZm9udFwiPT11LnNlbGVjdG9yKGUpLnZhbGlkYXRlfSx1LmVkaXREaXN0YW5jZT1mdW5jdGlvbihlLHQpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm4gdC5sZW5ndGg7aWYoMD09PXQubGVuZ3RoKXJldHVybiBlLmxlbmd0aDtmb3IodmFyIG49W10scj0wO3I8PXQubGVuZ3RoO3IrKyluW3JdPVtyXTtmb3IodmFyIGk9MDtpPD1lLmxlbmd0aDtpKyspblswXVtpXT1pO2ZvcihyPTE7cjw9dC5sZW5ndGg7cisrKWZvcihpPTE7aTw9ZS5sZW5ndGg7aSsrKW5bcl1baV09dC5jaGFyQXQoci0xKT09ZS5jaGFyQXQoaS0xKT9uW3ItMV1baS0xXTpNYXRoLm1pbihuW3ItMV1baS0xXSsxLE1hdGgubWluKG5bcl1baS0xXSsxLG5bci0xXVtpXSsxKSk7cmV0dXJuIG5bdC5sZW5ndGhdW2UubGVuZ3RoXX0sdS52YWxpZFZhbHVlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcjtpZih1LnNlbGVjdG9yKHQpKXtpZihcImtleXdvcmRcIj09bi52YWx1ZVswXS5pcylyZXR1cm4gcyhuLHQpO2lmKFwidW5kZWZpbmVkXCI9PW4udmFsdWVbMF0uaXMpcmV0dXJuITA7aWYoXCJudW1iZXJzXCI9PXUuc2VsZWN0b3IodCkudHlwZSl7Zm9yKHIgaW4gbi52YWx1ZSlpZihcImZsb2F0XCIhPT1uLnZhbHVlW3JdLmlzKXJldHVybiExO3JldHVybiEwfWlmKFwidGFnc1wiPT11LnNlbGVjdG9yKHQpLnR5cGUpe2lmKCFuLnZhbHVlKXJldHVybiExO2lmKCFuLnZhbHVlWzBdLnZhbHVlKXJldHVyblwidGFnXCI9PT1uLnZhbHVlWzBdLmlzO2ZvcihyPTA7cjxuLnZhbHVlWzBdLnZhbHVlLmxlbmd0aDtyKyspaWYoXCJ0YWdcIiE9PW4udmFsdWVbMF0udmFsdWVbcl0uaXMpcmV0dXJuITE7cmV0dXJuITB9aWYoXCJmdW5jdGlvbnNcIj09dS5zZWxlY3Rvcih0KS50eXBlKXJldHVybiBhKG4sdCk7aWYoXCJ1bnNpZ25lZFwiPT09dS5zZWxlY3Rvcih0KS50eXBlKXJldHVyblwiZmxvYXRcIj09PW4udmFsdWVbMF0uaXM/KG4udmFsdWVbMF0ucm91bmQoKSwhMCk6ITE7aWYodS5zZWxlY3Rvcih0KS5leHByZXNzaW9uKXJldHVybiEwO2lmKHUuc2VsZWN0b3IodCkudmFsaWRhdGUpe3ZhciBpPSExO2ZvcihyPTA7cjxuLnZhbHVlLmxlbmd0aDtyKyspaWYodS5zZWxlY3Rvcih0KS50eXBlPT1uLnZhbHVlW3JdLmlzJiZ1Ll92YWxpZGF0ZVZhbHVlW3Uuc2VsZWN0b3IodCkudmFsaWRhdGVdKGUsbi52YWx1ZVtyXS52YWx1ZSkpcmV0dXJuITA7cmV0dXJuIGl9cmV0dXJuIHUuc2VsZWN0b3IodCkudHlwZT09bi52YWx1ZVswXS5pc31yZXR1cm4hMX0sbi5SZWZlcmVuY2U9dX0oZShcIi4uL3RyZWVcIikpfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuLi90cmVlXCI6OSxcIm1hcG5pay1yZWZlcmVuY2VcIjozOSx1bmRlcnNjb3JlOjQyfV0sMzA6W2Z1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBPYmplY3Qua2V5cyhlLlJlZmVyZW5jZS5zZWxlY3Rvcl9jYWNoZSkubWFwKGZ1bmN0aW9uKG4pe3JldHVybltuLGUuUmVmZXJlbmNlLmVkaXREaXN0YW5jZSh0LG4pXX0pLnNvcnQoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVsxXS10WzFdfSl9ZS5SdWxlPWZ1bmN0aW9uKHQsbixyLGkpe3ZhciBvPXQuc3BsaXQoXCIvXCIpO3RoaXMubmFtZT1vLnBvcCgpLHRoaXMuaW5zdGFuY2U9by5sZW5ndGg/b1swXTpcIl9fZGVmYXVsdF9fXCIsdGhpcy52YWx1ZT1uIGluc3RhbmNlb2YgZS5WYWx1ZT9uOm5ldyBlLlZhbHVlKFtuXSksdGhpcy5pbmRleD1yLHRoaXMuc3ltYm9saXplcj1lLlJlZmVyZW5jZS5zeW1ib2xpemVyKHRoaXMubmFtZSksdGhpcy5maWxlbmFtZT1pLHRoaXMudmFyaWFibGU9XCJAXCI9PT10LmNoYXJBdCgwKX0sZS5SdWxlLnByb3RvdHlwZS5pcz1cInJ1bGVcIixlLlJ1bGUucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0LmNyZWF0ZShlLlJ1bGUucHJvdG90eXBlKTtyZXR1cm4gdC5uYW1lPXRoaXMubmFtZSx0LnZhbHVlPXRoaXMudmFsdWUsdC5pbmRleD10aGlzLmluZGV4LHQuaW5zdGFuY2U9dGhpcy5pbnN0YW5jZSx0LnN5bWJvbGl6ZXI9dGhpcy5zeW1ib2xpemVyLHQuZmlsZW5hbWU9dGhpcy5maWxlbmFtZSx0LnZhcmlhYmxlPXRoaXMudmFyaWFibGUsdH0sZS5SdWxlLnByb3RvdHlwZS51cGRhdGVJRD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlkPXRoaXMuem9vbStcIiNcIit0aGlzLmluc3RhbmNlK1wiI1wiK3RoaXMubmFtZX0sZS5SdWxlLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW1wiK2UuWm9vbS50b1N0cmluZyh0aGlzLnpvb20pK1wiXSBcIit0aGlzLm5hbWUrXCI6IFwiK3RoaXMudmFsdWV9LGUuUnVsZS5wcm90b3R5cGUudG9YTUw9ZnVuY3Rpb24obixyLGkpe2lmKCFlLlJlZmVyZW5jZS52YWxpZFNlbGVjdG9yKHRoaXMubmFtZSkpe3ZhciBvPXQodGhpcy5uYW1lKSxhPVwiXCI7cmV0dXJuIG9bMF1bMV08MyYmKGE9XCIuIERpZCB5b3UgbWVhbiBcIitvWzBdWzBdK1wiP1wiKSxuLmVycm9yKHttZXNzYWdlOlwiVW5yZWNvZ25pemVkIHJ1bGU6IFwiK3RoaXMubmFtZSthLGluZGV4OnRoaXMuaW5kZXgsdHlwZTpcInN5bnRheFwiLGZpbGVuYW1lOnRoaXMuZmlsZW5hbWV9KX1pZih0aGlzLnZhbHVlIGluc3RhbmNlb2YgZS5WYWx1ZSYmIWUuUmVmZXJlbmNlLnZhbGlkVmFsdWUobix0aGlzLm5hbWUsdGhpcy52YWx1ZSkpe2lmKGUuUmVmZXJlbmNlLnNlbGVjdG9yKHRoaXMubmFtZSkpe3ZhciBzO3JldHVybiBzPWUuUmVmZXJlbmNlLnNlbGVjdG9yKHRoaXMubmFtZSkudmFsaWRhdGU/ZS5SZWZlcmVuY2Uuc2VsZWN0b3IodGhpcy5uYW1lKS52YWxpZGF0ZTpcIm9iamVjdFwiPT10eXBlb2YgZS5SZWZlcmVuY2Uuc2VsZWN0b3IodGhpcy5uYW1lKS50eXBlP1wia2V5d29yZCAob3B0aW9uczogXCIrZS5SZWZlcmVuY2Uuc2VsZWN0b3IodGhpcy5uYW1lKS50eXBlLmpvaW4oXCIsIFwiKStcIilcIjplLlJlZmVyZW5jZS5zZWxlY3Rvcih0aGlzLm5hbWUpLnR5cGUsbi5lcnJvcih7bWVzc2FnZTpcIkludmFsaWQgdmFsdWUgZm9yIFwiK3RoaXMubmFtZStcIiwgdGhlIHR5cGUgXCIrcytcIiBpcyBleHBlY3RlZC4gXCIrdGhpcy52YWx1ZStcIiAob2YgdHlwZSBcIit0aGlzLnZhbHVlLnZhbHVlWzBdLmlzK1wiKSAgd2FzIGdpdmVuLlwiLGluZGV4OnRoaXMuaW5kZXgsdHlwZTpcInN5bnRheFwiLGZpbGVuYW1lOnRoaXMuZmlsZW5hbWV9KX1yZXR1cm4gbi5lcnJvcih7bWVzc2FnZTpcIlVucmVjb2duaXplZCBwcm9wZXJ0eTogXCIrdGhpcy5uYW1lLGluZGV4OnRoaXMuaW5kZXgsdHlwZTpcInN5bnRheFwiLGZpbGVuYW1lOnRoaXMuZmlsZW5hbWV9KX1pZih0aGlzLnZhcmlhYmxlKXJldHVyblwiXCI7aWYoZS5SZWZlcmVuY2UuaXNGb250KHRoaXMubmFtZSkmJnRoaXMudmFsdWUudmFsdWUubGVuZ3RoPjEpe3ZhciBsPWUuX2dldEZvbnRTZXQobix0aGlzLnZhbHVlLnZhbHVlKTtyZXR1cm4nZm9udHNldC1uYW1lPVwiJytsLm5hbWUrJ1wiJ31yZXR1cm4gcj90aGlzLnZhbHVlLnRvU3RyaW5nKG4sdGhpcy5uYW1lLGkpOmUuUmVmZXJlbmNlLnNlbGVjdG9yTmFtZSh0aGlzLm5hbWUpKyc9XCInK3RoaXMudmFsdWUudG9TdHJpbmcobix0aGlzLm5hbWUpKydcIid9LGUuUnVsZS5wcm90b3R5cGUuZXY9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBlLlJ1bGUodGhpcy5uYW1lLHRoaXMudmFsdWUuZXYodCksdGhpcy5pbmRleCx0aGlzLmZpbGVuYW1lKX19KGUoXCIuLi90cmVlXCIpKX0se1wiLi4vdHJlZVwiOjl9XSwzMTpbZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUpe2UuUnVsZXNldD1mdW5jdGlvbihlLHQpe3RoaXMuc2VsZWN0b3JzPWUsdGhpcy5ydWxlcz10LHRoaXMuX2xvb2t1cHM9e319LGUuUnVsZXNldC5wcm90b3R5cGU9e2lzOlwicnVsZXNldFwiLGV2OmZ1bmN0aW9uKHQpe3ZhciBuLHI9bmV3IGUuUnVsZXNldCh0aGlzLnNlbGVjdG9ycyx0aGlzLnJ1bGVzLnNsaWNlKDApKTtmb3Ioci5yb290PXRoaXMucm9vdCx0LmZyYW1lcy51bnNoaWZ0KHIpLG49MCxydWxlO248ci5ydWxlcy5sZW5ndGg7bisrKXJ1bGU9ci5ydWxlc1tuXSxyLnJ1bGVzW25dPXJ1bGUuZXY/cnVsZS5ldih0KTpydWxlO3JldHVybiB0LmZyYW1lcy5zaGlmdCgpLHJ9LG1hdGNoOmZ1bmN0aW9uKGUpe3JldHVybiFlfHwwPT09ZS5sZW5ndGh9LHZhcmlhYmxlczpmdW5jdGlvbigpe3JldHVybiB0aGlzLl92YXJpYWJsZXM/dGhpcy5fdmFyaWFibGVzOnRoaXMuX3ZhcmlhYmxlcz10aGlzLnJ1bGVzLnJlZHVjZShmdW5jdGlvbih0LG4pe3JldHVybiBuIGluc3RhbmNlb2YgZS5SdWxlJiZuLnZhcmlhYmxlPT09ITAmJih0W24ubmFtZV09biksdH0se30pfSx2YXJpYWJsZTpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy52YXJpYWJsZXMoKVtlXX0scnVsZXNldHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcnVsZXNldHM/dGhpcy5fcnVsZXNldHM6dGhpcy5fcnVsZXNldHM9dGhpcy5ydWxlcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBlLlJ1bGVzZXR9KX0sZmluZDpmdW5jdGlvbih0LG4pe249bnx8dGhpczt2YXIgcixpPVtdLG89dC50b1N0cmluZygpO3JldHVybiBvIGluIHRoaXMuX2xvb2t1cHM/dGhpcy5fbG9va3Vwc1tvXToodGhpcy5ydWxlc2V0cygpLmZvckVhY2goZnVuY3Rpb24obyl7aWYobyE9PW4pZm9yKHZhciBhPTA7YTxvLnNlbGVjdG9ycy5sZW5ndGg7YSsrKWlmKHI9dC5tYXRjaChvLnNlbGVjdG9yc1thXSkpe3QuZWxlbWVudHMubGVuZ3RoPjE/QXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoaSxvLmZpbmQobmV3IGUuU2VsZWN0b3IobnVsbCxudWxsLG51bGwsdC5lbGVtZW50cy5zbGljZSgxKSksbikpOmkucHVzaChvKTticmVha319KSx0aGlzLl9sb29rdXBzW29dPWkpfSxldlpvb21zOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj0wO248dGhpcy5zZWxlY3RvcnMubGVuZ3RoO24rKyl7Zm9yKHZhciByPWUuWm9vbS5hbGwsaT0wO2k8dGhpcy5zZWxlY3RvcnNbbl0uem9vbS5sZW5ndGg7aSsrKXImPXRoaXMuc2VsZWN0b3JzW25dLnpvb21baV0uZXYodCkuem9vbTt0aGlzLnNlbGVjdG9yc1tuXS56b29tPXJ9fSxmbGF0dGVuOmZ1bmN0aW9uKHQsbixyKXt2YXIgaSxvLGE9W107Zm9yKDA9PT10aGlzLnNlbGVjdG9ycy5sZW5ndGgmJihyLmZyYW1lcz1yLmZyYW1lcy5jb25jYXQodGhpcy5ydWxlcykpLHRoaXMuZXZab29tcyhyKSxpPTA7aTx0aGlzLnNlbGVjdG9ycy5sZW5ndGg7aSsrKXt2YXIgcz10aGlzLnNlbGVjdG9yc1tpXTtpZihzLmZpbHRlcnMpaWYobi5sZW5ndGgpZm9yKG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGw9bltvXSx1PWwuZmlsdGVycy5jbG9uZVdpdGgocy5maWx0ZXJzKTtpZihudWxsPT09dSl7aWYobC56b29tPT09KGwuem9vbSZzLnpvb20pJiZsLmZyYW1lX29mZnNldD09PXMuZnJhbWVfb2Zmc2V0JiZsLmF0dGFjaG1lbnQ9PT1zLmF0dGFjaG1lbnQmJmwuZWxlbWVudHMuam9pbigpPT09cy5lbGVtZW50cy5qb2luKCkpe2EucHVzaChsKTtjb250aW51ZX11PWwuZmlsdGVyc31lbHNlIGlmKCF1KWNvbnRpbnVlO3ZhciBjPU9iamVjdC5jcmVhdGUoZS5TZWxlY3Rvci5wcm90b3R5cGUpO2MuZmlsdGVycz11LGMuem9vbT1sLnpvb20mcy56b29tLGMuZnJhbWVfb2Zmc2V0PXMuZnJhbWVfb2Zmc2V0LGMuZWxlbWVudHM9bC5lbGVtZW50cy5jb25jYXQocy5lbGVtZW50cyksYy5hdHRhY2htZW50PWwuYXR0YWNobWVudCYmcy5hdHRhY2htZW50P2wuYXR0YWNobWVudCtcIi9cIitzLmF0dGFjaG1lbnQ6cy5hdHRhY2htZW50fHxsLmF0dGFjaG1lbnQsYy5jb25kaXRpb25zPWwuY29uZGl0aW9ucytzLmNvbmRpdGlvbnMsYy5pbmRleD1zLmluZGV4LGEucHVzaChjKX1lbHNlIGEucHVzaChzKX12YXIgZj1bXTtmb3IoaT0wO2k8dGhpcy5ydWxlcy5sZW5ndGg7aSsrKXt2YXIgZD10aGlzLnJ1bGVzW2ldO2QgaW5zdGFuY2VvZiBlLlJ1bGVzZXQ/ZC5mbGF0dGVuKHQsYSxyKTpkIGluc3RhbmNlb2YgZS5SdWxlP2YucHVzaChkKTpkIGluc3RhbmNlb2YgZS5JbnZhbGlkJiZyLmVycm9yKGQpfXZhciBoPWYubGVuZ3RoP2ZbMF0uaW5kZXg6ITE7Zm9yKGk9MDtpPGEubGVuZ3RoO2krKyloIT09ITEmJihhW2ldLmluZGV4PWgpLHQucHVzaChuZXcgZS5EZWZpbml0aW9uKGFbaV0sZi5zbGljZSgpKSk7cmV0dXJuIHR9fX0oZShcIi4uL3RyZWVcIikpfSx7XCIuLi90cmVlXCI6OX1dLDMyOltmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7ZS5TZWxlY3Rvcj1mdW5jdGlvbih0LG4scixpLG8sYSxzKXt0aGlzLmVsZW1lbnRzPWl8fFtdLHRoaXMuYXR0YWNobWVudD1vLHRoaXMuZmlsdGVycz10fHx7fSx0aGlzLmZyYW1lX29mZnNldD1yLHRoaXMuem9vbT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygbj9uOmUuWm9vbS5hbGwsdGhpcy5jb25kaXRpb25zPWEsdGhpcy5pbmRleD1zfSxlLlNlbGVjdG9yLnByb3RvdHlwZS5zcGVjaWZpY2l0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnRzLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBuPXQuc3BlY2lmaWNpdHkoKTtyZXR1cm4gZVswXSs9blswXSxlWzFdKz1uWzFdLGV9LFswLDAsdGhpcy5jb25kaXRpb25zLHRoaXMuaW5kZXhdKX19KGUoXCIuLi90cmVlXCIpKX0se1wiLi4vdHJlZVwiOjl9XSwzMzpbZnVuY3Rpb24oZSl7KGZ1bmN0aW9uKHQpeyFmdW5jdGlvbihuKXt2YXIgcj10Ll98fGUoXCJ1bmRlcnNjb3JlXCIpO24uU3R5bGVYTUw9ZnVuY3Rpb24oZSx0LG4saSl7Zm9yKHZhciBvPXt9LGE9W10scz1bXSxsPVtdLHU9W10sYz1bXSxmPTA7ZjxuLmxlbmd0aDtmKyspZm9yKHZhciBkPTA7ZDxuW2ZdLnJ1bGVzLmxlbmd0aDtkKyspXCJpbWFnZS1maWx0ZXJzXCI9PT1uW2ZdLnJ1bGVzW2RdLm5hbWUmJmEucHVzaChuW2ZdLnJ1bGVzW2RdKSxcImltYWdlLWZpbHRlcnMtaW5mbGF0ZVwiPT09bltmXS5ydWxlc1tkXS5uYW1lJiZzLnB1c2gobltmXS5ydWxlc1tkXSksXCJkaXJlY3QtaW1hZ2UtZmlsdGVyc1wiPT09bltmXS5ydWxlc1tkXS5uYW1lJiZsLnB1c2gobltmXS5ydWxlc1tkXSksXCJjb21wLW9wXCI9PT1uW2ZdLnJ1bGVzW2RdLm5hbWUmJnUucHVzaChuW2ZdLnJ1bGVzW2RdKSxcIm9wYWNpdHlcIj09PW5bZl0ucnVsZXNbZF0ubmFtZSYmYy5wdXNoKG5bZl0ucnVsZXNbZF0pO3ZhciBoPW4ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRvWE1MKGksbyl9KSxwPVwiXCI7YS5sZW5ndGgmJihwKz0nIGltYWdlLWZpbHRlcnM9XCInK3IuY2hhaW4oYSkudW5pcShmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ldihpKS50b1hNTChpLCEwLFwiLFwiLFwiaW1hZ2UtZmlsdGVyXCIpfSkudmFsdWUoKS5qb2luKFwiLFwiKSsnXCInKSxzLmxlbmd0aCYmKHArPScgaW1hZ2UtZmlsdGVycy1pbmZsYXRlPVwiJytzWzBdLnZhbHVlLmV2KGkpLnRvU3RyaW5nKCkrJ1wiJyksbC5sZW5ndGgmJihwKz0nIGRpcmVjdC1pbWFnZS1maWx0ZXJzPVwiJytyLmNoYWluKGwpLnVuaXEoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWR9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXYoaSkudG9YTUwoaSwhMCxcIixcIixcImRpcmVjdC1pbWFnZS1maWx0ZXJcIil9KS52YWx1ZSgpLmpvaW4oXCIsXCIpKydcIicpLHUubGVuZ3RoJiZcInNyYy1vdmVyXCIhPXVbMF0udmFsdWUuZXYoaSkudmFsdWUmJihwKz0nIGNvbXAtb3A9XCInK3VbMF0udmFsdWUuZXYoaSkudG9TdHJpbmcoKSsnXCInKSxjLmxlbmd0aCYmMSE9Y1swXS52YWx1ZS5ldihpKS52YWx1ZSYmKHArPScgb3BhY2l0eT1cIicrY1swXS52YWx1ZS5ldihpKS50b1N0cmluZygpKydcIicpO3ZhciBtPWguam9pbihcIlwiKTtyZXR1cm4gcHx8bT8nPFN0eWxlIG5hbWU9XCInK2UrJ1wiIGZpbHRlci1tb2RlPVwiZmlyc3RcIicrcCtcIj5cXG5cIittK1wiPC9TdHlsZT5cIjpcIlwifX0oZShcIi4uL3RyZWVcIikpfSkuY2FsbCh0aGlzLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6e30pfSx7XCIuLi90cmVlXCI6OSx1bmRlcnNjb3JlOjQyfV0sMzQ6W2Z1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtlLlVSTD1mdW5jdGlvbihlLHQpe3RoaXMudmFsdWU9ZSx0aGlzLnBhdGhzPXR9LGUuVVJMLnByb3RvdHlwZT17aXM6XCJ1cmlcIix0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlLnRvU3RyaW5nKCl9LGV2OmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgZS5VUkwodGhpcy52YWx1ZS5ldih0KSx0aGlzLnBhdGhzKX19fShlKFwiLi4vdHJlZVwiKSl9LHtcIi4uL3RyZWVcIjo5fV0sMzU6W2Z1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtlLlZhbHVlPWZ1bmN0aW9uKGUpe3RoaXMudmFsdWU9ZX0sZS5WYWx1ZS5wcm90b3R5cGU9e2lzOlwidmFsdWVcIixldjpmdW5jdGlvbih0KXtyZXR1cm4gMT09PXRoaXMudmFsdWUubGVuZ3RoP3RoaXMudmFsdWVbMF0uZXYodCk6bmV3IGUuVmFsdWUodGhpcy52YWx1ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZXYodCl9KSl9LHRvU3RyaW5nOmZ1bmN0aW9uKGUsdCxuLHIpe3JldHVybiB0aGlzLnZhbHVlLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC50b1N0cmluZyhlLHIpfSkuam9pbihufHxcIiwgXCIpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciB0PU9iamVjdC5jcmVhdGUoZS5WYWx1ZS5wcm90b3R5cGUpO3JldHVybiB0LnZhbHVlPUFycmF5LmlzQXJyYXkodCk/dGhpcy52YWx1ZS5zbGljZSgpOnRoaXMudmFsdWUsdC5pcz10aGlzLmlzLHR9LHRvSlM6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcy5ldihlKSxuPXQudG9TdHJpbmcoKTtyZXR1cm5cImNvbG9yXCI9PT10LmlzfHxcInVyaVwiPT09dC5pc3x8XCJzdHJpbmdcIj09PXQuaXN8fFwia2V5d29yZFwiPT09dC5pcz9uPVwiJ1wiK24rXCInXCI6XCJmaWVsZFwiPT09dC5pcz9uPW4ucmVwbGFjZSgvXFxbKC4qKVxcXS9nLFwiZGF0YVsnJDEnXVwiKTpcImNhbGxcIj09PXQuaXMmJihuPUpTT04uc3RyaW5naWZ5KHtuYW1lOnQubmFtZSxhcmdzOnQuYXJnc30pKSxcIl92YWx1ZSA9IFwiK24rXCI7XCJcbn19fShlKFwiLi4vdHJlZVwiKSl9LHtcIi4uL3RyZWVcIjo5fV0sMzY6W2Z1bmN0aW9uKGUpeyFmdW5jdGlvbihlKXtlLlZhcmlhYmxlPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLm5hbWU9ZSx0aGlzLmluZGV4PXQsdGhpcy5maWxlbmFtZT1ufSxlLlZhcmlhYmxlLnByb3RvdHlwZT17aXM6XCJ2YXJpYWJsZVwiLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX0sZXY6ZnVuY3Rpb24oZSl7dGhpcy5uYW1lO2lmKHRoaXMuX2NzcylyZXR1cm4gdGhpcy5fY3NzO3ZhciB0PWUuZnJhbWVzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5uYW1lPT10aGlzLm5hbWV9LmJpbmQodGhpcykpO3JldHVybiB0Lmxlbmd0aD90WzBdLnZhbHVlLmV2KGUpOihlLmVycm9yKHttZXNzYWdlOlwidmFyaWFibGUgXCIrdGhpcy5uYW1lK1wiIGlzIHVuZGVmaW5lZFwiLGluZGV4OnRoaXMuaW5kZXgsdHlwZTpcInJ1bnRpbWVcIixmaWxlbmFtZTp0aGlzLmZpbGVuYW1lfSkse2lzOlwidW5kZWZpbmVkXCIsdmFsdWU6XCJ1bmRlZmluZWRcIn0pfX19KGUoXCIuLi90cmVlXCIpKX0se1wiLi4vdHJlZVwiOjl9XSwzNzpbZnVuY3Rpb24oZSl7dmFyIHQ9ZShcIi4uL3RyZWVcIik7dC5ab29tPWZ1bmN0aW9uKGUsdCxuKXt0aGlzLm9wPWUsdGhpcy52YWx1ZT10LHRoaXMuaW5kZXg9bn0sdC5ab29tLnByb3RvdHlwZS5zZXRab29tPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnpvb209ZSx0aGlzfSx0Llpvb20ucHJvdG90eXBlLmV2PWZ1bmN0aW9uKGUpe3ZhciBuPTAscj0xLzAsaT1wYXJzZUludCh0aGlzLnZhbHVlLmV2KGUpLnRvU3RyaW5nKCksMTApLG89MDtzd2l0Y2goKGk+dC5ab29tLm1heFpvb218fDA+aSkmJmUuZXJyb3Ioe21lc3NhZ2U6XCJPbmx5IHpvb20gbGV2ZWxzIGJldHdlZW4gMCBhbmQgXCIrdC5ab29tLm1heFpvb20rXCIgc3VwcG9ydGVkLlwiLGluZGV4OnRoaXMuaW5kZXh9KSx0aGlzLm9wKXtjYXNlXCI9XCI6cmV0dXJuIHRoaXMuem9vbT0xPDxpLHRoaXM7Y2FzZVwiPlwiOm49aSsxO2JyZWFrO2Nhc2VcIj49XCI6bj1pO2JyZWFrO2Nhc2VcIjxcIjpyPWktMTticmVhaztjYXNlXCI8PVwiOnI9aX1mb3IodmFyIGE9MDthPD10Llpvb20ubWF4Wm9vbTthKyspYT49biYmcj49YSYmKG98PTE8PGEpO3JldHVybiB0aGlzLnpvb209byx0aGlzfSx0Llpvb20ucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuem9vbX0sdC5ab29tLmFsbD04Mzg4NjA3LHQuWm9vbS5tYXhab29tPTIyLHQuWm9vbS5yYW5nZXM9ezA6MWU5LDE6NWU4LDI6MmU4LDM6MWU4LDQ6NWU3LDU6MjVlNiw2OjEyNWU1LDc6NjVlNSw4OjNlNiw5OjE1ZTUsMTA6NzVlNCwxMTo0ZTUsMTI6MmU1LDEzOjFlNSwxNDo1ZTQsMTU6MjVlMywxNjoxMjUwMCwxNzo1ZTMsMTg6MjUwMCwxOToxNTAwLDIwOjc1MCwyMTo1MDAsMjI6MjUwLDIzOjEwMH0sdC5ab29tLnByb3RvdHlwZS50b1hNTD1mdW5jdGlvbigpe3ZhciBlPVtdO2lmKHRoaXMuem9vbSE9dC5ab29tLmFsbCl7Zm9yKHZhciBuPW51bGwscj1udWxsLGk9MDtpPD10Llpvb20ubWF4Wm9vbTtpKyspdGhpcy56b29tJjE8PGkmJihudWxsPT09biYmKG49aSkscj1pKTtuPjAmJmUucHVzaChcIiAgICA8TWF4U2NhbGVEZW5vbWluYXRvcj5cIit0Llpvb20ucmFuZ2VzW25dK1wiPC9NYXhTY2FsZURlbm9taW5hdG9yPlxcblwiKSwyMj5yJiZlLnB1c2goXCIgICAgPE1pblNjYWxlRGVub21pbmF0b3I+XCIrdC5ab29tLnJhbmdlc1tyKzFdK1wiPC9NaW5TY2FsZURlbm9taW5hdG9yPlxcblwiKX1yZXR1cm4gZX0sdC5ab29tLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2Zvcih2YXIgZT1cIlwiLG49MDtuPD10Llpvb20ubWF4Wm9vbTtuKyspZSs9dGhpcy56b29tJjE8PG4/XCJYXCI6XCIuXCI7cmV0dXJuIGV9fSx7XCIuLi90cmVlXCI6OX1dLDM4OltmdW5jdGlvbihlLHQpe3QuZXhwb3J0cz17bmFtZTpcImNhcnRvXCIsdmVyc2lvbjpcIjAuMTUuMS1jZGIxXCIsZGVzY3JpcHRpb246XCJDYXJ0b0NTUyBTdHlsZXNoZWV0IENvbXBpbGVyXCIsdXJsOlwiaHR0cHM6Ly9naXRodWIuY29tL2NhcnRvZGIvY2FydG9cIixyZXBvc2l0b3J5Ont0eXBlOlwiZ2l0XCIsdXJsOlwiaHR0cDovL2dpdGh1Yi5jb20vY2FydG9kYi9jYXJ0by5naXRcIn0sYXV0aG9yOntuYW1lOlwiQ2FydG9EQlwiLHVybDpcImh0dHA6Ly9jYXJ0b2RiLmNvbS9cIn0sa2V5d29yZHM6W1wibWFwc1wiLFwiY3NzXCIsXCJzdHlsZXNoZWV0c1wiXSxjb250cmlidXRvcnM6W1wiVG9tIE1hY1dyaWdodCA8bWFjd3JpZ2h0QGdtYWlsLmNvbT5cIixcIktvbnN0YW50aW4gS8OkZmVyXCIsXCJBbGV4aXMgU2VsbGllciA8c2VsZkBjbG91ZGhlYWQubmV0PlwiLFwiUmF1bCBPY2hvYSA8cm9jaG9hQGNhcnRvZGIuY29tPlwiLFwiSmF2aSBTYW50YW5hIDxqc2FudGFuYUBjYXJ0b2RiLmNvbT5cIl0sbGljZW5zZXM6W3t0eXBlOlwiQXBhY2hlXCJ9XSxiaW46e2NhcnRvOlwiLi9iaW4vY2FydG9cIn0sbWFuOlwiLi9tYW4vY2FydG8uMVwiLG1haW46XCIuL2xpYi9jYXJ0by9pbmRleFwiLGVuZ2luZXM6e25vZGU6XCI+PTAuNC54XCJ9LGRlcGVuZGVuY2llczp7dW5kZXJzY29yZTpcIjEuOC4zXCIsXCJtYXBuaWstcmVmZXJlbmNlXCI6XCJ+Ni4wLjJcIixvcHRpbWlzdDpcIn4wLjYuMFwifSxkZXZEZXBlbmRlbmNpZXM6e21vY2hhOlwiMS4xMi54XCIsanNoaW50OlwiMC4yLnhcIixzYXg6XCIwLjEueFwiLGlzdGFuYnVsOlwifjAuMi4xNFwiLGNvdmVyYWxsczpcIn4yLjEwLjFcIixicm93c2VyaWZ5OlwifjcuMC4wXCIsXCJ1Z2xpZnktanNcIjpcIjEuMy4zXCJ9LHNjcmlwdHM6e3ByZXRlc3Q6XCJucG0gaW5zdGFsbFwiLHRlc3Q6XCJtb2NoYSAtUiBzcGVjXCIsY292ZXJhZ2U6XCJpc3RhbmJ1bCBjb3ZlciAuL25vZGVfbW9kdWxlcy8uYmluL19tb2NoYSAmJiBjb3ZlcmFsbHMgPCAuL2NvdmVyYWdlL2xjb3YuaW5mb1wifX19LHt9XSwzOTpbZnVuY3Rpb24oZSx0KXsoZnVuY3Rpb24obil7dmFyIHI9KGUoXCJmc1wiKSxlKFwicGF0aFwiKSksaT1lKFwiZnNcIikuZXhpc3RzU3luY3x8ZShcInBhdGhcIikuZXhpc3RzU3luYzt0LmV4cG9ydHMudmVyc2lvbj17fTt2YXIgbz1bXCIyLjAuMFwiLFwiMi4wLjFcIixcIjIuMC4yXCIsXCIyLjEuMFwiLFwiMi4xLjFcIixcIjIuMi4wXCIsXCIyLjMuMFwiLFwiMy4wLjBcIl07by5tYXAoZnVuY3Rpb24obyl7dC5leHBvcnRzLnZlcnNpb25bb109ZShyLmpvaW4obixvLFwicmVmZXJlbmNlLmpzb25cIikpO3ZhciBhPXIuam9pbihuLG8sXCJkYXRhc291cmNlcy5qc29uXCIpO2koYSkmJih0LmV4cG9ydHMudmVyc2lvbltvXS5kYXRhc291cmNlcz1lKGEpLmRhdGFzb3VyY2VzKX0pfSkuY2FsbCh0aGlzLFwiL25vZGVfbW9kdWxlcy9tYXBuaWstcmVmZXJlbmNlXCIpfSx7ZnM6MixwYXRoOjQwfV0sNDA6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHQpe2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGgtMTtyPj0wO3ItLSl7dmFyIGk9ZVtyXTtcIi5cIj09PWk/ZS5zcGxpY2UociwxKTpcIi4uXCI9PT1pPyhlLnNwbGljZShyLDEpLG4rKyk6biYmKGUuc3BsaWNlKHIsMSksbi0tKX1pZih0KWZvcig7bi0tO24pZS51bnNoaWZ0KFwiLi5cIik7cmV0dXJuIGV9ZnVuY3Rpb24gcihlLHQpe2lmKGUuZmlsdGVyKXJldHVybiBlLmZpbHRlcih0KTtmb3IodmFyIG49W10scj0wO3I8ZS5sZW5ndGg7cisrKXQoZVtyXSxyLGUpJiZuLnB1c2goZVtyXSk7cmV0dXJuIG59dmFyIGk9L14oXFwvP3wpKFtcXHNcXFNdKj8pKCg/OlxcLnsxLDJ9fFteXFwvXSs/fCkoXFwuW14uXFwvXSp8KSkoPzpbXFwvXSopJC8sbz1mdW5jdGlvbihlKXtyZXR1cm4gaS5leGVjKGUpLnNsaWNlKDEpfTtuLnJlc29sdmU9ZnVuY3Rpb24oKXtmb3IodmFyIG49XCJcIixpPSExLG89YXJndW1lbnRzLmxlbmd0aC0xO28+PS0xJiYhaTtvLS0pe3ZhciBhPW8+PTA/YXJndW1lbnRzW29dOmUuY3dkKCk7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGEpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50cyB0byBwYXRoLnJlc29sdmUgbXVzdCBiZSBzdHJpbmdzXCIpO2EmJihuPWErXCIvXCIrbixpPVwiL1wiPT09YS5jaGFyQXQoMCkpfXJldHVybiBuPXQocihuLnNwbGl0KFwiL1wiKSxmdW5jdGlvbihlKXtyZXR1cm4hIWV9KSwhaSkuam9pbihcIi9cIiksKGk/XCIvXCI6XCJcIikrbnx8XCIuXCJ9LG4ubm9ybWFsaXplPWZ1bmN0aW9uKGUpe3ZhciBpPW4uaXNBYnNvbHV0ZShlKSxvPVwiL1wiPT09YShlLC0xKTtyZXR1cm4gZT10KHIoZS5zcGxpdChcIi9cIiksZnVuY3Rpb24oZSl7cmV0dXJuISFlfSksIWkpLmpvaW4oXCIvXCIpLGV8fGl8fChlPVwiLlwiKSxlJiZvJiYoZSs9XCIvXCIpLChpP1wiL1wiOlwiXCIpK2V9LG4uaXNBYnNvbHV0ZT1mdW5jdGlvbihlKXtyZXR1cm5cIi9cIj09PWUuY2hhckF0KDApfSxuLmpvaW49ZnVuY3Rpb24oKXt2YXIgZT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIG4ubm9ybWFsaXplKHIoZSxmdW5jdGlvbihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnRzIHRvIHBhdGguam9pbiBtdXN0IGJlIHN0cmluZ3NcIik7cmV0dXJuIGV9KS5qb2luKFwiL1wiKSl9LG4ucmVsYXRpdmU9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGgmJlwiXCI9PT1lW3RdO3QrKyk7Zm9yKHZhciBuPWUubGVuZ3RoLTE7bj49MCYmXCJcIj09PWVbbl07bi0tKTtyZXR1cm4gdD5uP1tdOmUuc2xpY2UodCxuLXQrMSl9ZT1uLnJlc29sdmUoZSkuc3Vic3RyKDEpLHQ9bi5yZXNvbHZlKHQpLnN1YnN0cigxKTtmb3IodmFyIGk9cihlLnNwbGl0KFwiL1wiKSksbz1yKHQuc3BsaXQoXCIvXCIpKSxhPU1hdGgubWluKGkubGVuZ3RoLG8ubGVuZ3RoKSxzPWEsbD0wO2E+bDtsKyspaWYoaVtsXSE9PW9bbF0pe3M9bDticmVha31mb3IodmFyIHU9W10sbD1zO2w8aS5sZW5ndGg7bCsrKXUucHVzaChcIi4uXCIpO3JldHVybiB1PXUuY29uY2F0KG8uc2xpY2UocykpLHUuam9pbihcIi9cIil9LG4uc2VwPVwiL1wiLG4uZGVsaW1pdGVyPVwiOlwiLG4uZGlybmFtZT1mdW5jdGlvbihlKXt2YXIgdD1vKGUpLG49dFswXSxyPXRbMV07cmV0dXJuIG58fHI/KHImJihyPXIuc3Vic3RyKDAsci5sZW5ndGgtMSkpLG4rcik6XCIuXCJ9LG4uYmFzZW5hbWU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1vKGUpWzJdO3JldHVybiB0JiZuLnN1YnN0cigtMSp0Lmxlbmd0aCk9PT10JiYobj1uLnN1YnN0cigwLG4ubGVuZ3RoLXQubGVuZ3RoKSksbn0sbi5leHRuYW1lPWZ1bmN0aW9uKGUpe3JldHVybiBvKGUpWzNdfTt2YXIgYT1cImJcIj09PVwiYWJcIi5zdWJzdHIoLTEpP2Z1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5zdWJzdHIodCxuKX06ZnVuY3Rpb24oZSx0LG4pe3JldHVybiAwPnQmJih0PWUubGVuZ3RoK3QpLGUuc3Vic3RyKHQsbil9fSkuY2FsbCh0aGlzLGUoXCJfcHJvY2Vzc1wiKSl9LHtfcHJvY2Vzczo0MX1dLDQxOltmdW5jdGlvbihlLHQpe2Z1bmN0aW9uIG4oKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIHIoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gaShlKXtpZihjPT09c2V0VGltZW91dClyZXR1cm4gc2V0VGltZW91dChlLDApO2lmKChjPT09bnx8IWMpJiZzZXRUaW1lb3V0KXJldHVybiBjPXNldFRpbWVvdXQsc2V0VGltZW91dChlLDApO3RyeXtyZXR1cm4gYyhlLDApfWNhdGNoKHQpe3RyeXtyZXR1cm4gYy5jYWxsKG51bGwsZSwwKX1jYXRjaCh0KXtyZXR1cm4gYy5jYWxsKHRoaXMsZSwwKX19fWZ1bmN0aW9uIG8oZSl7aWYoZj09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KGUpO2lmKChmPT09cnx8IWYpJiZjbGVhclRpbWVvdXQpcmV0dXJuIGY9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChlKTt0cnl7cmV0dXJuIGYoZSl9Y2F0Y2godCl7dHJ5e3JldHVybiBmLmNhbGwobnVsbCxlKX1jYXRjaCh0KXtyZXR1cm4gZi5jYWxsKHRoaXMsZSl9fX1mdW5jdGlvbiBhKCl7bSYmaCYmKG09ITEsaC5sZW5ndGg/cD1oLmNvbmNhdChwKTpnPS0xLHAubGVuZ3RoJiZzKCkpfWZ1bmN0aW9uIHMoKXtpZighbSl7dmFyIGU9aShhKTttPSEwO2Zvcih2YXIgdD1wLmxlbmd0aDt0Oyl7Zm9yKGg9cCxwPVtdOysrZzx0OyloJiZoW2ddLnJ1bigpO2c9LTEsdD1wLmxlbmd0aH1oPW51bGwsbT0hMSxvKGUpfX1mdW5jdGlvbiBsKGUsdCl7dGhpcy5mdW49ZSx0aGlzLmFycmF5PXR9ZnVuY3Rpb24gdSgpe312YXIgYyxmLGQ9dC5leHBvcnRzPXt9OyFmdW5jdGlvbigpe3RyeXtjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpufWNhdGNoKGUpe2M9bn10cnl7Zj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBjbGVhclRpbWVvdXQ/Y2xlYXJUaW1lb3V0OnJ9Y2F0Y2goZSl7Zj1yfX0oKTt2YXIgaCxwPVtdLG09ITEsZz0tMTtkLm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSlmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbi0xXT1hcmd1bWVudHNbbl07cC5wdXNoKG5ldyBsKGUsdCkpLDEhPT1wLmxlbmd0aHx8bXx8aShzKX0sbC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0sZC50aXRsZT1cImJyb3dzZXJcIixkLmJyb3dzZXI9ITAsZC5lbnY9e30sZC5hcmd2PVtdLGQudmVyc2lvbj1cIlwiLGQudmVyc2lvbnM9e30sZC5vbj11LGQuYWRkTGlzdGVuZXI9dSxkLm9uY2U9dSxkLm9mZj11LGQucmVtb3ZlTGlzdGVuZXI9dSxkLnJlbW92ZUFsbExpc3RlbmVycz11LGQuZW1pdD11LGQuYmluZGluZz1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkXCIpfSxkLmN3ZD1mdW5jdGlvbigpe3JldHVyblwiL1wifSxkLmNoZGlyPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfSxkLnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fSx7fV0sNDI6W2Z1bmN0aW9uKGUsdCxuKXsoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe2Z1bmN0aW9uIHQodCxuLHIsaSxvLGEpe2Zvcig7bz49MCYmYT5vO28rPWUpe3ZhciBzPWk/aVtvXTpvO3I9bihyLHRbc10scyx0KX1yZXR1cm4gcn1yZXR1cm4gZnVuY3Rpb24obixyLGksbyl7cj14KHIsbyw0KTt2YXIgYT0hRihuKSYmdy5rZXlzKG4pLHM9KGF8fG4pLmxlbmd0aCxsPWU+MD8wOnMtMTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwzJiYoaT1uW2E/YVtsXTpsXSxsKz1lKSx0KG4scixpLGEsbCxzKX19ZnVuY3Rpb24gcihlKXtyZXR1cm4gZnVuY3Rpb24odCxuLHIpe249ayhuLHIpO2Zvcih2YXIgaT1BKHQpLG89ZT4wPzA6aS0xO28+PTAmJmk+bztvKz1lKWlmKG4odFtvXSxvLHQpKXJldHVybiBvO3JldHVybi0xfX1mdW5jdGlvbiBpKGUsdCxuKXtyZXR1cm4gZnVuY3Rpb24ocixpLG8pe3ZhciBhPTAscz1BKHIpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBvKWU+MD9hPW8+PTA/bzpNYXRoLm1heChvK3MsYSk6cz1vPj0wP01hdGgubWluKG8rMSxzKTpvK3MrMTtlbHNlIGlmKG4mJm8mJnMpcmV0dXJuIG89bihyLGkpLHJbb109PT1pP286LTE7aWYoaSE9PWkpcmV0dXJuIG89dChkLmNhbGwocixhLHMpLHcuaXNOYU4pLG8+PTA/bythOi0xO2ZvcihvPWU+MD9hOnMtMTtvPj0wJiZzPm87bys9ZSlpZihyW29dPT09aSlyZXR1cm4gbztyZXR1cm4tMX19ZnVuY3Rpb24gbyhlLHQpe3ZhciBuPUwubGVuZ3RoLHI9ZS5jb25zdHJ1Y3RvcixpPXcuaXNGdW5jdGlvbihyKSYmci5wcm90b3R5cGV8fHUsbz1cImNvbnN0cnVjdG9yXCI7Zm9yKHcuaGFzKGUsbykmJiF3LmNvbnRhaW5zKHQsbykmJnQucHVzaChvKTtuLS07KW89TFtuXSxvIGluIGUmJmVbb10hPT1pW29dJiYhdy5jb250YWlucyh0LG8pJiZ0LnB1c2gobyl9dmFyIGE9dGhpcyxzPWEuXyxsPUFycmF5LnByb3RvdHlwZSx1PU9iamVjdC5wcm90b3R5cGUsYz1GdW5jdGlvbi5wcm90b3R5cGUsZj1sLnB1c2gsZD1sLnNsaWNlLGg9dS50b1N0cmluZyxwPXUuaGFzT3duUHJvcGVydHksbT1BcnJheS5pc0FycmF5LGc9T2JqZWN0LmtleXMsdj1jLmJpbmQseT1PYmplY3QuY3JlYXRlLGI9ZnVuY3Rpb24oKXt9LHc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB3P2U6dGhpcyBpbnN0YW5jZW9mIHc/dm9pZCh0aGlzLl93cmFwcGVkPWUpOm5ldyB3KGUpfTtcInVuZGVmaW5lZFwiIT10eXBlb2Ygbj8oXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHQmJnQuZXhwb3J0cyYmKG49dC5leHBvcnRzPXcpLG4uXz13KTphLl89dyx3LlZFUlNJT049XCIxLjguM1wiO3ZhciB4PWZ1bmN0aW9uKGUsdCxuKXtpZih2b2lkIDA9PT10KXJldHVybiBlO3N3aXRjaChudWxsPT1uPzM6bil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gZS5jYWxsKHQsbil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gZS5jYWxsKHQsbixyKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihuLHIsaSl7cmV0dXJuIGUuY2FsbCh0LG4scixpKX07Y2FzZSA0OnJldHVybiBmdW5jdGlvbihuLHIsaSxvKXtyZXR1cm4gZS5jYWxsKHQsbixyLGksbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19LGs9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBudWxsPT1lP3cuaWRlbnRpdHk6dy5pc0Z1bmN0aW9uKGUpP3goZSx0LG4pOncuaXNPYmplY3QoZSk/dy5tYXRjaGVyKGUpOncucHJvcGVydHkoZSl9O3cuaXRlcmF0ZWU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gayhlLHQsMS8wKX07dmFyIFM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9YXJndW1lbnRzLmxlbmd0aDtpZigyPnJ8fG51bGw9PW4pcmV0dXJuIG47Zm9yKHZhciBpPTE7cj5pO2krKylmb3IodmFyIG89YXJndW1lbnRzW2ldLGE9ZShvKSxzPWEubGVuZ3RoLGw9MDtzPmw7bCsrKXt2YXIgdT1hW2xdO3QmJnZvaWQgMCE9PW5bdV18fChuW3VdPW9bdV0pfXJldHVybiBufX0sej1mdW5jdGlvbihlKXtpZighdy5pc09iamVjdChlKSlyZXR1cm57fTtpZih5KXJldHVybiB5KGUpO2IucHJvdG90eXBlPWU7dmFyIHQ9bmV3IGI7cmV0dXJuIGIucHJvdG90eXBlPW51bGwsdH0sXz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnRbZV19fSxqPU1hdGgucG93KDIsNTMpLTEsQT1fKFwibGVuZ3RoXCIpLEY9ZnVuY3Rpb24oZSl7dmFyIHQ9QShlKTtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdCYmdD49MCYmaj49dH07dy5lYWNoPXcuZm9yRWFjaD1mdW5jdGlvbihlLHQsbil7dD14KHQsbik7dmFyIHIsaTtpZihGKGUpKWZvcihyPTAsaT1lLmxlbmd0aDtpPnI7cisrKXQoZVtyXSxyLGUpO2Vsc2V7dmFyIG89dy5rZXlzKGUpO2ZvcihyPTAsaT1vLmxlbmd0aDtpPnI7cisrKXQoZVtvW3JdXSxvW3JdLGUpfXJldHVybiBlfSx3Lm1hcD13LmNvbGxlY3Q9ZnVuY3Rpb24oZSx0LG4pe3Q9ayh0LG4pO2Zvcih2YXIgcj0hRihlKSYmdy5rZXlzKGUpLGk9KHJ8fGUpLmxlbmd0aCxvPUFycmF5KGkpLGE9MDtpPmE7YSsrKXt2YXIgcz1yP3JbYV06YTtvW2FdPXQoZVtzXSxzLGUpfXJldHVybiBvfSx3LnJlZHVjZT13LmZvbGRsPXcuaW5qZWN0PWUoMSksdy5yZWR1Y2VSaWdodD13LmZvbGRyPWUoLTEpLHcuZmluZD13LmRldGVjdD1mdW5jdGlvbihlLHQsbil7dmFyIHI7cmV0dXJuIHI9RihlKT93LmZpbmRJbmRleChlLHQsbik6dy5maW5kS2V5KGUsdCxuKSx2b2lkIDAhPT1yJiYtMSE9PXI/ZVtyXTp2b2lkIDB9LHcuZmlsdGVyPXcuc2VsZWN0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1bXTtyZXR1cm4gdD1rKHQsbiksdy5lYWNoKGUsZnVuY3Rpb24oZSxuLGkpe3QoZSxuLGkpJiZyLnB1c2goZSl9KSxyfSx3LnJlamVjdD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHcuZmlsdGVyKGUsdy5uZWdhdGUoayh0KSksbil9LHcuZXZlcnk9dy5hbGw9ZnVuY3Rpb24oZSx0LG4pe3Q9ayh0LG4pO2Zvcih2YXIgcj0hRihlKSYmdy5rZXlzKGUpLGk9KHJ8fGUpLmxlbmd0aCxvPTA7aT5vO28rKyl7dmFyIGE9cj9yW29dOm87aWYoIXQoZVthXSxhLGUpKXJldHVybiExfXJldHVybiEwfSx3LnNvbWU9dy5hbnk9ZnVuY3Rpb24oZSx0LG4pe3Q9ayh0LG4pO2Zvcih2YXIgcj0hRihlKSYmdy5rZXlzKGUpLGk9KHJ8fGUpLmxlbmd0aCxvPTA7aT5vO28rKyl7dmFyIGE9cj9yW29dOm87aWYodChlW2FdLGEsZSkpcmV0dXJuITB9cmV0dXJuITF9LHcuY29udGFpbnM9dy5pbmNsdWRlcz13LmluY2x1ZGU9ZnVuY3Rpb24oZSx0LG4scil7cmV0dXJuIEYoZSl8fChlPXcudmFsdWVzKGUpKSwoXCJudW1iZXJcIiE9dHlwZW9mIG58fHIpJiYobj0wKSx3LmluZGV4T2YoZSx0LG4pPj0wfSx3Lmludm9rZT1mdW5jdGlvbihlLHQpe3ZhciBuPWQuY2FsbChhcmd1bWVudHMsMikscj13LmlzRnVuY3Rpb24odCk7cmV0dXJuIHcubWFwKGUsZnVuY3Rpb24oZSl7dmFyIGk9cj90OmVbdF07cmV0dXJuIG51bGw9PWk/aTppLmFwcGx5KGUsbil9KX0sdy5wbHVjaz1mdW5jdGlvbihlLHQpe3JldHVybiB3Lm1hcChlLHcucHJvcGVydHkodCkpfSx3LndoZXJlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHcuZmlsdGVyKGUsdy5tYXRjaGVyKHQpKX0sdy5maW5kV2hlcmU9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdy5maW5kKGUsdy5tYXRjaGVyKHQpKX0sdy5tYXg9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz0tMS8wLGE9LTEvMDtpZihudWxsPT10JiZudWxsIT1lKXtlPUYoZSk/ZTp3LnZhbHVlcyhlKTtmb3IodmFyIHM9MCxsPWUubGVuZ3RoO2w+cztzKyspcj1lW3NdLHI+byYmKG89cil9ZWxzZSB0PWsodCxuKSx3LmVhY2goZSxmdW5jdGlvbihlLG4scil7aT10KGUsbixyKSwoaT5hfHxpPT09LTEvMCYmbz09PS0xLzApJiYobz1lLGE9aSl9KTtyZXR1cm4gb30sdy5taW49ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz0xLzAsYT0xLzA7aWYobnVsbD09dCYmbnVsbCE9ZSl7ZT1GKGUpP2U6dy52YWx1ZXMoZSk7Zm9yKHZhciBzPTAsbD1lLmxlbmd0aDtsPnM7cysrKXI9ZVtzXSxvPnImJihvPXIpfWVsc2UgdD1rKHQsbiksdy5lYWNoKGUsZnVuY3Rpb24oZSxuLHIpe2k9dChlLG4sciksKGE+aXx8MS8wPT09aSYmMS8wPT09bykmJihvPWUsYT1pKX0pO3JldHVybiBvfSx3LnNodWZmbGU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LG49RihlKT9lOncudmFsdWVzKGUpLHI9bi5sZW5ndGgsaT1BcnJheShyKSxvPTA7cj5vO28rKyl0PXcucmFuZG9tKDAsbyksdCE9PW8mJihpW29dPWlbdF0pLGlbdF09bltvXTtyZXR1cm4gaX0sdy5zYW1wbGU9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBudWxsPT10fHxuPyhGKGUpfHwoZT13LnZhbHVlcyhlKSksZVt3LnJhbmRvbShlLmxlbmd0aC0xKV0pOncuc2h1ZmZsZShlKS5zbGljZSgwLE1hdGgubWF4KDAsdCkpfSx3LnNvcnRCeT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIHQ9ayh0LG4pLHcucGx1Y2sody5tYXAoZSxmdW5jdGlvbihlLG4scil7cmV0dXJue3ZhbHVlOmUsaW5kZXg6bixjcml0ZXJpYTp0KGUsbixyKX19KS5zb3J0KGZ1bmN0aW9uKGUsdCl7dmFyIG49ZS5jcml0ZXJpYSxyPXQuY3JpdGVyaWE7aWYobiE9PXIpe2lmKG4+cnx8dm9pZCAwPT09bilyZXR1cm4gMTtpZihyPm58fHZvaWQgMD09PXIpcmV0dXJuLTF9cmV0dXJuIGUuaW5kZXgtdC5pbmRleH0pLFwidmFsdWVcIil9O3ZhciBUPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LG4scil7dmFyIGk9e307cmV0dXJuIG49ayhuLHIpLHcuZWFjaCh0LGZ1bmN0aW9uKHIsbyl7dmFyIGE9bihyLG8sdCk7ZShpLHIsYSl9KSxpfX07dy5ncm91cEJ5PVQoZnVuY3Rpb24oZSx0LG4pe3cuaGFzKGUsbik/ZVtuXS5wdXNoKHQpOmVbbl09W3RdfSksdy5pbmRleEJ5PVQoZnVuY3Rpb24oZSx0LG4pe2Vbbl09dH0pLHcuY291bnRCeT1UKGZ1bmN0aW9uKGUsdCxuKXt3LmhhcyhlLG4pP2Vbbl0rKzplW25dPTF9KSx3LnRvQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIGU/dy5pc0FycmF5KGUpP2QuY2FsbChlKTpGKGUpP3cubWFwKGUsdy5pZGVudGl0eSk6dy52YWx1ZXMoZSk6W119LHcuc2l6ZT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8wOkYoZSk/ZS5sZW5ndGg6dy5rZXlzKGUpLmxlbmd0aH0sdy5wYXJ0aXRpb249ZnVuY3Rpb24oZSx0LG4pe3Q9ayh0LG4pO3ZhciByPVtdLGk9W107cmV0dXJuIHcuZWFjaChlLGZ1bmN0aW9uKGUsbixvKXsodChlLG4sbyk/cjppKS5wdXNoKGUpfSksW3IsaV19LHcuZmlyc3Q9dy5oZWFkPXcudGFrZT1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG51bGw9PWU/dm9pZCAwOm51bGw9PXR8fG4/ZVswXTp3LmluaXRpYWwoZSxlLmxlbmd0aC10KX0sdy5pbml0aWFsPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZC5jYWxsKGUsMCxNYXRoLm1heCgwLGUubGVuZ3RoLShudWxsPT10fHxuPzE6dCkpKX0sdy5sYXN0PWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbnVsbD09ZT92b2lkIDA6bnVsbD09dHx8bj9lW2UubGVuZ3RoLTFdOncucmVzdChlLE1hdGgubWF4KDAsZS5sZW5ndGgtdCkpfSx3LnJlc3Q9dy50YWlsPXcuZHJvcD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIGQuY2FsbChlLG51bGw9PXR8fG4/MTp0KX0sdy5jb21wYWN0PWZ1bmN0aW9uKGUpe3JldHVybiB3LmZpbHRlcihlLHcuaWRlbnRpdHkpfTt2YXIgTT1mdW5jdGlvbihlLHQsbixyKXtmb3IodmFyIGk9W10sbz0wLGE9cnx8MCxzPUEoZSk7cz5hO2ErKyl7dmFyIGw9ZVthXTtpZihGKGwpJiYody5pc0FycmF5KGwpfHx3LmlzQXJndW1lbnRzKGwpKSl7dHx8KGw9TShsLHQsbikpO3ZhciB1PTAsYz1sLmxlbmd0aDtmb3IoaS5sZW5ndGgrPWM7Yz51OylpW28rK109bFt1KytdfWVsc2Ugbnx8KGlbbysrXT1sKX1yZXR1cm4gaX07dy5mbGF0dGVuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIE0oZSx0LCExKX0sdy53aXRob3V0PWZ1bmN0aW9uKGUpe3JldHVybiB3LmRpZmZlcmVuY2UoZSxkLmNhbGwoYXJndW1lbnRzLDEpKX0sdy51bmlxPXcudW5pcXVlPWZ1bmN0aW9uKGUsdCxuLHIpe3cuaXNCb29sZWFuKHQpfHwocj1uLG49dCx0PSExKSxudWxsIT1uJiYobj1rKG4scikpO2Zvcih2YXIgaT1bXSxvPVtdLGE9MCxzPUEoZSk7cz5hO2ErKyl7dmFyIGw9ZVthXSx1PW4/bihsLGEsZSk6bDt0PyhhJiZvPT09dXx8aS5wdXNoKGwpLG89dSk6bj93LmNvbnRhaW5zKG8sdSl8fChvLnB1c2godSksaS5wdXNoKGwpKTp3LmNvbnRhaW5zKGksbCl8fGkucHVzaChsKX1yZXR1cm4gaX0sdy51bmlvbj1mdW5jdGlvbigpe3JldHVybiB3LnVuaXEoTShhcmd1bWVudHMsITAsITApKX0sdy5pbnRlcnNlY3Rpb249ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLG49YXJndW1lbnRzLmxlbmd0aCxyPTAsaT1BKGUpO2k+cjtyKyspe3ZhciBvPWVbcl07aWYoIXcuY29udGFpbnModCxvKSl7Zm9yKHZhciBhPTE7bj5hJiZ3LmNvbnRhaW5zKGFyZ3VtZW50c1thXSxvKTthKyspO2E9PT1uJiZ0LnB1c2gobyl9fXJldHVybiB0fSx3LmRpZmZlcmVuY2U9ZnVuY3Rpb24oZSl7dmFyIHQ9TShhcmd1bWVudHMsITAsITAsMSk7cmV0dXJuIHcuZmlsdGVyKGUsZnVuY3Rpb24oZSl7cmV0dXJuIXcuY29udGFpbnModCxlKX0pfSx3LnppcD1mdW5jdGlvbigpe3JldHVybiB3LnVuemlwKGFyZ3VtZW50cyl9LHcudW56aXA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWUmJncubWF4KGUsQSkubGVuZ3RofHwwLG49QXJyYXkodCkscj0wO3Q+cjtyKyspbltyXT13LnBsdWNrKGUscik7cmV0dXJuIG59LHcub2JqZWN0PWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuPXt9LHI9MCxpPUEoZSk7aT5yO3IrKyl0P25bZVtyXV09dFtyXTpuW2Vbcl1bMF1dPWVbcl1bMV07cmV0dXJuIG59LHcuZmluZEluZGV4PXIoMSksdy5maW5kTGFzdEluZGV4PXIoLTEpLHcuc29ydGVkSW5kZXg9ZnVuY3Rpb24oZSx0LG4scil7bj1rKG4sciwxKTtmb3IodmFyIGk9bih0KSxvPTAsYT1BKGUpO2E+bzspe3ZhciBzPU1hdGguZmxvb3IoKG8rYSkvMik7bihlW3NdKTxpP289cysxOmE9c31yZXR1cm4gb30sdy5pbmRleE9mPWkoMSx3LmZpbmRJbmRleCx3LnNvcnRlZEluZGV4KSx3Lmxhc3RJbmRleE9mPWkoLTEsdy5maW5kTGFzdEluZGV4KSx3LnJhbmdlPWZ1bmN0aW9uKGUsdCxuKXtudWxsPT10JiYodD1lfHwwLGU9MCksbj1ufHwxO2Zvcih2YXIgcj1NYXRoLm1heChNYXRoLmNlaWwoKHQtZSkvbiksMCksaT1BcnJheShyKSxvPTA7cj5vO28rKyxlKz1uKWlbb109ZTtyZXR1cm4gaX07dmFyIHE9ZnVuY3Rpb24oZSx0LG4scixpKXtpZighKHIgaW5zdGFuY2VvZiB0KSlyZXR1cm4gZS5hcHBseShuLGkpO3ZhciBvPXooZS5wcm90b3R5cGUpLGE9ZS5hcHBseShvLGkpO3JldHVybiB3LmlzT2JqZWN0KGEpP2E6b307dy5iaW5kPWZ1bmN0aW9uKGUsdCl7aWYodiYmZS5iaW5kPT09dilyZXR1cm4gdi5hcHBseShlLGQuY2FsbChhcmd1bWVudHMsMSkpO2lmKCF3LmlzRnVuY3Rpb24oZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkJpbmQgbXVzdCBiZSBjYWxsZWQgb24gYSBmdW5jdGlvblwiKTt2YXIgbj1kLmNhbGwoYXJndW1lbnRzLDIpLHI9ZnVuY3Rpb24oKXtyZXR1cm4gcShlLHIsdCx0aGlzLG4uY29uY2F0KGQuY2FsbChhcmd1bWVudHMpKSl9O3JldHVybiByfSx3LnBhcnRpYWw9ZnVuY3Rpb24oZSl7dmFyIHQ9ZC5jYWxsKGFyZ3VtZW50cywxKSxuPWZ1bmN0aW9uKCl7Zm9yKHZhciByPTAsaT10Lmxlbmd0aCxvPUFycmF5KGkpLGE9MDtpPmE7YSsrKW9bYV09dFthXT09PXc/YXJndW1lbnRzW3IrK106dFthXTtmb3IoO3I8YXJndW1lbnRzLmxlbmd0aDspby5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4gcShlLG4sdGhpcyx0aGlzLG8pfTtyZXR1cm4gbn0sdy5iaW5kQWxsPWZ1bmN0aW9uKGUpe3ZhciB0LG4scj1hcmd1bWVudHMubGVuZ3RoO2lmKDE+PXIpdGhyb3cgbmV3IEVycm9yKFwiYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lc1wiKTtmb3IodD0xO3I+dDt0Kyspbj1hcmd1bWVudHNbdF0sZVtuXT13LmJpbmQoZVtuXSxlKTtyZXR1cm4gZX0sdy5tZW1vaXplPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24ocil7dmFyIGk9bi5jYWNoZSxvPVwiXCIrKHQ/dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk6cik7cmV0dXJuIHcuaGFzKGksbyl8fChpW29dPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxpW29dfTtyZXR1cm4gbi5jYWNoZT17fSxufSx3LmRlbGF5PWZ1bmN0aW9uKGUsdCl7dmFyIG49ZC5jYWxsKGFyZ3VtZW50cywyKTtyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KG51bGwsbil9LHQpfSx3LmRlZmVyPXcucGFydGlhbCh3LmRlbGF5LHcsMSksdy50aHJvdHRsZT1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGE9bnVsbCxzPTA7bnx8KG49e30pO3ZhciBsPWZ1bmN0aW9uKCl7cz1uLmxlYWRpbmc9PT0hMT8wOncubm93KCksYT1udWxsLG89ZS5hcHBseShyLGkpLGF8fChyPWk9bnVsbCl9O3JldHVybiBmdW5jdGlvbigpe3ZhciB1PXcubm93KCk7c3x8bi5sZWFkaW5nIT09ITF8fChzPXUpO3ZhciBjPXQtKHUtcyk7cmV0dXJuIHI9dGhpcyxpPWFyZ3VtZW50cywwPj1jfHxjPnQ/KGEmJihjbGVhclRpbWVvdXQoYSksYT1udWxsKSxzPXUsbz1lLmFwcGx5KHIsaSksYXx8KHI9aT1udWxsKSk6YXx8bi50cmFpbGluZz09PSExfHwoYT1zZXRUaW1lb3V0KGwsYykpLG99fSx3LmRlYm91bmNlPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxzLGw9ZnVuY3Rpb24oKXt2YXIgdT13Lm5vdygpLWE7dD51JiZ1Pj0wP3I9c2V0VGltZW91dChsLHQtdSk6KHI9bnVsbCxufHwocz1lLmFwcGx5KG8saSkscnx8KG89aT1udWxsKSkpfTtyZXR1cm4gZnVuY3Rpb24oKXtvPXRoaXMsaT1hcmd1bWVudHMsYT13Lm5vdygpO3ZhciB1PW4mJiFyO3JldHVybiByfHwocj1zZXRUaW1lb3V0KGwsdCkpLHUmJihzPWUuYXBwbHkobyxpKSxvPWk9bnVsbCksc319LHcud3JhcD1mdW5jdGlvbihlLHQpe3JldHVybiB3LnBhcnRpYWwodCxlKX0sdy5uZWdhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIWUuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sdy5jb21wb3NlPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLHQ9ZS5sZW5ndGgtMTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIG49dCxyPWVbdF0uYXBwbHkodGhpcyxhcmd1bWVudHMpO24tLTspcj1lW25dLmNhbGwodGhpcyxyKTtyZXR1cm4gcn19LHcuYWZ0ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4tLWU8MT90LmFwcGx5KHRoaXMsYXJndW1lbnRzKTp2b2lkIDB9fSx3LmJlZm9yZT1mdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBmdW5jdGlvbigpe3JldHVybi0tZT4wJiYobj10LmFwcGx5KHRoaXMsYXJndW1lbnRzKSksMT49ZSYmKHQ9bnVsbCksbn19LHcub25jZT13LnBhcnRpYWwody5iZWZvcmUsMik7dmFyIFI9IXt0b1N0cmluZzpudWxsfS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcInRvU3RyaW5nXCIpLEw9W1widmFsdWVPZlwiLFwiaXNQcm90b3R5cGVPZlwiLFwidG9TdHJpbmdcIixcInByb3BlcnR5SXNFbnVtZXJhYmxlXCIsXCJoYXNPd25Qcm9wZXJ0eVwiLFwidG9Mb2NhbGVTdHJpbmdcIl07dy5rZXlzPWZ1bmN0aW9uKGUpe2lmKCF3LmlzT2JqZWN0KGUpKXJldHVybltdO2lmKGcpcmV0dXJuIGcoZSk7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpdy5oYXMoZSxuKSYmdC5wdXNoKG4pO3JldHVybiBSJiZvKGUsdCksdH0sdy5hbGxLZXlzPWZ1bmN0aW9uKGUpe2lmKCF3LmlzT2JqZWN0KGUpKXJldHVybltdO3ZhciB0PVtdO2Zvcih2YXIgbiBpbiBlKXQucHVzaChuKTtyZXR1cm4gUiYmbyhlLHQpLHR9LHcudmFsdWVzPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD13LmtleXMoZSksbj10Lmxlbmd0aCxyPUFycmF5KG4pLGk9MDtuPmk7aSsrKXJbaV09ZVt0W2ldXTtyZXR1cm4gcn0sdy5tYXBPYmplY3Q9ZnVuY3Rpb24oZSx0LG4pe3Q9ayh0LG4pO2Zvcih2YXIgcixpPXcua2V5cyhlKSxvPWkubGVuZ3RoLGE9e30scz0wO28+cztzKyspcj1pW3NdLGFbcl09dChlW3JdLHIsZSk7cmV0dXJuIGF9LHcucGFpcnM9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXcua2V5cyhlKSxuPXQubGVuZ3RoLHI9QXJyYXkobiksaT0wO24+aTtpKyspcltpXT1bdFtpXSxlW3RbaV1dXTtyZXR1cm4gcn0sdy5pbnZlcnQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXt9LG49dy5rZXlzKGUpLHI9MCxpPW4ubGVuZ3RoO2k+cjtyKyspdFtlW25bcl1dXT1uW3JdO3JldHVybiB0fSx3LmZ1bmN0aW9ucz13Lm1ldGhvZHM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpdy5pc0Z1bmN0aW9uKGVbbl0pJiZ0LnB1c2gobik7cmV0dXJuIHQuc29ydCgpfSx3LmV4dGVuZD1TKHcuYWxsS2V5cyksdy5leHRlbmRPd249dy5hc3NpZ249Uyh3LmtleXMpLHcuZmluZEtleT1mdW5jdGlvbihlLHQsbil7dD1rKHQsbik7Zm9yKHZhciByLGk9dy5rZXlzKGUpLG89MCxhPWkubGVuZ3RoO2E+bztvKyspaWYocj1pW29dLHQoZVtyXSxyLGUpKXJldHVybiByfSx3LnBpY2s9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbz17fSxhPWU7aWYobnVsbD09YSlyZXR1cm4gbzt3LmlzRnVuY3Rpb24odCk/KGk9dy5hbGxLZXlzKGEpLHI9eCh0LG4pKTooaT1NKGFyZ3VtZW50cywhMSwhMSwxKSxyPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdCBpbiBufSxhPU9iamVjdChhKSk7Zm9yKHZhciBzPTAsbD1pLmxlbmd0aDtsPnM7cysrKXt2YXIgdT1pW3NdLGM9YVt1XTtyKGMsdSxhKSYmKG9bdV09Yyl9cmV0dXJuIG99LHcub21pdD1mdW5jdGlvbihlLHQsbil7aWYody5pc0Z1bmN0aW9uKHQpKXQ9dy5uZWdhdGUodCk7ZWxzZXt2YXIgcj13Lm1hcChNKGFyZ3VtZW50cywhMSwhMSwxKSxTdHJpbmcpO3Q9ZnVuY3Rpb24oZSx0KXtyZXR1cm4hdy5jb250YWlucyhyLHQpfX1yZXR1cm4gdy5waWNrKGUsdCxuKX0sdy5kZWZhdWx0cz1TKHcuYWxsS2V5cywhMCksdy5jcmVhdGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj16KGUpO3JldHVybiB0JiZ3LmV4dGVuZE93bihuLHQpLG59LHcuY2xvbmU9ZnVuY3Rpb24oZSl7cmV0dXJuIHcuaXNPYmplY3QoZSk/dy5pc0FycmF5KGUpP2Uuc2xpY2UoKTp3LmV4dGVuZCh7fSxlKTplfSx3LnRhcD1mdW5jdGlvbihlLHQpe3JldHVybiB0KGUpLGV9LHcuaXNNYXRjaD1mdW5jdGlvbihlLHQpe3ZhciBuPXcua2V5cyh0KSxyPW4ubGVuZ3RoO2lmKG51bGw9PWUpcmV0dXJuIXI7Zm9yKHZhciBpPU9iamVjdChlKSxvPTA7cj5vO28rKyl7dmFyIGE9bltvXTtpZih0W2FdIT09aVthXXx8IShhIGluIGkpKXJldHVybiExfXJldHVybiEwfTt2YXIgTz1mdW5jdGlvbihlLHQsbixyKXtpZihlPT09dClyZXR1cm4gMCE9PWV8fDEvZT09PTEvdDtpZihudWxsPT1lfHxudWxsPT10KXJldHVybiBlPT09dDtlIGluc3RhbmNlb2YgdyYmKGU9ZS5fd3JhcHBlZCksdCBpbnN0YW5jZW9mIHcmJih0PXQuX3dyYXBwZWQpO3ZhciBpPWguY2FsbChlKTtpZihpIT09aC5jYWxsKHQpKXJldHVybiExO3N3aXRjaChpKXtjYXNlXCJbb2JqZWN0IFJlZ0V4cF1cIjpjYXNlXCJbb2JqZWN0IFN0cmluZ11cIjpyZXR1cm5cIlwiK2U9PVwiXCIrdDtjYXNlXCJbb2JqZWN0IE51bWJlcl1cIjpyZXR1cm4rZSE9PStlPyt0IT09K3Q6MD09PStlPzEvK2U9PT0xL3Q6K2U9PT0rdDtjYXNlXCJbb2JqZWN0IERhdGVdXCI6Y2FzZVwiW29iamVjdCBCb29sZWFuXVwiOnJldHVybitlPT09K3R9dmFyIG89XCJbb2JqZWN0IEFycmF5XVwiPT09aTtpZighbyl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fFwib2JqZWN0XCIhPXR5cGVvZiB0KXJldHVybiExO3ZhciBhPWUuY29uc3RydWN0b3Iscz10LmNvbnN0cnVjdG9yO2lmKGEhPT1zJiYhKHcuaXNGdW5jdGlvbihhKSYmYSBpbnN0YW5jZW9mIGEmJncuaXNGdW5jdGlvbihzKSYmcyBpbnN0YW5jZW9mIHMpJiZcImNvbnN0cnVjdG9yXCJpbiBlJiZcImNvbnN0cnVjdG9yXCJpbiB0KXJldHVybiExfW49bnx8W10scj1yfHxbXTtmb3IodmFyIGw9bi5sZW5ndGg7bC0tOylpZihuW2xdPT09ZSlyZXR1cm4gcltsXT09PXQ7aWYobi5wdXNoKGUpLHIucHVzaCh0KSxvKXtpZihsPWUubGVuZ3RoLGwhPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IoO2wtLTspaWYoIU8oZVtsXSx0W2xdLG4scikpcmV0dXJuITF9ZWxzZXt2YXIgdSxjPXcua2V5cyhlKTtpZihsPWMubGVuZ3RoLHcua2V5cyh0KS5sZW5ndGghPT1sKXJldHVybiExO2Zvcig7bC0tOylpZih1PWNbbF0sIXcuaGFzKHQsdSl8fCFPKGVbdV0sdFt1XSxuLHIpKXJldHVybiExfXJldHVybiBuLnBvcCgpLHIucG9wKCksITB9O3cuaXNFcXVhbD1mdW5jdGlvbihlLHQpe3JldHVybiBPKGUsdCl9LHcuaXNFbXB0eT1mdW5jdGlvbihlKXtyZXR1cm4gbnVsbD09ZT8hMDpGKGUpJiYody5pc0FycmF5KGUpfHx3LmlzU3RyaW5nKGUpfHx3LmlzQXJndW1lbnRzKGUpKT8wPT09ZS5sZW5ndGg6MD09PXcua2V5cyhlKS5sZW5ndGh9LHcuaXNFbGVtZW50PWZ1bmN0aW9uKGUpe3JldHVybiEoIWV8fDEhPT1lLm5vZGVUeXBlKX0sdy5pc0FycmF5PW18fGZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PWguY2FsbChlKX0sdy5pc09iamVjdD1mdW5jdGlvbihlKXt2YXIgdD10eXBlb2YgZTtyZXR1cm5cImZ1bmN0aW9uXCI9PT10fHxcIm9iamVjdFwiPT09dCYmISFlfSx3LmVhY2goW1wiQXJndW1lbnRzXCIsXCJGdW5jdGlvblwiLFwiU3RyaW5nXCIsXCJOdW1iZXJcIixcIkRhdGVcIixcIlJlZ0V4cFwiLFwiRXJyb3JcIl0sZnVuY3Rpb24oZSl7d1tcImlzXCIrZV09ZnVuY3Rpb24odCl7cmV0dXJuIGguY2FsbCh0KT09PVwiW29iamVjdCBcIitlK1wiXVwifX0pLHcuaXNBcmd1bWVudHMoYXJndW1lbnRzKXx8KHcuaXNBcmd1bWVudHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHcuaGFzKGUsXCJjYWxsZWVcIil9KSxcImZ1bmN0aW9uXCIhPXR5cGVvZi8uLyYmXCJvYmplY3RcIiE9dHlwZW9mIEludDhBcnJheSYmKHcuaXNGdW5jdGlvbj1mdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHwhMX0pLHcuaXNGaW5pdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzRmluaXRlKGUpJiYhaXNOYU4ocGFyc2VGbG9hdChlKSl9LHcuaXNOYU49ZnVuY3Rpb24oZSl7cmV0dXJuIHcuaXNOdW1iZXIoZSkmJmUhPT0rZX0sdy5pc0Jvb2xlYW49ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT0hMHx8ZT09PSExfHxcIltvYmplY3QgQm9vbGVhbl1cIj09PWguY2FsbChlKX0sdy5pc051bGw9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PT1lfSx3LmlzVW5kZWZpbmVkPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1lfSx3Lmhhcz1mdW5jdGlvbihlLHQpe3JldHVybiBudWxsIT1lJiZwLmNhbGwoZSx0KX0sdy5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGEuXz1zLHRoaXN9LHcuaWRlbnRpdHk9ZnVuY3Rpb24oZSl7cmV0dXJuIGV9LHcuY29uc3RhbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGV9fSx3Lm5vb3A9ZnVuY3Rpb24oKXt9LHcucHJvcGVydHk9Xyx3LnByb3BlcnR5T2Y9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWU/ZnVuY3Rpb24oKXt9OmZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfX0sdy5tYXRjaGVyPXcubWF0Y2hlcz1mdW5jdGlvbihlKXtyZXR1cm4gZT13LmV4dGVuZE93bih7fSxlKSxmdW5jdGlvbih0KXtyZXR1cm4gdy5pc01hdGNoKHQsZSl9fSx3LnRpbWVzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1BcnJheShNYXRoLm1heCgwLGUpKTt0PXgodCxuLDEpO2Zvcih2YXIgaT0wO2U+aTtpKyspcltpXT10KGkpO3JldHVybiByfSx3LnJhbmRvbT1mdW5jdGlvbihlLHQpe3JldHVybiBudWxsPT10JiYodD1lLGU9MCksZStNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKHQtZSsxKSl9LHcubm93PURhdGUubm93fHxmdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfTt2YXIgRD17XCImXCI6XCImYW1wO1wiLFwiPFwiOlwiJmx0O1wiLFwiPlwiOlwiJmd0O1wiLCdcIic6XCImcXVvdDtcIixcIidcIjpcIiYjeDI3O1wiLFwiYFwiOlwiJiN4NjA7XCJ9LEU9dy5pbnZlcnQoRCksQz1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0sbj1cIig/OlwiK3cua2V5cyhlKS5qb2luKFwifFwiKStcIilcIixyPVJlZ0V4cChuKSxpPVJlZ0V4cChuLFwiZ1wiKTtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGU9bnVsbD09ZT9cIlwiOlwiXCIrZSxyLnRlc3QoZSk/ZS5yZXBsYWNlKGksdCk6ZX19O3cuZXNjYXBlPUMoRCksdy51bmVzY2FwZT1DKEUpLHcucmVzdWx0PWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1udWxsPT1lP3ZvaWQgMDplW3RdO3JldHVybiB2b2lkIDA9PT1yJiYocj1uKSx3LmlzRnVuY3Rpb24ocik/ci5jYWxsKGUpOnJ9O3ZhciBJPTA7dy51bmlxdWVJZD1mdW5jdGlvbihlKXt2YXIgdD0rK0krXCJcIjtyZXR1cm4gZT9lK3Q6dH0sdy50ZW1wbGF0ZVNldHRpbmdzPXtldmFsdWF0ZTovPCUoW1xcc1xcU10rPyklPi9nLGludGVycG9sYXRlOi88JT0oW1xcc1xcU10rPyklPi9nLGVzY2FwZTovPCUtKFtcXHNcXFNdKz8pJT4vZ307dmFyIE49LyguKV4vLFA9e1wiJ1wiOlwiJ1wiLFwiXFxcXFwiOlwiXFxcXFwiLFwiXFxyXCI6XCJyXCIsXCJcXG5cIjpcIm5cIixcIlxcdTIwMjhcIjpcInUyMDI4XCIsXCJcXHUyMDI5XCI6XCJ1MjAyOVwifSxaPS9cXFxcfCd8XFxyfFxcbnxcXHUyMDI4fFxcdTIwMjkvZyxYPWZ1bmN0aW9uKGUpe3JldHVyblwiXFxcXFwiK1BbZV19O3cudGVtcGxhdGU9ZnVuY3Rpb24oZSx0LG4peyF0JiZuJiYodD1uKSx0PXcuZGVmYXVsdHMoe30sdCx3LnRlbXBsYXRlU2V0dGluZ3MpO3ZhciByPVJlZ0V4cChbKHQuZXNjYXBlfHxOKS5zb3VyY2UsKHQuaW50ZXJwb2xhdGV8fE4pLnNvdXJjZSwodC5ldmFsdWF0ZXx8Tikuc291cmNlXS5qb2luKFwifFwiKStcInwkXCIsXCJnXCIpLGk9MCxvPVwiX19wKz0nXCI7ZS5yZXBsYWNlKHIsZnVuY3Rpb24odCxuLHIsYSxzKXtyZXR1cm4gbys9ZS5zbGljZShpLHMpLnJlcGxhY2UoWixYKSxpPXMrdC5sZW5ndGgsbj9vKz1cIicrXFxuKChfX3Q9KFwiK24rXCIpKT09bnVsbD8nJzpfLmVzY2FwZShfX3QpKStcXG4nXCI6cj9vKz1cIicrXFxuKChfX3Q9KFwiK3IrXCIpKT09bnVsbD8nJzpfX3QpK1xcbidcIjphJiYobys9XCInO1xcblwiK2ErXCJcXG5fX3ArPSdcIiksdH0pLG8rPVwiJztcXG5cIix0LnZhcmlhYmxlfHwobz1cIndpdGgob2JqfHx7fSl7XFxuXCIrbytcIn1cXG5cIiksbz1cInZhciBfX3QsX19wPScnLF9faj1BcnJheS5wcm90b3R5cGUuam9pbixwcmludD1mdW5jdGlvbigpe19fcCs9X19qLmNhbGwoYXJndW1lbnRzLCcnKTt9O1xcblwiK28rXCJyZXR1cm4gX19wO1xcblwiO3RyeXt2YXIgYT1uZXcgRnVuY3Rpb24odC52YXJpYWJsZXx8XCJvYmpcIixcIl9cIixvKX1jYXRjaChzKXt0aHJvdyBzLnNvdXJjZT1vLHN9dmFyIGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGEuY2FsbCh0aGlzLGUsdyl9LHU9dC52YXJpYWJsZXx8XCJvYmpcIjtyZXR1cm4gbC5zb3VyY2U9XCJmdW5jdGlvbihcIit1K1wiKXtcXG5cIitvK1wifVwiLGx9LHcuY2hhaW49ZnVuY3Rpb24oZSl7dmFyIHQ9dyhlKTtyZXR1cm4gdC5fY2hhaW49ITAsdH07dmFyIFY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5fY2hhaW4/dyh0KS5jaGFpbigpOnR9O3cubWl4aW49ZnVuY3Rpb24oZSl7dy5lYWNoKHcuZnVuY3Rpb25zKGUpLGZ1bmN0aW9uKHQpe3ZhciBuPXdbdF09ZVt0XTt3LnByb3RvdHlwZVt0XT1mdW5jdGlvbigpe3ZhciBlPVt0aGlzLl93cmFwcGVkXTtyZXR1cm4gZi5hcHBseShlLGFyZ3VtZW50cyksVih0aGlzLG4uYXBwbHkodyxlKSl9fSl9LHcubWl4aW4odyksdy5lYWNoKFtcInBvcFwiLFwicHVzaFwiLFwicmV2ZXJzZVwiLFwic2hpZnRcIixcInNvcnRcIixcInNwbGljZVwiLFwidW5zaGlmdFwiXSxmdW5jdGlvbihlKXt2YXIgdD1sW2VdO3cucHJvdG90eXBlW2VdPWZ1bmN0aW9uKCl7dmFyIG49dGhpcy5fd3JhcHBlZDtyZXR1cm4gdC5hcHBseShuLGFyZ3VtZW50cyksXCJzaGlmdFwiIT09ZSYmXCJzcGxpY2VcIiE9PWV8fDAhPT1uLmxlbmd0aHx8ZGVsZXRlIG5bMF0sVih0aGlzLG4pfX0pLHcuZWFjaChbXCJjb25jYXRcIixcImpvaW5cIixcInNsaWNlXCJdLGZ1bmN0aW9uKGUpe3ZhciB0PWxbZV07dy5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXtyZXR1cm4gVih0aGlzLHQuYXBwbHkodGhpcy5fd3JhcHBlZCxhcmd1bWVudHMpKX19KSx3LnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl93cmFwcGVkfSx3LnByb3RvdHlwZS52YWx1ZU9mPXcucHJvdG90eXBlLnRvSlNPTj13LnByb3RvdHlwZS52YWx1ZSx3LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiXCIrdGhpcy5fd3JhcHBlZH0sXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kJiZkZWZpbmUoXCJ1bmRlcnNjb3JlXCIsW10sZnVuY3Rpb24oKXtyZXR1cm4gd30pfSkuY2FsbCh0aGlzKX0se31dLDQzOltmdW5jdGlvbihlLHQpe3QuZXhwb3J0cz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuY3JlYXRlP2Z1bmN0aW9uKGUsdCl7ZS5zdXBlcl89dCxlLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6ZSxlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KX06ZnVuY3Rpb24oZSx0KXtlLnN1cGVyXz10O3ZhciBuPWZ1bmN0aW9uKCl7fTtuLnByb3RvdHlwZT10LnByb3RvdHlwZSxlLnByb3RvdHlwZT1uZXcgbixlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lfX0se31dLDQ0OltmdW5jdGlvbihlLHQpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmXCJvYmplY3RcIj09dHlwZW9mIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY29weSYmXCJmdW5jdGlvblwiPT10eXBlb2YgZS5maWxsJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJlYWRVSW50OH19LHt9XSw0NTpbZnVuY3Rpb24oZSx0LG4peyhmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIGkoZSx0KXt2YXIgcj17c2VlbjpbXSxzdHlsaXplOmF9O3JldHVybiBhcmd1bWVudHMubGVuZ3RoPj0zJiYoci5kZXB0aD1hcmd1bWVudHNbMl0pLGFyZ3VtZW50cy5sZW5ndGg+PTQmJihyLmNvbG9ycz1hcmd1bWVudHNbM10pLG0odCk/ci5zaG93SGlkZGVuPXQ6dCYmbi5fZXh0ZW5kKHIsdCkseChyLnNob3dIaWRkZW4pJiYoci5zaG93SGlkZGVuPSExKSx4KHIuZGVwdGgpJiYoci5kZXB0aD0yKSx4KHIuY29sb3JzKSYmKHIuY29sb3JzPSExKSx4KHIuY3VzdG9tSW5zcGVjdCkmJihyLmN1c3RvbUluc3BlY3Q9ITApLHIuY29sb3JzJiYoci5zdHlsaXplPW8pLGwocixlLHIuZGVwdGgpfWZ1bmN0aW9uIG8oZSx0KXt2YXIgbj1pLnN0eWxlc1t0XTtyZXR1cm4gbj9cIlx1MDAxYltcIitpLmNvbG9yc1tuXVswXStcIm1cIitlK1wiXHUwMDFiW1wiK2kuY29sb3JzW25dWzFdK1wibVwiOmV9ZnVuY3Rpb24gYShlKXtyZXR1cm4gZX1mdW5jdGlvbiBzKGUpe3ZhciB0PXt9O3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT0hMH0pLHR9ZnVuY3Rpb24gbChlLHQscil7aWYoZS5jdXN0b21JbnNwZWN0JiZ0JiZqKHQuaW5zcGVjdCkmJnQuaW5zcGVjdCE9PW4uaW5zcGVjdCYmKCF0LmNvbnN0cnVjdG9yfHx0LmNvbnN0cnVjdG9yLnByb3RvdHlwZSE9PXQpKXt2YXIgaT10Lmluc3BlY3QocixlKTtyZXR1cm4gYihpKXx8KGk9bChlLGkscikpLGl9dmFyIG89dShlLHQpO2lmKG8pcmV0dXJuIG87dmFyIGE9T2JqZWN0LmtleXModCksbT1zKGEpO2lmKGUuc2hvd0hpZGRlbiYmKGE9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkpLF8odCkmJihhLmluZGV4T2YoXCJtZXNzYWdlXCIpPj0wfHxhLmluZGV4T2YoXCJkZXNjcmlwdGlvblwiKT49MCkpcmV0dXJuIGModCk7aWYoMD09PWEubGVuZ3RoKXtpZihqKHQpKXt2YXIgZz10Lm5hbWU/XCI6IFwiK3QubmFtZTpcIlwiO3JldHVybiBlLnN0eWxpemUoXCJbRnVuY3Rpb25cIitnK1wiXVwiLFwic3BlY2lhbFwiKX1pZihrKHQpKXJldHVybiBlLnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLFwicmVnZXhwXCIpO2lmKHoodCkpcmV0dXJuIGUuc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLFwiZGF0ZVwiKTtpZihfKHQpKXJldHVybiBjKHQpfXZhciB2PVwiXCIseT0hMSx3PVtcIntcIixcIn1cIl07aWYocCh0KSYmKHk9ITAsdz1bXCJbXCIsXCJdXCJdKSxqKHQpKXt2YXIgeD10Lm5hbWU/XCI6IFwiK3QubmFtZTpcIlwiO3Y9XCIgW0Z1bmN0aW9uXCIreCtcIl1cIn1pZihrKHQpJiYodj1cIiBcIitSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpLHoodCkmJih2PVwiIFwiK0RhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodCkpLF8odCkmJih2PVwiIFwiK2ModCkpLDA9PT1hLmxlbmd0aCYmKCF5fHwwPT10Lmxlbmd0aCkpcmV0dXJuIHdbMF0rdit3WzFdO2lmKDA+cilyZXR1cm4gayh0KT9lLnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpLFwicmVnZXhwXCIpOmUuc3R5bGl6ZShcIltPYmplY3RdXCIsXCJzcGVjaWFsXCIpO2Uuc2Vlbi5wdXNoKHQpO3ZhciBTO3JldHVybiBTPXk/ZihlLHQscixtLGEpOmEubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBkKGUsdCxyLG0sbix5KX0pLGUuc2Vlbi5wb3AoKSxoKFMsdix3KX1mdW5jdGlvbiB1KGUsdCl7aWYoeCh0KSlyZXR1cm4gZS5zdHlsaXplKFwidW5kZWZpbmVkXCIsXCJ1bmRlZmluZWRcIik7aWYoYih0KSl7dmFyIG49XCInXCIrSlNPTi5zdHJpbmdpZnkodCkucmVwbGFjZSgvXlwifFwiJC9nLFwiXCIpLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpLnJlcGxhY2UoL1xcXFxcIi9nLCdcIicpK1wiJ1wiO3JldHVybiBlLnN0eWxpemUobixcInN0cmluZ1wiKX1yZXR1cm4geSh0KT9lLnN0eWxpemUoXCJcIit0LFwibnVtYmVyXCIpOm0odCk/ZS5zdHlsaXplKFwiXCIrdCxcImJvb2xlYW5cIik6Zyh0KT9lLnN0eWxpemUoXCJudWxsXCIsXCJudWxsXCIpOnZvaWQgMH1mdW5jdGlvbiBjKGUpe3JldHVyblwiW1wiK0Vycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpK1wiXVwifWZ1bmN0aW9uIGYoZSx0LG4scixpKXtmb3IodmFyIG89W10sYT0wLHM9dC5sZW5ndGg7cz5hOysrYSlvLnB1c2gocSh0LFN0cmluZyhhKSk/ZChlLHQsbixyLFN0cmluZyhhKSwhMCk6XCJcIik7cmV0dXJuIGkuZm9yRWFjaChmdW5jdGlvbihpKXtpLm1hdGNoKC9eXFxkKyQvKXx8by5wdXNoKGQoZSx0LG4scixpLCEwKSl9KSxvfWZ1bmN0aW9uIGQoZSx0LG4scixpLG8pe3ZhciBhLHMsdTtpZih1PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxpKXx8e3ZhbHVlOnRbaV19LHUuZ2V0P3M9dS5zZXQ/ZS5zdHlsaXplKFwiW0dldHRlci9TZXR0ZXJdXCIsXCJzcGVjaWFsXCIpOmUuc3R5bGl6ZShcIltHZXR0ZXJdXCIsXCJzcGVjaWFsXCIpOnUuc2V0JiYocz1lLnN0eWxpemUoXCJbU2V0dGVyXVwiLFwic3BlY2lhbFwiKSkscShyLGkpfHwoYT1cIltcIitpK1wiXVwiKSxzfHwoZS5zZWVuLmluZGV4T2YodS52YWx1ZSk8MD8ocz1nKG4pP2woZSx1LnZhbHVlLG51bGwpOmwoZSx1LnZhbHVlLG4tMSkscy5pbmRleE9mKFwiXFxuXCIpPi0xJiYocz1vP3Muc3BsaXQoXCJcXG5cIikubWFwKGZ1bmN0aW9uKGUpe3JldHVyblwiICBcIitlfSkuam9pbihcIlxcblwiKS5zdWJzdHIoMik6XCJcXG5cIitzLnNwbGl0KFwiXFxuXCIpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5cIiAgIFwiK2V9KS5qb2luKFwiXFxuXCIpKSk6cz1lLnN0eWxpemUoXCJbQ2lyY3VsYXJdXCIsXCJzcGVjaWFsXCIpKSx4KGEpKXtpZihvJiZpLm1hdGNoKC9eXFxkKyQvKSlyZXR1cm4gczthPUpTT04uc3RyaW5naWZ5KFwiXCIraSksYS5tYXRjaCgvXlwiKFthLXpBLVpfXVthLXpBLVpfMC05XSopXCIkLyk/KGE9YS5zdWJzdHIoMSxhLmxlbmd0aC0yKSxhPWUuc3R5bGl6ZShhLFwibmFtZVwiKSk6KGE9YS5yZXBsYWNlKC8nL2csXCJcXFxcJ1wiKS5yZXBsYWNlKC9cXFxcXCIvZywnXCInKS5yZXBsYWNlKC8oXlwifFwiJCkvZyxcIidcIiksYT1lLnN0eWxpemUoYSxcInN0cmluZ1wiKSl9cmV0dXJuIGErXCI6IFwiK3N9ZnVuY3Rpb24gaChlLHQsbil7dmFyIHI9MCxpPWUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIrKyx0LmluZGV4T2YoXCJcXG5cIik+PTAmJnIrKyxlK3QucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csXCJcIikubGVuZ3RoKzF9LDApO3JldHVybiBpPjYwP25bMF0rKFwiXCI9PT10P1wiXCI6dCtcIlxcbiBcIikrXCIgXCIrZS5qb2luKFwiLFxcbiAgXCIpK1wiIFwiK25bMV06blswXSt0K1wiIFwiK2Uuam9pbihcIiwgXCIpK1wiIFwiK25bMV19ZnVuY3Rpb24gcChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKX1mdW5jdGlvbiBtKGUpe3JldHVyblwiYm9vbGVhblwiPT10eXBlb2YgZX1mdW5jdGlvbiBnKGUpe3JldHVybiBudWxsPT09ZX1mdW5jdGlvbiB2KGUpe3JldHVybiBudWxsPT1lfWZ1bmN0aW9uIHkoZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGV9ZnVuY3Rpb24gYihlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZX1mdW5jdGlvbiB3KGUpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiBlfWZ1bmN0aW9uIHgoZSl7cmV0dXJuIHZvaWQgMD09PWV9ZnVuY3Rpb24gayhlKXtyZXR1cm4gUyhlKSYmXCJbb2JqZWN0IFJlZ0V4cF1cIj09PUYoZSl9ZnVuY3Rpb24gUyhlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZSYmbnVsbCE9PWV9ZnVuY3Rpb24geihlKXtyZXR1cm4gUyhlKSYmXCJbb2JqZWN0IERhdGVdXCI9PT1GKGUpfWZ1bmN0aW9uIF8oZSl7cmV0dXJuIFMoZSkmJihcIltvYmplY3QgRXJyb3JdXCI9PT1GKGUpfHxlIGluc3RhbmNlb2YgRXJyb3IpfWZ1bmN0aW9uIGooZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZX1mdW5jdGlvbiBBKGUpe3JldHVybiBudWxsPT09ZXx8XCJib29sZWFuXCI9PXR5cGVvZiBlfHxcIm51bWJlclwiPT10eXBlb2YgZXx8XCJzdHJpbmdcIj09dHlwZW9mIGV8fFwic3ltYm9sXCI9PXR5cGVvZiBlfHxcInVuZGVmaW5lZFwiPT10eXBlb2YgZX1mdW5jdGlvbiBGKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9ZnVuY3Rpb24gVChlKXtyZXR1cm4gMTA+ZT9cIjBcIitlLnRvU3RyaW5nKDEwKTplLnRvU3RyaW5nKDEwKX1mdW5jdGlvbiBNKCl7dmFyIGU9bmV3IERhdGUsdD1bVChlLmdldEhvdXJzKCkpLFQoZS5nZXRNaW51dGVzKCkpLFQoZS5nZXRTZWNvbmRzKCkpXS5qb2luKFwiOlwiKTtyZXR1cm5bZS5nZXREYXRlKCksRFtlLmdldE1vbnRoKCldLHRdLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIHEoZSx0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCl9dmFyIFI9LyVbc2RqJV0vZztuLmZvcm1hdD1mdW5jdGlvbihlKXtpZighYihlKSl7Zm9yKHZhciB0PVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXQucHVzaChpKGFyZ3VtZW50c1tuXSkpO3JldHVybiB0LmpvaW4oXCIgXCIpfWZvcih2YXIgbj0xLHI9YXJndW1lbnRzLG89ci5sZW5ndGgsYT1TdHJpbmcoZSkucmVwbGFjZShSLGZ1bmN0aW9uKGUpe2lmKFwiJSVcIj09PWUpcmV0dXJuXCIlXCI7aWYobj49bylyZXR1cm4gZTtzd2l0Y2goZSl7Y2FzZVwiJXNcIjpyZXR1cm4gU3RyaW5nKHJbbisrXSk7Y2FzZVwiJWRcIjpyZXR1cm4gTnVtYmVyKHJbbisrXSk7Y2FzZVwiJWpcIjp0cnl7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHJbbisrXSl9Y2F0Y2godCl7cmV0dXJuXCJbQ2lyY3VsYXJdXCJ9ZGVmYXVsdDpyZXR1cm4gZX19KSxzPXJbbl07bz5uO3M9clsrK25dKWErPWcocyl8fCFTKHMpP1wiIFwiK3M6XCIgXCIraShzKTtyZXR1cm4gYX0sbi5kZXByZWNhdGU9ZnVuY3Rpb24oZSxpKXtmdW5jdGlvbiBvKCl7aWYoIWEpe2lmKHQudGhyb3dEZXByZWNhdGlvbil0aHJvdyBuZXcgRXJyb3IoaSk7dC50cmFjZURlcHJlY2F0aW9uP2NvbnNvbGUudHJhY2UoaSk6Y29uc29sZS5lcnJvcihpKSxhPSEwfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1pZih4KHIucHJvY2VzcykpcmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG4uZGVwcmVjYXRlKGUsaSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtpZih0Lm5vRGVwcmVjYXRpb249PT0hMClyZXR1cm4gZTt2YXIgYT0hMTtyZXR1cm4gb307dmFyIEwsTz17fTtuLmRlYnVnbG9nPWZ1bmN0aW9uKGUpe2lmKHgoTCkmJihMPXQuZW52Lk5PREVfREVCVUd8fFwiXCIpLGU9ZS50b1VwcGVyQ2FzZSgpLCFPW2VdKWlmKG5ldyBSZWdFeHAoXCJcXFxcYlwiK2UrXCJcXFxcYlwiLFwiaVwiKS50ZXN0KEwpKXt2YXIgcj10LnBpZDtPW2VdPWZ1bmN0aW9uKCl7dmFyIHQ9bi5mb3JtYXQuYXBwbHkobixhcmd1bWVudHMpO2NvbnNvbGUuZXJyb3IoXCIlcyAlZDogJXNcIixlLHIsdCl9fWVsc2UgT1tlXT1mdW5jdGlvbigpe307cmV0dXJuIE9bZV19LG4uaW5zcGVjdD1pLGkuY29sb3JzPXtib2xkOlsxLDIyXSxpdGFsaWM6WzMsMjNdLHVuZGVybGluZTpbNCwyNF0saW52ZXJzZTpbNywyN10sd2hpdGU6WzM3LDM5XSxncmV5Ols5MCwzOV0sYmxhY2s6WzMwLDM5XSxibHVlOlszNCwzOV0sY3lhbjpbMzYsMzldLGdyZWVuOlszMiwzOV0sbWFnZW50YTpbMzUsMzldLHJlZDpbMzEsMzldLHllbGxvdzpbMzMsMzldfSxpLnN0eWxlcz17c3BlY2lhbDpcImN5YW5cIixudW1iZXI6XCJ5ZWxsb3dcIixcImJvb2xlYW5cIjpcInllbGxvd1wiLHVuZGVmaW5lZDpcImdyZXlcIixcIm51bGxcIjpcImJvbGRcIixzdHJpbmc6XCJncmVlblwiLGRhdGU6XCJtYWdlbnRhXCIscmVnZXhwOlwicmVkXCJ9LG4uaXNBcnJheT1wLG4uaXNCb29sZWFuPW0sbi5pc051bGw9ZyxuLmlzTnVsbE9yVW5kZWZpbmVkPXYsbi5pc051bWJlcj15LG4uaXNTdHJpbmc9YixuLmlzU3ltYm9sPXcsbi5pc1VuZGVmaW5lZD14LG4uaXNSZWdFeHA9ayxuLmlzT2JqZWN0PVMsbi5pc0RhdGU9eixuLmlzRXJyb3I9XyxuLmlzRnVuY3Rpb249aixuLmlzUHJpbWl0aXZlPUEsbi5pc0J1ZmZlcj1lKFwiLi9zdXBwb3J0L2lzQnVmZmVyXCIpO3ZhciBEPVtcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFwiTWF5XCIsXCJKdW5cIixcIkp1bFwiLFwiQXVnXCIsXCJTZXBcIixcIk9jdFwiLFwiTm92XCIsXCJEZWNcIl07bi5sb2c9ZnVuY3Rpb24oKXtjb25zb2xlLmxvZyhcIiVzIC0gJXNcIixNKCksbi5mb3JtYXQuYXBwbHkobixhcmd1bWVudHMpKX0sbi5pbmhlcml0cz1lKFwiaW5oZXJpdHNcIiksbi5fZXh0ZW5kPWZ1bmN0aW9uKGUsdCl7aWYoIXR8fCFTKHQpKXJldHVybiBlO2Zvcih2YXIgbj1PYmplY3Qua2V5cyh0KSxyPW4ubGVuZ3RoO3ItLTspZVtuW3JdXT10W25bcl1dO3JldHVybiBlfX0pLmNhbGwodGhpcyxlKFwiX3Byb2Nlc3NcIiksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGY/c2VsZjpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzp7fSl9LHtcIi4vc3VwcG9ydC9pc0J1ZmZlclwiOjQ0LF9wcm9jZXNzOjQxLGluaGVyaXRzOjQzfV0sNDY6W2Z1bmN0aW9uKGUsdCxuKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7XCJkZWZhdWx0XCI6ZX19T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGksbz1lKFwiY2FydG9cIiksYT1yKG8pLHM9e21hcmtlcjpcInBvaW50c1wiLHBvbHlnb246XCJwb2x5Z29uc1wiLGxpbmU6XCJsaW5lc1wifSxsPXtwb2x5Z29uOntjb2xvcjpcImZpbGxcIn0sbGluZTp7Y29sb3I6XCJjb2xvclwifSxtYXJrZXI6e2NvbG9yOlwiY29sb3JcIn19LHU9bmV3IGEuZGVmYXVsdC5SZW5kZXJlckpTLGM9ZnVuY3Rpb24oZSl7cmV0dXJuIHNbZV19LGY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZStcIi1cIit0fSxkPWZ1bmN0aW9uKGUpe3JldHVyblwiZnVuY3Rpb24gKCkge1xcbiAgICB2YXIgX3ZhbHVlID0gbnVsbDtcXG4gICAgXCIrZStcIlxcbiAgICByZXR1cm4gX3ZhbHVlO1xcbiAgfVwifSxoPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL2N0eC56b29tL2csXCIkem9vbVwiKS5yZXBsYWNlKC9kYXRhXFxbL2csXCJmZWF0dXJlW1wiKX0scD1mdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybiBmdW5jdGlvbigpe3JldHVybiB0fTtlPVwicmV0dXJuIChcIitlK1wiKCkpO1wiO2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkobj4yP24tMjowKSxpPTI7bj5pO2krKylyW2ktMl09YXJndW1lbnRzW2ldO3JldHVybiBuZXcoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoRnVuY3Rpb24sW251bGxdLmNvbmNhdChyLFtlXSkpKX0sbT1mdW5jdGlvbihlLHQpe3JldHVybiBsW2VdW3RdfSxnPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uW2YoZSx0KV07aWYoIXIpcmV0dXJuXCJcIjtmb3IodmFyIGk9ci5qcyxvPVwiXCIsYT0wO2E8aS5sZW5ndGg7YSsrKW8rPWgoaVthXSk7cmV0dXJuIGQobyl9LHY9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXt9LG49MDtuPGUuc3ltYm9saXplcnMubGVuZ3RoO24rKyl7dmFyIHI9ZS5zeW1ib2xpemVyc1tuXTt0W2MocildPXtjb2xvcjpnKHIsbShyLFwiY29sb3JcIiksZSksc2l6ZTpnKHIsXCJzaXplXCIsZSksd2lkdGg6cChnKHIsXCJ3aWR0aFwiLGUpLFwiXCIsXCJmZWF0dXJlXCIsXCIkem9vbVwiKSh7fSwxMCl9fXJldHVybiB0fSx5PWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD11LnJlbmRlcihlKS5nZXRMYXllcnMoKSxuPXt9LHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIGk9dFtyXS5zaGFkZXI7bj12KGkpfXJldHVybiBufTtuLmRlZmF1bHQ9aT17ZXh0cmFjdEZlYXR1cmVzOnl9fSx7Y2FydG86NH1dLDQ3OltmdW5jdGlvbihlLHQpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOntcImRlZmF1bHRcIjplfX12YXIgcj1lKFwiLi9jYXJ0b1wiKSxpPW4ocik7dC5leHBvcnRzPXtjYXJ0bzJEcmF3OmkuZGVmYXVsdC5leHRyYWN0RmVhdHVyZXN9fSx7XCIuL2NhcnRvXCI6NDZ9XX0se30sWzQ3XSkoNDcpfSk7IiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbnZhciBEdW1wZXIsIElubGluZSwgVXRpbHM7XG5cblV0aWxzID0gcmVxdWlyZSgnLi9VdGlscycpO1xuXG5JbmxpbmUgPSByZXF1aXJlKCcuL0lubGluZScpO1xuXG5EdW1wZXIgPSAoZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIER1bXBlcigpIHt9XG5cbiAgRHVtcGVyLmluZGVudGF0aW9uID0gNDtcblxuICBEdW1wZXIucHJvdG90eXBlLmR1bXAgPSBmdW5jdGlvbihpbnB1dCwgaW5saW5lLCBpbmRlbnQsIGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsIG9iamVjdEVuY29kZXIpIHtcbiAgICB2YXIgaSwga2V5LCBsZW4sIG91dHB1dCwgcHJlZml4LCB2YWx1ZSwgd2lsbEJlSW5saW5lZDtcbiAgICBpZiAoaW5saW5lID09IG51bGwpIHtcbiAgICAgIGlubGluZSA9IDA7XG4gICAgfVxuICAgIGlmIChpbmRlbnQgPT0gbnVsbCkge1xuICAgICAgaW5kZW50ID0gMDtcbiAgICB9XG4gICAgaWYgKGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUgPT0gbnVsbCkge1xuICAgICAgZXhjZXB0aW9uT25JbnZhbGlkVHlwZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAob2JqZWN0RW5jb2RlciA9PSBudWxsKSB7XG4gICAgICBvYmplY3RFbmNvZGVyID0gbnVsbDtcbiAgICB9XG4gICAgb3V0cHV0ID0gJyc7XG4gICAgcHJlZml4ID0gKGluZGVudCA/IFV0aWxzLnN0clJlcGVhdCgnICcsIGluZGVudCkgOiAnJyk7XG4gICAgaWYgKGlubGluZSA8PSAwIHx8IHR5cGVvZiBpbnB1dCAhPT0gJ29iamVjdCcgfHwgaW5wdXQgaW5zdGFuY2VvZiBEYXRlIHx8IFV0aWxzLmlzRW1wdHkoaW5wdXQpKSB7XG4gICAgICBvdXRwdXQgKz0gcHJlZml4ICsgSW5saW5lLmR1bXAoaW5wdXQsIGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsIG9iamVjdEVuY29kZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBpbnB1dC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIHZhbHVlID0gaW5wdXRbaV07XG4gICAgICAgICAgd2lsbEJlSW5saW5lZCA9IGlubGluZSAtIDEgPD0gMCB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IFV0aWxzLmlzRW1wdHkodmFsdWUpO1xuICAgICAgICAgIG91dHB1dCArPSBwcmVmaXggKyAnLScgKyAod2lsbEJlSW5saW5lZCA/ICcgJyA6IFwiXFxuXCIpICsgdGhpcy5kdW1wKHZhbHVlLCBpbmxpbmUgLSAxLCAod2lsbEJlSW5saW5lZCA/IDAgOiBpbmRlbnQgKyB0aGlzLmluZGVudGF0aW9uKSwgZXhjZXB0aW9uT25JbnZhbGlkVHlwZSwgb2JqZWN0RW5jb2RlcikgKyAod2lsbEJlSW5saW5lZCA/IFwiXFxuXCIgOiAnJyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAoa2V5IGluIGlucHV0KSB7XG4gICAgICAgICAgdmFsdWUgPSBpbnB1dFtrZXldO1xuICAgICAgICAgIHdpbGxCZUlubGluZWQgPSBpbmxpbmUgLSAxIDw9IDAgfHwgdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCBVdGlscy5pc0VtcHR5KHZhbHVlKTtcbiAgICAgICAgICBvdXRwdXQgKz0gcHJlZml4ICsgSW5saW5lLmR1bXAoa2V5LCBleGNlcHRpb25PbkludmFsaWRUeXBlLCBvYmplY3RFbmNvZGVyKSArICc6JyArICh3aWxsQmVJbmxpbmVkID8gJyAnIDogXCJcXG5cIikgKyB0aGlzLmR1bXAodmFsdWUsIGlubGluZSAtIDEsICh3aWxsQmVJbmxpbmVkID8gMCA6IGluZGVudCArIHRoaXMuaW5kZW50YXRpb24pLCBleGNlcHRpb25PbkludmFsaWRUeXBlLCBvYmplY3RFbmNvZGVyKSArICh3aWxsQmVJbmxpbmVkID8gXCJcXG5cIiA6ICcnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIHJldHVybiBEdW1wZXI7XG5cbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gRHVtcGVyO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbnZhciBFc2NhcGVyLCBQYXR0ZXJuO1xuXG5QYXR0ZXJuID0gcmVxdWlyZSgnLi9QYXR0ZXJuJyk7XG5cbkVzY2FwZXIgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciBjaDtcblxuICBmdW5jdGlvbiBFc2NhcGVyKCkge31cblxuICBFc2NhcGVyLkxJU1RfRVNDQVBFRVMgPSBbJ1xcXFwnLCAnXFxcXFxcXFwnLCAnXFxcXFwiJywgJ1wiJywgXCJcXHgwMFwiLCBcIlxceDAxXCIsIFwiXFx4MDJcIiwgXCJcXHgwM1wiLCBcIlxceDA0XCIsIFwiXFx4MDVcIiwgXCJcXHgwNlwiLCBcIlxceDA3XCIsIFwiXFx4MDhcIiwgXCJcXHgwOVwiLCBcIlxceDBhXCIsIFwiXFx4MGJcIiwgXCJcXHgwY1wiLCBcIlxceDBkXCIsIFwiXFx4MGVcIiwgXCJcXHgwZlwiLCBcIlxceDEwXCIsIFwiXFx4MTFcIiwgXCJcXHgxMlwiLCBcIlxceDEzXCIsIFwiXFx4MTRcIiwgXCJcXHgxNVwiLCBcIlxceDE2XCIsIFwiXFx4MTdcIiwgXCJcXHgxOFwiLCBcIlxceDE5XCIsIFwiXFx4MWFcIiwgXCJcXHgxYlwiLCBcIlxceDFjXCIsIFwiXFx4MWRcIiwgXCJcXHgxZVwiLCBcIlxceDFmXCIsIChjaCA9IFN0cmluZy5mcm9tQ2hhckNvZGUpKDB4MDA4NSksIGNoKDB4MDBBMCksIGNoKDB4MjAyOCksIGNoKDB4MjAyOSldO1xuXG4gIEVzY2FwZXIuTElTVF9FU0NBUEVEID0gWydcXFxcXFxcXCcsICdcXFxcXCInLCAnXFxcXFwiJywgJ1xcXFxcIicsIFwiXFxcXDBcIiwgXCJcXFxceDAxXCIsIFwiXFxcXHgwMlwiLCBcIlxcXFx4MDNcIiwgXCJcXFxceDA0XCIsIFwiXFxcXHgwNVwiLCBcIlxcXFx4MDZcIiwgXCJcXFxcYVwiLCBcIlxcXFxiXCIsIFwiXFxcXHRcIiwgXCJcXFxcblwiLCBcIlxcXFx2XCIsIFwiXFxcXGZcIiwgXCJcXFxcclwiLCBcIlxcXFx4MGVcIiwgXCJcXFxceDBmXCIsIFwiXFxcXHgxMFwiLCBcIlxcXFx4MTFcIiwgXCJcXFxceDEyXCIsIFwiXFxcXHgxM1wiLCBcIlxcXFx4MTRcIiwgXCJcXFxceDE1XCIsIFwiXFxcXHgxNlwiLCBcIlxcXFx4MTdcIiwgXCJcXFxceDE4XCIsIFwiXFxcXHgxOVwiLCBcIlxcXFx4MWFcIiwgXCJcXFxcZVwiLCBcIlxcXFx4MWNcIiwgXCJcXFxceDFkXCIsIFwiXFxcXHgxZVwiLCBcIlxcXFx4MWZcIiwgXCJcXFxcTlwiLCBcIlxcXFxfXCIsIFwiXFxcXExcIiwgXCJcXFxcUFwiXTtcblxuICBFc2NhcGVyLk1BUFBJTkdfRVNDQVBFRVNfVE9fRVNDQVBFRCA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgaSwgaiwgbWFwcGluZywgcmVmO1xuICAgIG1hcHBpbmcgPSB7fTtcbiAgICBmb3IgKGkgPSBqID0gMCwgcmVmID0gRXNjYXBlci5MSVNUX0VTQ0FQRUVTLmxlbmd0aDsgMCA8PSByZWYgPyBqIDwgcmVmIDogaiA+IHJlZjsgaSA9IDAgPD0gcmVmID8gKytqIDogLS1qKSB7XG4gICAgICBtYXBwaW5nW0VzY2FwZXIuTElTVF9FU0NBUEVFU1tpXV0gPSBFc2NhcGVyLkxJU1RfRVNDQVBFRFtpXTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcHBpbmc7XG4gIH0pKCk7XG5cbiAgRXNjYXBlci5QQVRURVJOX0NIQVJBQ1RFUlNfVE9fRVNDQVBFID0gbmV3IFBhdHRlcm4oJ1tcXFxceDAwLVxcXFx4MWZdfFxceGMyXFx4ODV8XFx4YzJcXHhhMHxcXHhlMlxceDgwXFx4YTh8XFx4ZTJcXHg4MFxceGE5Jyk7XG5cbiAgRXNjYXBlci5QQVRURVJOX01BUFBJTkdfRVNDQVBFRVMgPSBuZXcgUGF0dGVybihFc2NhcGVyLkxJU1RfRVNDQVBFRVMuam9pbignfCcpLnNwbGl0KCdcXFxcJykuam9pbignXFxcXFxcXFwnKSk7XG5cbiAgRXNjYXBlci5QQVRURVJOX1NJTkdMRV9RVU9USU5HID0gbmV3IFBhdHRlcm4oJ1tcXFxcc1xcJ1wiOnt9W1xcXFxdLCYqIz9dfF5bLT98PD49ISVAYF0nKTtcblxuICBFc2NhcGVyLnJlcXVpcmVzRG91YmxlUXVvdGluZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuUEFUVEVSTl9DSEFSQUNURVJTX1RPX0VTQ0FQRS50ZXN0KHZhbHVlKTtcbiAgfTtcblxuICBFc2NhcGVyLmVzY2FwZVdpdGhEb3VibGVRdW90ZXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXN1bHQ7XG4gICAgcmVzdWx0ID0gdGhpcy5QQVRURVJOX01BUFBJTkdfRVNDQVBFRVMucmVwbGFjZSh2YWx1ZSwgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RyKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy5NQVBQSU5HX0VTQ0FQRUVTX1RPX0VTQ0FQRURbc3RyXTtcbiAgICAgIH07XG4gICAgfSkodGhpcykpO1xuICAgIHJldHVybiAnXCInICsgcmVzdWx0ICsgJ1wiJztcbiAgfTtcblxuICBFc2NhcGVyLnJlcXVpcmVzU2luZ2xlUXVvdGluZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuUEFUVEVSTl9TSU5HTEVfUVVPVElORy50ZXN0KHZhbHVlKTtcbiAgfTtcblxuICBFc2NhcGVyLmVzY2FwZVdpdGhTaW5nbGVRdW90ZXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBcIidcIiArIHZhbHVlLnJlcGxhY2UoLycvZywgXCInJ1wiKSArIFwiJ1wiO1xuICB9O1xuXG4gIHJldHVybiBFc2NhcGVyO1xuXG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEVzY2FwZXI7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxudmFyIER1bXBFeGNlcHRpb24sXG4gIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG5EdW1wRXhjZXB0aW9uID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKER1bXBFeGNlcHRpb24sIHN1cGVyQ2xhc3MpO1xuXG4gIGZ1bmN0aW9uIER1bXBFeGNlcHRpb24obWVzc2FnZSwgcGFyc2VkTGluZSwgc25pcHBldCkge1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5wYXJzZWRMaW5lID0gcGFyc2VkTGluZTtcbiAgICB0aGlzLnNuaXBwZXQgPSBzbmlwcGV0O1xuICB9XG5cbiAgRHVtcEV4Y2VwdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoKHRoaXMucGFyc2VkTGluZSAhPSBudWxsKSAmJiAodGhpcy5zbmlwcGV0ICE9IG51bGwpKSB7XG4gICAgICByZXR1cm4gJzxEdW1wRXhjZXB0aW9uPiAnICsgdGhpcy5tZXNzYWdlICsgJyAobGluZSAnICsgdGhpcy5wYXJzZWRMaW5lICsgJzogXFwnJyArIHRoaXMuc25pcHBldCArICdcXCcpJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICc8RHVtcEV4Y2VwdGlvbj4gJyArIHRoaXMubWVzc2FnZTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIER1bXBFeGNlcHRpb247XG5cbn0pKEVycm9yKTtcblxubW9kdWxlLmV4cG9ydHMgPSBEdW1wRXhjZXB0aW9uO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbnZhciBQYXJzZUV4Y2VwdGlvbixcbiAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cblBhcnNlRXhjZXB0aW9uID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgZXh0ZW5kKFBhcnNlRXhjZXB0aW9uLCBzdXBlckNsYXNzKTtcblxuICBmdW5jdGlvbiBQYXJzZUV4Y2VwdGlvbihtZXNzYWdlLCBwYXJzZWRMaW5lLCBzbmlwcGV0KSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnBhcnNlZExpbmUgPSBwYXJzZWRMaW5lO1xuICAgIHRoaXMuc25pcHBldCA9IHNuaXBwZXQ7XG4gIH1cblxuICBQYXJzZUV4Y2VwdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoKHRoaXMucGFyc2VkTGluZSAhPSBudWxsKSAmJiAodGhpcy5zbmlwcGV0ICE9IG51bGwpKSB7XG4gICAgICByZXR1cm4gJzxQYXJzZUV4Y2VwdGlvbj4gJyArIHRoaXMubWVzc2FnZSArICcgKGxpbmUgJyArIHRoaXMucGFyc2VkTGluZSArICc6IFxcJycgKyB0aGlzLnNuaXBwZXQgKyAnXFwnKSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnPFBhcnNlRXhjZXB0aW9uPiAnICsgdGhpcy5tZXNzYWdlO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gUGFyc2VFeGNlcHRpb247XG5cbn0pKEVycm9yKTtcblxubW9kdWxlLmV4cG9ydHMgPSBQYXJzZUV4Y2VwdGlvbjtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG52YXIgRHVtcEV4Y2VwdGlvbiwgRXNjYXBlciwgSW5saW5lLCBQYXJzZUV4Y2VwdGlvbiwgUGF0dGVybiwgVW5lc2NhcGVyLCBVdGlscyxcbiAgaW5kZXhPZiA9IFtdLmluZGV4T2YgfHwgZnVuY3Rpb24oaXRlbSkgeyBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7IGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkgcmV0dXJuIGk7IH0gcmV0dXJuIC0xOyB9O1xuXG5QYXR0ZXJuID0gcmVxdWlyZSgnLi9QYXR0ZXJuJyk7XG5cblVuZXNjYXBlciA9IHJlcXVpcmUoJy4vVW5lc2NhcGVyJyk7XG5cbkVzY2FwZXIgPSByZXF1aXJlKCcuL0VzY2FwZXInKTtcblxuVXRpbHMgPSByZXF1aXJlKCcuL1V0aWxzJyk7XG5cblBhcnNlRXhjZXB0aW9uID0gcmVxdWlyZSgnLi9FeGNlcHRpb24vUGFyc2VFeGNlcHRpb24nKTtcblxuRHVtcEV4Y2VwdGlvbiA9IHJlcXVpcmUoJy4vRXhjZXB0aW9uL0R1bXBFeGNlcHRpb24nKTtcblxuSW5saW5lID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBJbmxpbmUoKSB7fVxuXG4gIElubGluZS5SRUdFWF9RVU9URURfU1RSSU5HID0gJyg/OlwiKD86W15cIlxcXFxcXFxcXSooPzpcXFxcXFxcXC5bXlwiXFxcXFxcXFxdKikqKVwifFxcJyg/OlteXFwnXSooPzpcXCdcXCdbXlxcJ10qKSopXFwnKSc7XG5cbiAgSW5saW5lLlBBVFRFUk5fVFJBSUxJTkdfQ09NTUVOVFMgPSBuZXcgUGF0dGVybignXlxcXFxzKiMuKiQnKTtcblxuICBJbmxpbmUuUEFUVEVSTl9RVU9URURfU0NBTEFSID0gbmV3IFBhdHRlcm4oJ14nICsgSW5saW5lLlJFR0VYX1FVT1RFRF9TVFJJTkcpO1xuXG4gIElubGluZS5QQVRURVJOX1RIT1VTQU5EX05VTUVSSUNfU0NBTEFSID0gbmV3IFBhdHRlcm4oJ14oLXxcXFxcKyk/WzAtOSxdKyhcXFxcLlswLTldKyk/JCcpO1xuXG4gIElubGluZS5QQVRURVJOX1NDQUxBUl9CWV9ERUxJTUlURVJTID0ge307XG5cbiAgSW5saW5lLnNldHRpbmdzID0ge307XG5cbiAgSW5saW5lLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uKGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsIG9iamVjdERlY29kZXIpIHtcbiAgICBpZiAoZXhjZXB0aW9uT25JbnZhbGlkVHlwZSA9PSBudWxsKSB7XG4gICAgICBleGNlcHRpb25PbkludmFsaWRUeXBlID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKG9iamVjdERlY29kZXIgPT0gbnVsbCkge1xuICAgICAgb2JqZWN0RGVjb2RlciA9IG51bGw7XG4gICAgfVxuICAgIHRoaXMuc2V0dGluZ3MuZXhjZXB0aW9uT25JbnZhbGlkVHlwZSA9IGV4Y2VwdGlvbk9uSW52YWxpZFR5cGU7XG4gICAgdGhpcy5zZXR0aW5ncy5vYmplY3REZWNvZGVyID0gb2JqZWN0RGVjb2RlcjtcbiAgfTtcblxuICBJbmxpbmUucGFyc2UgPSBmdW5jdGlvbih2YWx1ZSwgZXhjZXB0aW9uT25JbnZhbGlkVHlwZSwgb2JqZWN0RGVjb2Rlcikge1xuICAgIHZhciBjb250ZXh0LCByZXN1bHQ7XG4gICAgaWYgKGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUgPT0gbnVsbCkge1xuICAgICAgZXhjZXB0aW9uT25JbnZhbGlkVHlwZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAob2JqZWN0RGVjb2RlciA9PSBudWxsKSB7XG4gICAgICBvYmplY3REZWNvZGVyID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5zZXR0aW5ncy5leGNlcHRpb25PbkludmFsaWRUeXBlID0gZXhjZXB0aW9uT25JbnZhbGlkVHlwZTtcbiAgICB0aGlzLnNldHRpbmdzLm9iamVjdERlY29kZXIgPSBvYmplY3REZWNvZGVyO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHZhbHVlID0gVXRpbHMudHJpbSh2YWx1ZSk7XG4gICAgaWYgKDAgPT09IHZhbHVlLmxlbmd0aCkge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb250ZXh0ID0ge1xuICAgICAgZXhjZXB0aW9uT25JbnZhbGlkVHlwZTogZXhjZXB0aW9uT25JbnZhbGlkVHlwZSxcbiAgICAgIG9iamVjdERlY29kZXI6IG9iamVjdERlY29kZXIsXG4gICAgICBpOiAwXG4gICAgfTtcbiAgICBzd2l0Y2ggKHZhbHVlLmNoYXJBdCgwKSkge1xuICAgICAgY2FzZSAnWyc6XG4gICAgICAgIHJlc3VsdCA9IHRoaXMucGFyc2VTZXF1ZW5jZSh2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgICsrY29udGV4dC5pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3snOlxuICAgICAgICByZXN1bHQgPSB0aGlzLnBhcnNlTWFwcGluZyh2YWx1ZSwgY29udGV4dCk7XG4gICAgICAgICsrY29udGV4dC5pO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJlc3VsdCA9IHRoaXMucGFyc2VTY2FsYXIodmFsdWUsIG51bGwsIFsnXCInLCBcIidcIl0sIGNvbnRleHQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5QQVRURVJOX1RSQUlMSU5HX0NPTU1FTlRTLnJlcGxhY2UodmFsdWUuc2xpY2UoY29udGV4dC5pKSwgJycpICE9PSAnJykge1xuICAgICAgdGhyb3cgbmV3IFBhcnNlRXhjZXB0aW9uKCdVbmV4cGVjdGVkIGNoYXJhY3RlcnMgbmVhciBcIicgKyB2YWx1ZS5zbGljZShjb250ZXh0LmkpICsgJ1wiLicpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIElubGluZS5kdW1wID0gZnVuY3Rpb24odmFsdWUsIGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsIG9iamVjdEVuY29kZXIpIHtcbiAgICB2YXIgcmVmLCByZXN1bHQsIHR5cGU7XG4gICAgaWYgKGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUgPT0gbnVsbCkge1xuICAgICAgZXhjZXB0aW9uT25JbnZhbGlkVHlwZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAob2JqZWN0RW5jb2RlciA9PSBudWxsKSB7XG4gICAgICBvYmplY3RFbmNvZGVyID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgfVxuICAgIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS50b0lTT1N0cmluZygpO1xuICAgICAgfSBlbHNlIGlmIChvYmplY3RFbmNvZGVyICE9IG51bGwpIHtcbiAgICAgICAgcmVzdWx0ID0gb2JqZWN0RW5jb2Rlcih2YWx1ZSk7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnc3RyaW5nJyB8fCAocmVzdWx0ICE9IG51bGwpKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuZHVtcE9iamVjdCh2YWx1ZSk7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnYm9vbGVhbicpIHtcbiAgICAgIHJldHVybiAodmFsdWUgPyAndHJ1ZScgOiAnZmFsc2UnKTtcbiAgICB9XG4gICAgaWYgKFV0aWxzLmlzRGlnaXRzKHZhbHVlKSkge1xuICAgICAgcmV0dXJuICh0eXBlID09PSAnc3RyaW5nJyA/IFwiJ1wiICsgdmFsdWUgKyBcIidcIiA6IFN0cmluZyhwYXJzZUludCh2YWx1ZSkpKTtcbiAgICB9XG4gICAgaWYgKFV0aWxzLmlzTnVtZXJpYyh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiAodHlwZSA9PT0gJ3N0cmluZycgPyBcIidcIiArIHZhbHVlICsgXCInXCIgOiBTdHJpbmcocGFyc2VGbG9hdCh2YWx1ZSkpKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gKHZhbHVlID09PSBJbmZpbml0eSA/ICcuSW5mJyA6ICh2YWx1ZSA9PT0gLUluZmluaXR5ID8gJy0uSW5mJyA6IChpc05hTih2YWx1ZSkgPyAnLk5hTicgOiB2YWx1ZSkpKTtcbiAgICB9XG4gICAgaWYgKEVzY2FwZXIucmVxdWlyZXNEb3VibGVRdW90aW5nKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIEVzY2FwZXIuZXNjYXBlV2l0aERvdWJsZVF1b3Rlcyh2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChFc2NhcGVyLnJlcXVpcmVzU2luZ2xlUXVvdGluZyh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBFc2NhcGVyLmVzY2FwZVdpdGhTaW5nbGVRdW90ZXModmFsdWUpO1xuICAgIH1cbiAgICBpZiAoJycgPT09IHZhbHVlKSB7XG4gICAgICByZXR1cm4gJ1wiXCInO1xuICAgIH1cbiAgICBpZiAoVXRpbHMuUEFUVEVSTl9EQVRFLnRlc3QodmFsdWUpKSB7XG4gICAgICByZXR1cm4gXCInXCIgKyB2YWx1ZSArIFwiJ1wiO1xuICAgIH1cbiAgICBpZiAoKHJlZiA9IHZhbHVlLnRvTG93ZXJDYXNlKCkpID09PSAnbnVsbCcgfHwgcmVmID09PSAnficgfHwgcmVmID09PSAndHJ1ZScgfHwgcmVmID09PSAnZmFsc2UnKSB7XG4gICAgICByZXR1cm4gXCInXCIgKyB2YWx1ZSArIFwiJ1wiO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgSW5saW5lLmR1bXBPYmplY3QgPSBmdW5jdGlvbih2YWx1ZSwgZXhjZXB0aW9uT25JbnZhbGlkVHlwZSwgb2JqZWN0U3VwcG9ydCkge1xuICAgIHZhciBqLCBrZXksIGxlbjEsIG91dHB1dCwgdmFsO1xuICAgIGlmIChvYmplY3RTdXBwb3J0ID09IG51bGwpIHtcbiAgICAgIG9iamVjdFN1cHBvcnQgPSBudWxsO1xuICAgIH1cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgb3V0cHV0ID0gW107XG4gICAgICBmb3IgKGogPSAwLCBsZW4xID0gdmFsdWUubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG4gICAgICAgIHZhbCA9IHZhbHVlW2pdO1xuICAgICAgICBvdXRwdXQucHVzaCh0aGlzLmR1bXAodmFsKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gJ1snICsgb3V0cHV0LmpvaW4oJywgJykgKyAnXSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dCA9IFtdO1xuICAgICAgZm9yIChrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgdmFsID0gdmFsdWVba2V5XTtcbiAgICAgICAgb3V0cHV0LnB1c2godGhpcy5kdW1wKGtleSkgKyAnOiAnICsgdGhpcy5kdW1wKHZhbCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICd7JyArIG91dHB1dC5qb2luKCcsICcpICsgJ30nO1xuICAgIH1cbiAgfTtcblxuICBJbmxpbmUucGFyc2VTY2FsYXIgPSBmdW5jdGlvbihzY2FsYXIsIGRlbGltaXRlcnMsIHN0cmluZ0RlbGltaXRlcnMsIGNvbnRleHQsIGV2YWx1YXRlKSB7XG4gICAgdmFyIGksIGpvaW5lZERlbGltaXRlcnMsIG1hdGNoLCBvdXRwdXQsIHBhdHRlcm4sIHJlZiwgcmVmMSwgc3RycG9zLCB0bXA7XG4gICAgaWYgKGRlbGltaXRlcnMgPT0gbnVsbCkge1xuICAgICAgZGVsaW1pdGVycyA9IG51bGw7XG4gICAgfVxuICAgIGlmIChzdHJpbmdEZWxpbWl0ZXJzID09IG51bGwpIHtcbiAgICAgIHN0cmluZ0RlbGltaXRlcnMgPSBbJ1wiJywgXCInXCJdO1xuICAgIH1cbiAgICBpZiAoY29udGV4dCA9PSBudWxsKSB7XG4gICAgICBjb250ZXh0ID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGV2YWx1YXRlID09IG51bGwpIHtcbiAgICAgIGV2YWx1YXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvbnRleHQgPT0gbnVsbCkge1xuICAgICAgY29udGV4dCA9IHtcbiAgICAgICAgZXhjZXB0aW9uT25JbnZhbGlkVHlwZTogdGhpcy5zZXR0aW5ncy5leGNlcHRpb25PbkludmFsaWRUeXBlLFxuICAgICAgICBvYmplY3REZWNvZGVyOiB0aGlzLnNldHRpbmdzLm9iamVjdERlY29kZXIsXG4gICAgICAgIGk6IDBcbiAgICAgIH07XG4gICAgfVxuICAgIGkgPSBjb250ZXh0Lmk7XG4gICAgaWYgKHJlZiA9IHNjYWxhci5jaGFyQXQoaSksIGluZGV4T2YuY2FsbChzdHJpbmdEZWxpbWl0ZXJzLCByZWYpID49IDApIHtcbiAgICAgIG91dHB1dCA9IHRoaXMucGFyc2VRdW90ZWRTY2FsYXIoc2NhbGFyLCBjb250ZXh0KTtcbiAgICAgIGkgPSBjb250ZXh0Lmk7XG4gICAgICBpZiAoZGVsaW1pdGVycyAhPSBudWxsKSB7XG4gICAgICAgIHRtcCA9IFV0aWxzLmx0cmltKHNjYWxhci5zbGljZShpKSwgJyAnKTtcbiAgICAgICAgaWYgKCEocmVmMSA9IHRtcC5jaGFyQXQoMCksIGluZGV4T2YuY2FsbChkZWxpbWl0ZXJzLCByZWYxKSA+PSAwKSkge1xuICAgICAgICAgIHRocm93IG5ldyBQYXJzZUV4Y2VwdGlvbignVW5leHBlY3RlZCBjaGFyYWN0ZXJzICgnICsgc2NhbGFyLnNsaWNlKGkpICsgJykuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFkZWxpbWl0ZXJzKSB7XG4gICAgICAgIG91dHB1dCA9IHNjYWxhci5zbGljZShpKTtcbiAgICAgICAgaSArPSBvdXRwdXQubGVuZ3RoO1xuICAgICAgICBzdHJwb3MgPSBvdXRwdXQuaW5kZXhPZignICMnKTtcbiAgICAgICAgaWYgKHN0cnBvcyAhPT0gLTEpIHtcbiAgICAgICAgICBvdXRwdXQgPSBVdGlscy5ydHJpbShvdXRwdXQuc2xpY2UoMCwgc3RycG9zKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGpvaW5lZERlbGltaXRlcnMgPSBkZWxpbWl0ZXJzLmpvaW4oJ3wnKTtcbiAgICAgICAgcGF0dGVybiA9IHRoaXMuUEFUVEVSTl9TQ0FMQVJfQllfREVMSU1JVEVSU1tqb2luZWREZWxpbWl0ZXJzXTtcbiAgICAgICAgaWYgKHBhdHRlcm4gPT0gbnVsbCkge1xuICAgICAgICAgIHBhdHRlcm4gPSBuZXcgUGF0dGVybignXiguKz8pKCcgKyBqb2luZWREZWxpbWl0ZXJzICsgJyknKTtcbiAgICAgICAgICB0aGlzLlBBVFRFUk5fU0NBTEFSX0JZX0RFTElNSVRFUlNbam9pbmVkRGVsaW1pdGVyc10gPSBwYXR0ZXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXRjaCA9IHBhdHRlcm4uZXhlYyhzY2FsYXIuc2xpY2UoaSkpKSB7XG4gICAgICAgICAgb3V0cHV0ID0gbWF0Y2hbMV07XG4gICAgICAgICAgaSArPSBvdXRwdXQubGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBQYXJzZUV4Y2VwdGlvbignTWFsZm9ybWVkIGlubGluZSBZQU1MIHN0cmluZyAoJyArIHNjYWxhciArICcpLicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZXZhbHVhdGUpIHtcbiAgICAgICAgb3V0cHV0ID0gdGhpcy5ldmFsdWF0ZVNjYWxhcihvdXRwdXQsIGNvbnRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb250ZXh0LmkgPSBpO1xuICAgIHJldHVybiBvdXRwdXQ7XG4gIH07XG5cbiAgSW5saW5lLnBhcnNlUXVvdGVkU2NhbGFyID0gZnVuY3Rpb24oc2NhbGFyLCBjb250ZXh0KSB7XG4gICAgdmFyIGksIG1hdGNoLCBvdXRwdXQ7XG4gICAgaSA9IGNvbnRleHQuaTtcbiAgICBpZiAoIShtYXRjaCA9IHRoaXMuUEFUVEVSTl9RVU9URURfU0NBTEFSLmV4ZWMoc2NhbGFyLnNsaWNlKGkpKSkpIHtcbiAgICAgIHRocm93IG5ldyBQYXJzZUV4Y2VwdGlvbignTWFsZm9ybWVkIGlubGluZSBZQU1MIHN0cmluZyAoJyArIHNjYWxhci5zbGljZShpKSArICcpLicpO1xuICAgIH1cbiAgICBvdXRwdXQgPSBtYXRjaFswXS5zdWJzdHIoMSwgbWF0Y2hbMF0ubGVuZ3RoIC0gMik7XG4gICAgaWYgKCdcIicgPT09IHNjYWxhci5jaGFyQXQoaSkpIHtcbiAgICAgIG91dHB1dCA9IFVuZXNjYXBlci51bmVzY2FwZURvdWJsZVF1b3RlZFN0cmluZyhvdXRwdXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRwdXQgPSBVbmVzY2FwZXIudW5lc2NhcGVTaW5nbGVRdW90ZWRTdHJpbmcob3V0cHV0KTtcbiAgICB9XG4gICAgaSArPSBtYXRjaFswXS5sZW5ndGg7XG4gICAgY29udGV4dC5pID0gaTtcbiAgICByZXR1cm4gb3V0cHV0O1xuICB9O1xuXG4gIElubGluZS5wYXJzZVNlcXVlbmNlID0gZnVuY3Rpb24oc2VxdWVuY2UsIGNvbnRleHQpIHtcbiAgICB2YXIgZSwgZXJyb3IsIGksIGlzUXVvdGVkLCBsZW4sIG91dHB1dCwgcmVmLCB2YWx1ZTtcbiAgICBvdXRwdXQgPSBbXTtcbiAgICBsZW4gPSBzZXF1ZW5jZS5sZW5ndGg7XG4gICAgaSA9IGNvbnRleHQuaTtcbiAgICBpICs9IDE7XG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgIGNvbnRleHQuaSA9IGk7XG4gICAgICBzd2l0Y2ggKHNlcXVlbmNlLmNoYXJBdChpKSkge1xuICAgICAgICBjYXNlICdbJzpcbiAgICAgICAgICBvdXRwdXQucHVzaCh0aGlzLnBhcnNlU2VxdWVuY2Uoc2VxdWVuY2UsIGNvbnRleHQpKTtcbiAgICAgICAgICBpID0gY29udGV4dC5pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd7JzpcbiAgICAgICAgICBvdXRwdXQucHVzaCh0aGlzLnBhcnNlTWFwcGluZyhzZXF1ZW5jZSwgY29udGV4dCkpO1xuICAgICAgICAgIGkgPSBjb250ZXh0Lmk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ10nOlxuICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIGNhc2UgJywnOlxuICAgICAgICBjYXNlICcgJzpcbiAgICAgICAgY2FzZSBcIlxcblwiOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlzUXVvdGVkID0gKChyZWYgPSBzZXF1ZW5jZS5jaGFyQXQoaSkpID09PSAnXCInIHx8IHJlZiA9PT0gXCInXCIpO1xuICAgICAgICAgIHZhbHVlID0gdGhpcy5wYXJzZVNjYWxhcihzZXF1ZW5jZSwgWycsJywgJ10nXSwgWydcIicsIFwiJ1wiXSwgY29udGV4dCk7XG4gICAgICAgICAgaSA9IGNvbnRleHQuaTtcbiAgICAgICAgICBpZiAoIWlzUXVvdGVkICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgKHZhbHVlLmluZGV4T2YoJzogJykgIT09IC0xIHx8IHZhbHVlLmluZGV4T2YoXCI6XFxuXCIpICE9PSAtMSkpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdGhpcy5wYXJzZU1hcHBpbmcoJ3snICsgdmFsdWUgKyAnfScpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBvdXRwdXQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgLS1pO1xuICAgICAgfVxuICAgICAgKytpO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgUGFyc2VFeGNlcHRpb24oJ01hbGZvcm1lZCBpbmxpbmUgWUFNTCBzdHJpbmcgJyArIHNlcXVlbmNlKTtcbiAgfTtcblxuICBJbmxpbmUucGFyc2VNYXBwaW5nID0gZnVuY3Rpb24obWFwcGluZywgY29udGV4dCkge1xuICAgIHZhciBkb25lLCBpLCBrZXksIGxlbiwgb3V0cHV0LCBzaG91bGRDb250aW51ZVdoaWxlTG9vcCwgdmFsdWU7XG4gICAgb3V0cHV0ID0ge307XG4gICAgbGVuID0gbWFwcGluZy5sZW5ndGg7XG4gICAgaSA9IGNvbnRleHQuaTtcbiAgICBpICs9IDE7XG4gICAgc2hvdWxkQ29udGludWVXaGlsZUxvb3AgPSBmYWxzZTtcbiAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgY29udGV4dC5pID0gaTtcbiAgICAgIHN3aXRjaCAobWFwcGluZy5jaGFyQXQoaSkpIHtcbiAgICAgICAgY2FzZSAnICc6XG4gICAgICAgIGNhc2UgJywnOlxuICAgICAgICBjYXNlIFwiXFxuXCI6XG4gICAgICAgICAgKytpO1xuICAgICAgICAgIGNvbnRleHQuaSA9IGk7XG4gICAgICAgICAgc2hvdWxkQ29udGludWVXaGlsZUxvb3AgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd9JzpcbiAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgfVxuICAgICAgaWYgKHNob3VsZENvbnRpbnVlV2hpbGVMb29wKSB7XG4gICAgICAgIHNob3VsZENvbnRpbnVlV2hpbGVMb29wID0gZmFsc2U7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAga2V5ID0gdGhpcy5wYXJzZVNjYWxhcihtYXBwaW5nLCBbJzonLCAnICcsIFwiXFxuXCJdLCBbJ1wiJywgXCInXCJdLCBjb250ZXh0LCBmYWxzZSk7XG4gICAgICBpID0gY29udGV4dC5pO1xuICAgICAgZG9uZSA9IGZhbHNlO1xuICAgICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgICAgY29udGV4dC5pID0gaTtcbiAgICAgICAgc3dpdGNoIChtYXBwaW5nLmNoYXJBdChpKSkge1xuICAgICAgICAgIGNhc2UgJ1snOlxuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnBhcnNlU2VxdWVuY2UobWFwcGluZywgY29udGV4dCk7XG4gICAgICAgICAgICBpID0gY29udGV4dC5pO1xuICAgICAgICAgICAgaWYgKG91dHB1dFtrZXldID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgb3V0cHV0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAneyc6XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMucGFyc2VNYXBwaW5nKG1hcHBpbmcsIGNvbnRleHQpO1xuICAgICAgICAgICAgaSA9IGNvbnRleHQuaTtcbiAgICAgICAgICAgIGlmIChvdXRwdXRba2V5XSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgIG91dHB1dFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJzonOlxuICAgICAgICAgIGNhc2UgJyAnOlxuICAgICAgICAgIGNhc2UgXCJcXG5cIjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMucGFyc2VTY2FsYXIobWFwcGluZywgWycsJywgJ30nXSwgWydcIicsIFwiJ1wiXSwgY29udGV4dCk7XG4gICAgICAgICAgICBpID0gY29udGV4dC5pO1xuICAgICAgICAgICAgaWYgKG91dHB1dFtrZXldID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgb3V0cHV0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgLS1pO1xuICAgICAgICB9XG4gICAgICAgICsraTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgUGFyc2VFeGNlcHRpb24oJ01hbGZvcm1lZCBpbmxpbmUgWUFNTCBzdHJpbmcgJyArIG1hcHBpbmcpO1xuICB9O1xuXG4gIElubGluZS5ldmFsdWF0ZVNjYWxhciA9IGZ1bmN0aW9uKHNjYWxhciwgY29udGV4dCkge1xuICAgIHZhciBjYXN0LCBkYXRlLCBleGNlcHRpb25PbkludmFsaWRUeXBlLCBmaXJzdENoYXIsIGZpcnN0U3BhY2UsIGZpcnN0V29yZCwgb2JqZWN0RGVjb2RlciwgcmF3LCBzY2FsYXJMb3dlciwgc3ViVmFsdWUsIHRyaW1tZWRTY2FsYXI7XG4gICAgc2NhbGFyID0gVXRpbHMudHJpbShzY2FsYXIpO1xuICAgIHNjYWxhckxvd2VyID0gc2NhbGFyLnRvTG93ZXJDYXNlKCk7XG4gICAgc3dpdGNoIChzY2FsYXJMb3dlcikge1xuICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICBjYXNlICcnOlxuICAgICAgY2FzZSAnfic6XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgY2FzZSAndHJ1ZSc6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSAnZmFsc2UnOlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICBjYXNlICcuaW5mJzpcbiAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgICAgY2FzZSAnLm5hbic6XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgICBjYXNlICctLmluZic6XG4gICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGZpcnN0Q2hhciA9IHNjYWxhckxvd2VyLmNoYXJBdCgwKTtcbiAgICAgICAgc3dpdGNoIChmaXJzdENoYXIpIHtcbiAgICAgICAgICBjYXNlICchJzpcbiAgICAgICAgICAgIGZpcnN0U3BhY2UgPSBzY2FsYXIuaW5kZXhPZignICcpO1xuICAgICAgICAgICAgaWYgKGZpcnN0U3BhY2UgPT09IC0xKSB7XG4gICAgICAgICAgICAgIGZpcnN0V29yZCA9IHNjYWxhckxvd2VyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZmlyc3RXb3JkID0gc2NhbGFyTG93ZXIuc2xpY2UoMCwgZmlyc3RTcGFjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKGZpcnN0V29yZCkge1xuICAgICAgICAgICAgICBjYXNlICchJzpcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RTcGFjZSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLnBhcnNlU2NhbGFyKHNjYWxhci5zbGljZSgyKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgY2FzZSAnIXN0cic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFV0aWxzLmx0cmltKHNjYWxhci5zbGljZSg0KSk7XG4gICAgICAgICAgICAgIGNhc2UgJyEhc3RyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gVXRpbHMubHRyaW0oc2NhbGFyLnNsaWNlKDUpKTtcbiAgICAgICAgICAgICAgY2FzZSAnISFpbnQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLnBhcnNlU2NhbGFyKHNjYWxhci5zbGljZSg1KSkpO1xuICAgICAgICAgICAgICBjYXNlICchIWJvb2wnOlxuICAgICAgICAgICAgICAgIHJldHVybiBVdGlscy5wYXJzZUJvb2xlYW4odGhpcy5wYXJzZVNjYWxhcihzY2FsYXIuc2xpY2UoNikpLCBmYWxzZSk7XG4gICAgICAgICAgICAgIGNhc2UgJyEhZmxvYXQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHRoaXMucGFyc2VTY2FsYXIoc2NhbGFyLnNsaWNlKDcpKSk7XG4gICAgICAgICAgICAgIGNhc2UgJyEhdGltZXN0YW1wJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gVXRpbHMuc3RyaW5nVG9EYXRlKFV0aWxzLmx0cmltKHNjYWxhci5zbGljZSgxMSkpKTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBjb250ZXh0ID0ge1xuICAgICAgICAgICAgICAgICAgICBleGNlcHRpb25PbkludmFsaWRUeXBlOiB0aGlzLnNldHRpbmdzLmV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdERlY29kZXI6IHRoaXMuc2V0dGluZ3Mub2JqZWN0RGVjb2RlcixcbiAgICAgICAgICAgICAgICAgICAgaTogMFxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb2JqZWN0RGVjb2RlciA9IGNvbnRleHQub2JqZWN0RGVjb2RlciwgZXhjZXB0aW9uT25JbnZhbGlkVHlwZSA9IGNvbnRleHQuZXhjZXB0aW9uT25JbnZhbGlkVHlwZTtcbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0RGVjb2Rlcikge1xuICAgICAgICAgICAgICAgICAgdHJpbW1lZFNjYWxhciA9IFV0aWxzLnJ0cmltKHNjYWxhcik7XG4gICAgICAgICAgICAgICAgICBmaXJzdFNwYWNlID0gdHJpbW1lZFNjYWxhci5pbmRleE9mKCcgJyk7XG4gICAgICAgICAgICAgICAgICBpZiAoZmlyc3RTcGFjZSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdERlY29kZXIodHJpbW1lZFNjYWxhciwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJWYWx1ZSA9IFV0aWxzLmx0cmltKHRyaW1tZWRTY2FsYXIuc2xpY2UoZmlyc3RTcGFjZSArIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoc3ViVmFsdWUubGVuZ3RoID4gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBzdWJWYWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdERlY29kZXIodHJpbW1lZFNjYWxhci5zbGljZSgwLCBmaXJzdFNwYWNlKSwgc3ViVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZXhjZXB0aW9uT25JbnZhbGlkVHlwZSkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlRXhjZXB0aW9uKCdDdXN0b20gb2JqZWN0IHN1cHBvcnQgd2hlbiBwYXJzaW5nIGEgWUFNTCBmaWxlIGhhcyBiZWVuIGRpc2FibGVkLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJzAnOlxuICAgICAgICAgICAgaWYgKCcweCcgPT09IHNjYWxhci5zbGljZSgwLCAyKSkge1xuICAgICAgICAgICAgICByZXR1cm4gVXRpbHMuaGV4RGVjKHNjYWxhcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFV0aWxzLmlzRGlnaXRzKHNjYWxhcikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFV0aWxzLm9jdERlYyhzY2FsYXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChVdGlscy5pc051bWVyaWMoc2NhbGFyKSkge1xuICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChzY2FsYXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNjYWxhcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJysnOlxuICAgICAgICAgICAgaWYgKFV0aWxzLmlzRGlnaXRzKHNjYWxhcikpIHtcbiAgICAgICAgICAgICAgcmF3ID0gc2NhbGFyO1xuICAgICAgICAgICAgICBjYXN0ID0gcGFyc2VJbnQocmF3KTtcbiAgICAgICAgICAgICAgaWYgKHJhdyA9PT0gU3RyaW5nKGNhc3QpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhc3Q7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJhdztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChVdGlscy5pc051bWVyaWMoc2NhbGFyKSkge1xuICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChzY2FsYXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLlBBVFRFUk5fVEhPVVNBTkRfTlVNRVJJQ19TQ0FMQVIudGVzdChzY2FsYXIpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHNjYWxhci5yZXBsYWNlKCcsJywgJycpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzY2FsYXI7XG4gICAgICAgICAgY2FzZSAnLSc6XG4gICAgICAgICAgICBpZiAoVXRpbHMuaXNEaWdpdHMoc2NhbGFyLnNsaWNlKDEpKSkge1xuICAgICAgICAgICAgICBpZiAoJzAnID09PSBzY2FsYXIuY2hhckF0KDEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIC1VdGlscy5vY3REZWMoc2NhbGFyLnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByYXcgPSBzY2FsYXIuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgY2FzdCA9IHBhcnNlSW50KHJhdyk7XG4gICAgICAgICAgICAgICAgaWYgKHJhdyA9PT0gU3RyaW5nKGNhc3QpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gLWNhc3Q7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAtcmF3O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChVdGlscy5pc051bWVyaWMoc2NhbGFyKSkge1xuICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChzY2FsYXIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLlBBVFRFUk5fVEhPVVNBTkRfTlVNRVJJQ19TQ0FMQVIudGVzdChzY2FsYXIpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHNjYWxhci5yZXBsYWNlKCcsJywgJycpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzY2FsYXI7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChkYXRlID0gVXRpbHMuc3RyaW5nVG9EYXRlKHNjYWxhcikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFV0aWxzLmlzTnVtZXJpYyhzY2FsYXIpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHNjYWxhcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuUEFUVEVSTl9USE9VU0FORF9OVU1FUklDX1NDQUxBUi50ZXN0KHNjYWxhcikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoc2NhbGFyLnJlcGxhY2UoJywnLCAnJykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNjYWxhcjtcbiAgICAgICAgfVxuICAgIH1cbiAgfTtcblxuICByZXR1cm4gSW5saW5lO1xuXG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IElubGluZTtcbiIsIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMC4wXG52YXIgSW5saW5lLCBQYXJzZUV4Y2VwdGlvbiwgUGFyc2VyLCBQYXR0ZXJuLCBVdGlscztcblxuSW5saW5lID0gcmVxdWlyZSgnLi9JbmxpbmUnKTtcblxuUGF0dGVybiA9IHJlcXVpcmUoJy4vUGF0dGVybicpO1xuXG5VdGlscyA9IHJlcXVpcmUoJy4vVXRpbHMnKTtcblxuUGFyc2VFeGNlcHRpb24gPSByZXF1aXJlKCcuL0V4Y2VwdGlvbi9QYXJzZUV4Y2VwdGlvbicpO1xuXG5QYXJzZXIgPSAoZnVuY3Rpb24oKSB7XG4gIFBhcnNlci5wcm90b3R5cGUuUEFUVEVSTl9GT0xERURfU0NBTEFSX0FMTCA9IG5ldyBQYXR0ZXJuKCdeKD86KD88dHlwZT4hW15cXFxcfD5dKilcXFxccyspPyg/PHNlcGFyYXRvcj5cXFxcfHw+KSg/PG1vZGlmaWVycz5cXFxcK3xcXFxcLXxcXFxcZCt8XFxcXCtcXFxcZCt8XFxcXC1cXFxcZCt8XFxcXGQrXFxcXCt8XFxcXGQrXFxcXC0pPyg/PGNvbW1lbnRzPiArIy4qKT8kJyk7XG5cbiAgUGFyc2VyLnByb3RvdHlwZS5QQVRURVJOX0ZPTERFRF9TQ0FMQVJfRU5EID0gbmV3IFBhdHRlcm4oJyg/PHNlcGFyYXRvcj5cXFxcfHw+KSg/PG1vZGlmaWVycz5cXFxcK3xcXFxcLXxcXFxcZCt8XFxcXCtcXFxcZCt8XFxcXC1cXFxcZCt8XFxcXGQrXFxcXCt8XFxcXGQrXFxcXC0pPyg/PGNvbW1lbnRzPiArIy4qKT8kJyk7XG5cbiAgUGFyc2VyLnByb3RvdHlwZS5QQVRURVJOX1NFUVVFTkNFX0lURU0gPSBuZXcgUGF0dGVybignXlxcXFwtKCg/PGxlYWRzcGFjZXM+XFxcXHMrKSg/PHZhbHVlPi4rPykpP1xcXFxzKiQnKTtcblxuICBQYXJzZXIucHJvdG90eXBlLlBBVFRFUk5fQU5DSE9SX1ZBTFVFID0gbmV3IFBhdHRlcm4oJ14mKD88cmVmPlteIF0rKSAqKD88dmFsdWU+LiopJyk7XG5cbiAgUGFyc2VyLnByb3RvdHlwZS5QQVRURVJOX0NPTVBBQ1RfTk9UQVRJT04gPSBuZXcgUGF0dGVybignXig/PGtleT4nICsgSW5saW5lLlJFR0VYX1FVT1RFRF9TVFJJTkcgKyAnfFteIFxcJ1wiXFxcXHtcXFxcW10uKj8pICpcXFxcOihcXFxccysoPzx2YWx1ZT4uKz8pKT9cXFxccyokJyk7XG5cbiAgUGFyc2VyLnByb3RvdHlwZS5QQVRURVJOX01BUFBJTkdfSVRFTSA9IG5ldyBQYXR0ZXJuKCdeKD88a2V5PicgKyBJbmxpbmUuUkVHRVhfUVVPVEVEX1NUUklORyArICd8W14gXFwnXCJcXFxcW1xcXFx7XS4qPykgKlxcXFw6KFxcXFxzKyg/PHZhbHVlPi4rPykpP1xcXFxzKiQnKTtcblxuICBQYXJzZXIucHJvdG90eXBlLlBBVFRFUk5fREVDSU1BTCA9IG5ldyBQYXR0ZXJuKCdcXFxcZCsnKTtcblxuICBQYXJzZXIucHJvdG90eXBlLlBBVFRFUk5fSU5ERU5UX1NQQUNFUyA9IG5ldyBQYXR0ZXJuKCdeICsnKTtcblxuICBQYXJzZXIucHJvdG90eXBlLlBBVFRFUk5fVFJBSUxJTkdfTElORVMgPSBuZXcgUGF0dGVybignKFxcbiopJCcpO1xuXG4gIFBhcnNlci5wcm90b3R5cGUuUEFUVEVSTl9ZQU1MX0hFQURFUiA9IG5ldyBQYXR0ZXJuKCdeXFxcXCVZQU1MWzogXVtcXFxcZFxcXFwuXSsuKlxcbicpO1xuXG4gIFBhcnNlci5wcm90b3R5cGUuUEFUVEVSTl9MRUFESU5HX0NPTU1FTlRTID0gbmV3IFBhdHRlcm4oJ14oXFxcXCMuKj9cXG4pKycpO1xuXG4gIFBhcnNlci5wcm90b3R5cGUuUEFUVEVSTl9ET0NVTUVOVF9NQVJLRVJfU1RBUlQgPSBuZXcgUGF0dGVybignXlxcXFwtXFxcXC1cXFxcLS4qP1xcbicpO1xuXG4gIFBhcnNlci5wcm90b3R5cGUuUEFUVEVSTl9ET0NVTUVOVF9NQVJLRVJfRU5EID0gbmV3IFBhdHRlcm4oJ15cXFxcLlxcXFwuXFxcXC5cXFxccyokJyk7XG5cbiAgUGFyc2VyLnByb3RvdHlwZS5QQVRURVJOX0ZPTERFRF9TQ0FMQVJfQllfSU5ERU5UQVRJT04gPSB7fTtcblxuICBQYXJzZXIucHJvdG90eXBlLkNPTlRFWFRfTk9ORSA9IDA7XG5cbiAgUGFyc2VyLnByb3RvdHlwZS5DT05URVhUX1NFUVVFTkNFID0gMTtcblxuICBQYXJzZXIucHJvdG90eXBlLkNPTlRFWFRfTUFQUElORyA9IDI7XG5cbiAgZnVuY3Rpb24gUGFyc2VyKG9mZnNldCkge1xuICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0ICE9IG51bGwgPyBvZmZzZXQgOiAwO1xuICAgIHRoaXMubGluZXMgPSBbXTtcbiAgICB0aGlzLmN1cnJlbnRMaW5lTmIgPSAtMTtcbiAgICB0aGlzLmN1cnJlbnRMaW5lID0gJyc7XG4gICAgdGhpcy5yZWZzID0ge307XG4gIH1cblxuICBQYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odmFsdWUsIGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsIG9iamVjdERlY29kZXIpIHtcbiAgICB2YXIgYWxpYXMsIGFsbG93T3ZlcndyaXRlLCBibG9jaywgYywgY29udGV4dCwgZGF0YSwgZSwgZXJyb3IsIGVycm9yMSwgZXJyb3IyLCBmaXJzdCwgaSwgaW5kZW50LCBpc1JlZiwgaiwgaywga2V5LCBsLCBsYXN0S2V5LCBsZW4sIGxlbjEsIGxlbjIsIGxlbjMsIGxpbmVDb3VudCwgbSwgbWF0Y2hlcywgbWVyZ2VOb2RlLCBuLCBuYW1lLCBwYXJzZWQsIHBhcnNlZEl0ZW0sIHBhcnNlciwgcmVmLCByZWYxLCByZWYyLCByZWZOYW1lLCByZWZWYWx1ZSwgdmFsLCB2YWx1ZXM7XG4gICAgaWYgKGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUgPT0gbnVsbCkge1xuICAgICAgZXhjZXB0aW9uT25JbnZhbGlkVHlwZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAob2JqZWN0RGVjb2RlciA9PSBudWxsKSB7XG4gICAgICBvYmplY3REZWNvZGVyID0gbnVsbDtcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50TGluZU5iID0gLTE7XG4gICAgdGhpcy5jdXJyZW50TGluZSA9ICcnO1xuICAgIHRoaXMubGluZXMgPSB0aGlzLmNsZWFudXAodmFsdWUpLnNwbGl0KFwiXFxuXCIpO1xuICAgIGRhdGEgPSBudWxsO1xuICAgIGNvbnRleHQgPSB0aGlzLkNPTlRFWFRfTk9ORTtcbiAgICBhbGxvd092ZXJ3cml0ZSA9IGZhbHNlO1xuICAgIHdoaWxlICh0aGlzLm1vdmVUb05leHRMaW5lKCkpIHtcbiAgICAgIGlmICh0aGlzLmlzQ3VycmVudExpbmVFbXB0eSgpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKFwiXFx0XCIgPT09IHRoaXMuY3VycmVudExpbmVbMF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlRXhjZXB0aW9uKCdBIFlBTUwgZmlsZSBjYW5ub3QgY29udGFpbiB0YWJzIGFzIGluZGVudGF0aW9uLicsIHRoaXMuZ2V0UmVhbEN1cnJlbnRMaW5lTmIoKSArIDEsIHRoaXMuY3VycmVudExpbmUpO1xuICAgICAgfVxuICAgICAgaXNSZWYgPSBtZXJnZU5vZGUgPSBmYWxzZTtcbiAgICAgIGlmICh2YWx1ZXMgPSB0aGlzLlBBVFRFUk5fU0VRVUVOQ0VfSVRFTS5leGVjKHRoaXMuY3VycmVudExpbmUpKSB7XG4gICAgICAgIGlmICh0aGlzLkNPTlRFWFRfTUFQUElORyA9PT0gY29udGV4dCkge1xuICAgICAgICAgIHRocm93IG5ldyBQYXJzZUV4Y2VwdGlvbignWW91IGNhbm5vdCBkZWZpbmUgYSBzZXF1ZW5jZSBpdGVtIHdoZW4gaW4gYSBtYXBwaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dCA9IHRoaXMuQ09OVEVYVF9TRVFVRU5DRTtcbiAgICAgICAgaWYgKGRhdGEgPT0gbnVsbCkge1xuICAgICAgICAgIGRhdGEgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHZhbHVlcy52YWx1ZSAhPSBudWxsKSAmJiAobWF0Y2hlcyA9IHRoaXMuUEFUVEVSTl9BTkNIT1JfVkFMVUUuZXhlYyh2YWx1ZXMudmFsdWUpKSkge1xuICAgICAgICAgIGlzUmVmID0gbWF0Y2hlcy5yZWY7XG4gICAgICAgICAgdmFsdWVzLnZhbHVlID0gbWF0Y2hlcy52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoISh2YWx1ZXMudmFsdWUgIT0gbnVsbCkgfHwgJycgPT09IFV0aWxzLnRyaW0odmFsdWVzLnZhbHVlLCAnICcpIHx8IFV0aWxzLmx0cmltKHZhbHVlcy52YWx1ZSwgJyAnKS5pbmRleE9mKCcjJykgPT09IDApIHtcbiAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TGluZU5iIDwgdGhpcy5saW5lcy5sZW5ndGggLSAxICYmICF0aGlzLmlzTmV4dExpbmVVbkluZGVudGVkQ29sbGVjdGlvbigpKSB7XG4gICAgICAgICAgICBjID0gdGhpcy5nZXRSZWFsQ3VycmVudExpbmVOYigpICsgMTtcbiAgICAgICAgICAgIHBhcnNlciA9IG5ldyBQYXJzZXIoYyk7XG4gICAgICAgICAgICBwYXJzZXIucmVmcyA9IHRoaXMucmVmcztcbiAgICAgICAgICAgIGRhdGEucHVzaChwYXJzZXIucGFyc2UodGhpcy5nZXROZXh0RW1iZWRCbG9jayhudWxsLCB0cnVlKSwgZXhjZXB0aW9uT25JbnZhbGlkVHlwZSwgb2JqZWN0RGVjb2RlcikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRhLnB1c2gobnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICgoKHJlZiA9IHZhbHVlcy5sZWFkc3BhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCkgJiYgKG1hdGNoZXMgPSB0aGlzLlBBVFRFUk5fQ09NUEFDVF9OT1RBVElPTi5leGVjKHZhbHVlcy52YWx1ZSkpKSB7XG4gICAgICAgICAgICBjID0gdGhpcy5nZXRSZWFsQ3VycmVudExpbmVOYigpO1xuICAgICAgICAgICAgcGFyc2VyID0gbmV3IFBhcnNlcihjKTtcbiAgICAgICAgICAgIHBhcnNlci5yZWZzID0gdGhpcy5yZWZzO1xuICAgICAgICAgICAgYmxvY2sgPSB2YWx1ZXMudmFsdWU7XG4gICAgICAgICAgICBpbmRlbnQgPSB0aGlzLmdldEN1cnJlbnRMaW5lSW5kZW50YXRpb24oKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTmV4dExpbmVJbmRlbnRlZChmYWxzZSkpIHtcbiAgICAgICAgICAgICAgYmxvY2sgKz0gXCJcXG5cIiArIHRoaXMuZ2V0TmV4dEVtYmVkQmxvY2soaW5kZW50ICsgdmFsdWVzLmxlYWRzcGFjZXMubGVuZ3RoICsgMSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLnB1c2gocGFyc2VyLnBhcnNlKGJsb2NrLCBleGNlcHRpb25PbkludmFsaWRUeXBlLCBvYmplY3REZWNvZGVyKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRhdGEucHVzaCh0aGlzLnBhcnNlVmFsdWUodmFsdWVzLnZhbHVlLCBleGNlcHRpb25PbkludmFsaWRUeXBlLCBvYmplY3REZWNvZGVyKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKCh2YWx1ZXMgPSB0aGlzLlBBVFRFUk5fTUFQUElOR19JVEVNLmV4ZWModGhpcy5jdXJyZW50TGluZSkpICYmIHZhbHVlcy5rZXkuaW5kZXhPZignICMnKSA9PT0gLTEpIHtcbiAgICAgICAgaWYgKHRoaXMuQ09OVEVYVF9TRVFVRU5DRSA9PT0gY29udGV4dCkge1xuICAgICAgICAgIHRocm93IG5ldyBQYXJzZUV4Y2VwdGlvbignWW91IGNhbm5vdCBkZWZpbmUgYSBtYXBwaW5nIGl0ZW0gd2hlbiBpbiBhIHNlcXVlbmNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dCA9IHRoaXMuQ09OVEVYVF9NQVBQSU5HO1xuICAgICAgICBpZiAoZGF0YSA9PSBudWxsKSB7XG4gICAgICAgICAgZGF0YSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIElubGluZS5jb25maWd1cmUoZXhjZXB0aW9uT25JbnZhbGlkVHlwZSwgb2JqZWN0RGVjb2Rlcik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAga2V5ID0gSW5saW5lLnBhcnNlU2NhbGFyKHZhbHVlcy5rZXkpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgICBlLnBhcnNlZExpbmUgPSB0aGlzLmdldFJlYWxDdXJyZW50TGluZU5iKCkgKyAxO1xuICAgICAgICAgIGUuc25pcHBldCA9IHRoaXMuY3VycmVudExpbmU7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJzw8JyA9PT0ga2V5KSB7XG4gICAgICAgICAgbWVyZ2VOb2RlID0gdHJ1ZTtcbiAgICAgICAgICBhbGxvd092ZXJ3cml0ZSA9IHRydWU7XG4gICAgICAgICAgaWYgKCgocmVmMSA9IHZhbHVlcy52YWx1ZSkgIT0gbnVsbCA/IHJlZjEuaW5kZXhPZignKicpIDogdm9pZCAwKSA9PT0gMCkge1xuICAgICAgICAgICAgcmVmTmFtZSA9IHZhbHVlcy52YWx1ZS5zbGljZSgxKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJlZnNbcmVmTmFtZV0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2VFeGNlcHRpb24oJ1JlZmVyZW5jZSBcIicgKyByZWZOYW1lICsgJ1wiIGRvZXMgbm90IGV4aXN0LicsIHRoaXMuZ2V0UmVhbEN1cnJlbnRMaW5lTmIoKSArIDEsIHRoaXMuY3VycmVudExpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVmVmFsdWUgPSB0aGlzLnJlZnNbcmVmTmFtZV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlZlZhbHVlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2VFeGNlcHRpb24oJ1lBTUwgbWVyZ2Uga2V5cyB1c2VkIHdpdGggYSBzY2FsYXIgdmFsdWUgaW5zdGVhZCBvZiBhbiBvYmplY3QuJywgdGhpcy5nZXRSZWFsQ3VycmVudExpbmVOYigpICsgMSwgdGhpcy5jdXJyZW50TGluZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVmVmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICBmb3IgKGkgPSBqID0gMCwgbGVuID0gcmVmVmFsdWUubGVuZ3RoOyBqIDwgbGVuOyBpID0gKytqKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSByZWZWYWx1ZVtpXTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtuYW1lID0gU3RyaW5nKGkpXSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICBkYXRhW25hbWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmb3IgKGtleSBpbiByZWZWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gcmVmVmFsdWVba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtrZXldID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoKHZhbHVlcy52YWx1ZSAhPSBudWxsKSAmJiB2YWx1ZXMudmFsdWUgIT09ICcnKSB7XG4gICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzLnZhbHVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmdldE5leHRFbWJlZEJsb2NrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjID0gdGhpcy5nZXRSZWFsQ3VycmVudExpbmVOYigpICsgMTtcbiAgICAgICAgICAgIHBhcnNlciA9IG5ldyBQYXJzZXIoYyk7XG4gICAgICAgICAgICBwYXJzZXIucmVmcyA9IHRoaXMucmVmcztcbiAgICAgICAgICAgIHBhcnNlZCA9IHBhcnNlci5wYXJzZSh2YWx1ZSwgZXhjZXB0aW9uT25JbnZhbGlkVHlwZSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnNlZCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IFBhcnNlRXhjZXB0aW9uKCdZQU1MIG1lcmdlIGtleXMgdXNlZCB3aXRoIGEgc2NhbGFyIHZhbHVlIGluc3RlYWQgb2YgYW4gb2JqZWN0LicsIHRoaXMuZ2V0UmVhbEN1cnJlbnRMaW5lTmIoKSArIDEsIHRoaXMuY3VycmVudExpbmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBhcnNlZCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgIGZvciAobCA9IDAsIGxlbjEgPSBwYXJzZWQubGVuZ3RoOyBsIDwgbGVuMTsgbCsrKSB7XG4gICAgICAgICAgICAgICAgcGFyc2VkSXRlbSA9IHBhcnNlZFtsXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcnNlZEl0ZW0gIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUGFyc2VFeGNlcHRpb24oJ01lcmdlIGl0ZW1zIG11c3QgYmUgb2JqZWN0cy4nLCB0aGlzLmdldFJlYWxDdXJyZW50TGluZU5iKCkgKyAxLCBwYXJzZWRJdGVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlZEl0ZW0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgZm9yIChpID0gbSA9IDAsIGxlbjIgPSBwYXJzZWRJdGVtLmxlbmd0aDsgbSA8IGxlbjI7IGkgPSArK20pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZWRJdGVtW2ldO1xuICAgICAgICAgICAgICAgICAgICBrID0gU3RyaW5nKGkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoaykpIHtcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhW2tdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gcGFyc2VkSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlZEl0ZW1ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZm9yIChrZXkgaW4gcGFyc2VkKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZWRba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgZGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCh2YWx1ZXMudmFsdWUgIT0gbnVsbCkgJiYgKG1hdGNoZXMgPSB0aGlzLlBBVFRFUk5fQU5DSE9SX1ZBTFVFLmV4ZWModmFsdWVzLnZhbHVlKSkpIHtcbiAgICAgICAgICBpc1JlZiA9IG1hdGNoZXMucmVmO1xuICAgICAgICAgIHZhbHVlcy52YWx1ZSA9IG1hdGNoZXMudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lcmdlTm9kZSkge1xuXG4gICAgICAgIH0gZWxzZSBpZiAoISh2YWx1ZXMudmFsdWUgIT0gbnVsbCkgfHwgJycgPT09IFV0aWxzLnRyaW0odmFsdWVzLnZhbHVlLCAnICcpIHx8IFV0aWxzLmx0cmltKHZhbHVlcy52YWx1ZSwgJyAnKS5pbmRleE9mKCcjJykgPT09IDApIHtcbiAgICAgICAgICBpZiAoISh0aGlzLmlzTmV4dExpbmVJbmRlbnRlZCgpKSAmJiAhKHRoaXMuaXNOZXh0TGluZVVuSW5kZW50ZWRDb2xsZWN0aW9uKCkpKSB7XG4gICAgICAgICAgICBpZiAoYWxsb3dPdmVyd3JpdGUgfHwgZGF0YVtrZXldID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgZGF0YVtrZXldID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYyA9IHRoaXMuZ2V0UmVhbEN1cnJlbnRMaW5lTmIoKSArIDE7XG4gICAgICAgICAgICBwYXJzZXIgPSBuZXcgUGFyc2VyKGMpO1xuICAgICAgICAgICAgcGFyc2VyLnJlZnMgPSB0aGlzLnJlZnM7XG4gICAgICAgICAgICB2YWwgPSBwYXJzZXIucGFyc2UodGhpcy5nZXROZXh0RW1iZWRCbG9jaygpLCBleGNlcHRpb25PbkludmFsaWRUeXBlLCBvYmplY3REZWNvZGVyKTtcbiAgICAgICAgICAgIGlmIChhbGxvd092ZXJ3cml0ZSB8fCBkYXRhW2tleV0gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICBkYXRhW2tleV0gPSB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbCA9IHRoaXMucGFyc2VWYWx1ZSh2YWx1ZXMudmFsdWUsIGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsIG9iamVjdERlY29kZXIpO1xuICAgICAgICAgIGlmIChhbGxvd092ZXJ3cml0ZSB8fCBkYXRhW2tleV0gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGF0YVtrZXldID0gdmFsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGluZUNvdW50ID0gdGhpcy5saW5lcy5sZW5ndGg7XG4gICAgICAgIGlmICgxID09PSBsaW5lQ291bnQgfHwgKDIgPT09IGxpbmVDb3VudCAmJiBVdGlscy5pc0VtcHR5KHRoaXMubGluZXNbMV0pKSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YWx1ZSA9IElubGluZS5wYXJzZSh0aGlzLmxpbmVzWzBdLCBleGNlcHRpb25PbkludmFsaWRUeXBlLCBvYmplY3REZWNvZGVyKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcjEpIHtcbiAgICAgICAgICAgIGUgPSBlcnJvcjE7XG4gICAgICAgICAgICBlLnBhcnNlZExpbmUgPSB0aGlzLmdldFJlYWxDdXJyZW50TGluZU5iKCkgKyAxO1xuICAgICAgICAgICAgZS5zbmlwcGV0ID0gdGhpcy5jdXJyZW50TGluZTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICBmaXJzdCA9IHZhbHVlWzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZm9yIChrZXkgaW4gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBmaXJzdCA9IHZhbHVlW2tleV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmlyc3QgPT09ICdzdHJpbmcnICYmIGZpcnN0LmluZGV4T2YoJyonKSA9PT0gMCkge1xuICAgICAgICAgICAgICBkYXRhID0gW107XG4gICAgICAgICAgICAgIGZvciAobiA9IDAsIGxlbjMgPSB2YWx1ZS5sZW5ndGg7IG4gPCBsZW4zOyBuKyspIHtcbiAgICAgICAgICAgICAgICBhbGlhcyA9IHZhbHVlW25dO1xuICAgICAgICAgICAgICAgIGRhdGEucHVzaCh0aGlzLnJlZnNbYWxpYXMuc2xpY2UoMSldKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YWx1ZSA9IGRhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmICgocmVmMiA9IFV0aWxzLmx0cmltKHZhbHVlKS5jaGFyQXQoMCkpID09PSAnWycgfHwgcmVmMiA9PT0gJ3snKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBJbmxpbmUucGFyc2UodmFsdWUsIGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsIG9iamVjdERlY29kZXIpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yMikge1xuICAgICAgICAgICAgZSA9IGVycm9yMjtcbiAgICAgICAgICAgIGUucGFyc2VkTGluZSA9IHRoaXMuZ2V0UmVhbEN1cnJlbnRMaW5lTmIoKSArIDE7XG4gICAgICAgICAgICBlLnNuaXBwZXQgPSB0aGlzLmN1cnJlbnRMaW5lO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFBhcnNlRXhjZXB0aW9uKCdVbmFibGUgdG8gcGFyc2UuJywgdGhpcy5nZXRSZWFsQ3VycmVudExpbmVOYigpICsgMSwgdGhpcy5jdXJyZW50TGluZSk7XG4gICAgICB9XG4gICAgICBpZiAoaXNSZWYpIHtcbiAgICAgICAgaWYgKGRhdGEgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgIHRoaXMucmVmc1tpc1JlZl0gPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFzdEtleSA9IG51bGw7XG4gICAgICAgICAgZm9yIChrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgbGFzdEtleSA9IGtleTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5yZWZzW2lzUmVmXSA9IGRhdGFbbGFzdEtleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKFV0aWxzLmlzRW1wdHkoZGF0YSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gIH07XG5cbiAgUGFyc2VyLnByb3RvdHlwZS5nZXRSZWFsQ3VycmVudExpbmVOYiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmN1cnJlbnRMaW5lTmIgKyB0aGlzLm9mZnNldDtcbiAgfTtcblxuICBQYXJzZXIucHJvdG90eXBlLmdldEN1cnJlbnRMaW5lSW5kZW50YXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50TGluZS5sZW5ndGggLSBVdGlscy5sdHJpbSh0aGlzLmN1cnJlbnRMaW5lLCAnICcpLmxlbmd0aDtcbiAgfTtcblxuICBQYXJzZXIucHJvdG90eXBlLmdldE5leHRFbWJlZEJsb2NrID0gZnVuY3Rpb24oaW5kZW50YXRpb24sIGluY2x1ZGVVbmluZGVudGVkQ29sbGVjdGlvbikge1xuICAgIHZhciBkYXRhLCBpbmRlbnQsIGlzSXRVbmluZGVudGVkQ29sbGVjdGlvbiwgbmV3SW5kZW50LCByZW1vdmVDb21tZW50cywgcmVtb3ZlQ29tbWVudHNQYXR0ZXJuLCB1bmluZGVudGVkRW1iZWRCbG9jaztcbiAgICBpZiAoaW5kZW50YXRpb24gPT0gbnVsbCkge1xuICAgICAgaW5kZW50YXRpb24gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoaW5jbHVkZVVuaW5kZW50ZWRDb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgIGluY2x1ZGVVbmluZGVudGVkQ29sbGVjdGlvbiA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLm1vdmVUb05leHRMaW5lKCk7XG4gICAgaWYgKGluZGVudGF0aW9uID09IG51bGwpIHtcbiAgICAgIG5ld0luZGVudCA9IHRoaXMuZ2V0Q3VycmVudExpbmVJbmRlbnRhdGlvbigpO1xuICAgICAgdW5pbmRlbnRlZEVtYmVkQmxvY2sgPSB0aGlzLmlzU3RyaW5nVW5JbmRlbnRlZENvbGxlY3Rpb25JdGVtKHRoaXMuY3VycmVudExpbmUpO1xuICAgICAgaWYgKCEodGhpcy5pc0N1cnJlbnRMaW5lRW1wdHkoKSkgJiYgMCA9PT0gbmV3SW5kZW50ICYmICF1bmluZGVudGVkRW1iZWRCbG9jaykge1xuICAgICAgICB0aHJvdyBuZXcgUGFyc2VFeGNlcHRpb24oJ0luZGVudGF0aW9uIHByb2JsZW0uJywgdGhpcy5nZXRSZWFsQ3VycmVudExpbmVOYigpICsgMSwgdGhpcy5jdXJyZW50TGluZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0luZGVudCA9IGluZGVudGF0aW9uO1xuICAgIH1cbiAgICBkYXRhID0gW3RoaXMuY3VycmVudExpbmUuc2xpY2UobmV3SW5kZW50KV07XG4gICAgaWYgKCFpbmNsdWRlVW5pbmRlbnRlZENvbGxlY3Rpb24pIHtcbiAgICAgIGlzSXRVbmluZGVudGVkQ29sbGVjdGlvbiA9IHRoaXMuaXNTdHJpbmdVbkluZGVudGVkQ29sbGVjdGlvbkl0ZW0odGhpcy5jdXJyZW50TGluZSk7XG4gICAgfVxuICAgIHJlbW92ZUNvbW1lbnRzUGF0dGVybiA9IHRoaXMuUEFUVEVSTl9GT0xERURfU0NBTEFSX0VORDtcbiAgICByZW1vdmVDb21tZW50cyA9ICFyZW1vdmVDb21tZW50c1BhdHRlcm4udGVzdCh0aGlzLmN1cnJlbnRMaW5lKTtcbiAgICB3aGlsZSAodGhpcy5tb3ZlVG9OZXh0TGluZSgpKSB7XG4gICAgICBpbmRlbnQgPSB0aGlzLmdldEN1cnJlbnRMaW5lSW5kZW50YXRpb24oKTtcbiAgICAgIGlmIChpbmRlbnQgPT09IG5ld0luZGVudCkge1xuICAgICAgICByZW1vdmVDb21tZW50cyA9ICFyZW1vdmVDb21tZW50c1BhdHRlcm4udGVzdCh0aGlzLmN1cnJlbnRMaW5lKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0l0VW5pbmRlbnRlZENvbGxlY3Rpb24gJiYgIXRoaXMuaXNTdHJpbmdVbkluZGVudGVkQ29sbGVjdGlvbkl0ZW0odGhpcy5jdXJyZW50TGluZSkgJiYgaW5kZW50ID09PSBuZXdJbmRlbnQpIHtcbiAgICAgICAgdGhpcy5tb3ZlVG9QcmV2aW91c0xpbmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5pc0N1cnJlbnRMaW5lQmxhbmsoKSkge1xuICAgICAgICBkYXRhLnB1c2godGhpcy5jdXJyZW50TGluZS5zbGljZShuZXdJbmRlbnQpKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAocmVtb3ZlQ29tbWVudHMgJiYgdGhpcy5pc0N1cnJlbnRMaW5lQ29tbWVudCgpKSB7XG4gICAgICAgIGlmIChpbmRlbnQgPT09IG5ld0luZGVudCkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaW5kZW50ID49IG5ld0luZGVudCkge1xuICAgICAgICBkYXRhLnB1c2godGhpcy5jdXJyZW50TGluZS5zbGljZShuZXdJbmRlbnQpKTtcbiAgICAgIH0gZWxzZSBpZiAoVXRpbHMubHRyaW0odGhpcy5jdXJyZW50TGluZSkuY2hhckF0KDApID09PSAnIycpIHtcblxuICAgICAgfSBlbHNlIGlmICgwID09PSBpbmRlbnQpIHtcbiAgICAgICAgdGhpcy5tb3ZlVG9QcmV2aW91c0xpbmUoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgUGFyc2VFeGNlcHRpb24oJ0luZGVudGF0aW9uIHByb2JsZW0uJywgdGhpcy5nZXRSZWFsQ3VycmVudExpbmVOYigpICsgMSwgdGhpcy5jdXJyZW50TGluZSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXRhLmpvaW4oXCJcXG5cIik7XG4gIH07XG5cbiAgUGFyc2VyLnByb3RvdHlwZS5tb3ZlVG9OZXh0TGluZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmN1cnJlbnRMaW5lTmIgPj0gdGhpcy5saW5lcy5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMuY3VycmVudExpbmUgPSB0aGlzLmxpbmVzWysrdGhpcy5jdXJyZW50TGluZU5iXTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcblxuICBQYXJzZXIucHJvdG90eXBlLm1vdmVUb1ByZXZpb3VzTGluZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY3VycmVudExpbmUgPSB0aGlzLmxpbmVzWy0tdGhpcy5jdXJyZW50TGluZU5iXTtcbiAgfTtcblxuICBQYXJzZXIucHJvdG90eXBlLnBhcnNlVmFsdWUgPSBmdW5jdGlvbih2YWx1ZSwgZXhjZXB0aW9uT25JbnZhbGlkVHlwZSwgb2JqZWN0RGVjb2Rlcikge1xuICAgIHZhciBlLCBlcnJvciwgZXJyb3IxLCBmb2xkZWRJbmRlbnQsIG1hdGNoZXMsIG1vZGlmaWVycywgcG9zLCByZWYsIHJlZjEsIHZhbDtcbiAgICBpZiAoMCA9PT0gdmFsdWUuaW5kZXhPZignKicpKSB7XG4gICAgICBwb3MgPSB2YWx1ZS5pbmRleE9mKCcjJyk7XG4gICAgICBpZiAocG9zICE9PSAtMSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnN1YnN0cigxLCBwb3MgLSAyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUuc2xpY2UoMSk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5yZWZzW3ZhbHVlXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBQYXJzZUV4Y2VwdGlvbignUmVmZXJlbmNlIFwiJyArIHZhbHVlICsgJ1wiIGRvZXMgbm90IGV4aXN0LicsIHRoaXMuY3VycmVudExpbmUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVmc1t2YWx1ZV07XG4gICAgfVxuICAgIGlmIChtYXRjaGVzID0gdGhpcy5QQVRURVJOX0ZPTERFRF9TQ0FMQVJfQUxMLmV4ZWModmFsdWUpKSB7XG4gICAgICBtb2RpZmllcnMgPSAocmVmID0gbWF0Y2hlcy5tb2RpZmllcnMpICE9IG51bGwgPyByZWYgOiAnJztcbiAgICAgIGZvbGRlZEluZGVudCA9IE1hdGguYWJzKHBhcnNlSW50KG1vZGlmaWVycykpO1xuICAgICAgaWYgKGlzTmFOKGZvbGRlZEluZGVudCkpIHtcbiAgICAgICAgZm9sZGVkSW5kZW50ID0gMDtcbiAgICAgIH1cbiAgICAgIHZhbCA9IHRoaXMucGFyc2VGb2xkZWRTY2FsYXIobWF0Y2hlcy5zZXBhcmF0b3IsIHRoaXMuUEFUVEVSTl9ERUNJTUFMLnJlcGxhY2UobW9kaWZpZXJzLCAnJyksIGZvbGRlZEluZGVudCk7XG4gICAgICBpZiAobWF0Y2hlcy50eXBlICE9IG51bGwpIHtcbiAgICAgICAgSW5saW5lLmNvbmZpZ3VyZShleGNlcHRpb25PbkludmFsaWRUeXBlLCBvYmplY3REZWNvZGVyKTtcbiAgICAgICAgcmV0dXJuIElubGluZS5wYXJzZVNjYWxhcihtYXRjaGVzLnR5cGUgKyAnICcgKyB2YWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgIH1cbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBJbmxpbmUucGFyc2UodmFsdWUsIGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsIG9iamVjdERlY29kZXIpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICBpZiAoKChyZWYxID0gdmFsdWUuY2hhckF0KDApKSA9PT0gJ1snIHx8IHJlZjEgPT09ICd7JykgJiYgZSBpbnN0YW5jZW9mIFBhcnNlRXhjZXB0aW9uICYmIHRoaXMuaXNOZXh0TGluZUluZGVudGVkKCkpIHtcbiAgICAgICAgdmFsdWUgKz0gXCJcXG5cIiArIHRoaXMuZ2V0TmV4dEVtYmVkQmxvY2soKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gSW5saW5lLnBhcnNlKHZhbHVlLCBleGNlcHRpb25PbkludmFsaWRUeXBlLCBvYmplY3REZWNvZGVyKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgICAgICAgZSA9IGVycm9yMTtcbiAgICAgICAgICBlLnBhcnNlZExpbmUgPSB0aGlzLmdldFJlYWxDdXJyZW50TGluZU5iKCkgKyAxO1xuICAgICAgICAgIGUuc25pcHBldCA9IHRoaXMuY3VycmVudExpbmU7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZS5wYXJzZWRMaW5lID0gdGhpcy5nZXRSZWFsQ3VycmVudExpbmVOYigpICsgMTtcbiAgICAgICAgZS5zbmlwcGV0ID0gdGhpcy5jdXJyZW50TGluZTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgUGFyc2VyLnByb3RvdHlwZS5wYXJzZUZvbGRlZFNjYWxhciA9IGZ1bmN0aW9uKHNlcGFyYXRvciwgaW5kaWNhdG9yLCBpbmRlbnRhdGlvbikge1xuICAgIHZhciBpc0N1cnJlbnRMaW5lQmxhbmssIGosIGxlbiwgbGluZSwgbWF0Y2hlcywgbmV3VGV4dCwgbm90RU9GLCBwYXR0ZXJuLCByZWYsIHRleHQ7XG4gICAgaWYgKGluZGljYXRvciA9PSBudWxsKSB7XG4gICAgICBpbmRpY2F0b3IgPSAnJztcbiAgICB9XG4gICAgaWYgKGluZGVudGF0aW9uID09IG51bGwpIHtcbiAgICAgIGluZGVudGF0aW9uID0gMDtcbiAgICB9XG4gICAgbm90RU9GID0gdGhpcy5tb3ZlVG9OZXh0TGluZSgpO1xuICAgIGlmICghbm90RU9GKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGlzQ3VycmVudExpbmVCbGFuayA9IHRoaXMuaXNDdXJyZW50TGluZUJsYW5rKCk7XG4gICAgdGV4dCA9ICcnO1xuICAgIHdoaWxlIChub3RFT0YgJiYgaXNDdXJyZW50TGluZUJsYW5rKSB7XG4gICAgICBpZiAobm90RU9GID0gdGhpcy5tb3ZlVG9OZXh0TGluZSgpKSB7XG4gICAgICAgIHRleHQgKz0gXCJcXG5cIjtcbiAgICAgICAgaXNDdXJyZW50TGluZUJsYW5rID0gdGhpcy5pc0N1cnJlbnRMaW5lQmxhbmsoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKDAgPT09IGluZGVudGF0aW9uKSB7XG4gICAgICBpZiAobWF0Y2hlcyA9IHRoaXMuUEFUVEVSTl9JTkRFTlRfU1BBQ0VTLmV4ZWModGhpcy5jdXJyZW50TGluZSkpIHtcbiAgICAgICAgaW5kZW50YXRpb24gPSBtYXRjaGVzWzBdLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGluZGVudGF0aW9uID4gMCkge1xuICAgICAgcGF0dGVybiA9IHRoaXMuUEFUVEVSTl9GT0xERURfU0NBTEFSX0JZX0lOREVOVEFUSU9OW2luZGVudGF0aW9uXTtcbiAgICAgIGlmIChwYXR0ZXJuID09IG51bGwpIHtcbiAgICAgICAgcGF0dGVybiA9IG5ldyBQYXR0ZXJuKCdeIHsnICsgaW5kZW50YXRpb24gKyAnfSguKikkJyk7XG4gICAgICAgIFBhcnNlci5wcm90b3R5cGUuUEFUVEVSTl9GT0xERURfU0NBTEFSX0JZX0lOREVOVEFUSU9OW2luZGVudGF0aW9uXSA9IHBhdHRlcm47XG4gICAgICB9XG4gICAgICB3aGlsZSAobm90RU9GICYmIChpc0N1cnJlbnRMaW5lQmxhbmsgfHwgKG1hdGNoZXMgPSBwYXR0ZXJuLmV4ZWModGhpcy5jdXJyZW50TGluZSkpKSkge1xuICAgICAgICBpZiAoaXNDdXJyZW50TGluZUJsYW5rKSB7XG4gICAgICAgICAgdGV4dCArPSB0aGlzLmN1cnJlbnRMaW5lLnNsaWNlKGluZGVudGF0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXh0ICs9IG1hdGNoZXNbMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vdEVPRiA9IHRoaXMubW92ZVRvTmV4dExpbmUoKSkge1xuICAgICAgICAgIHRleHQgKz0gXCJcXG5cIjtcbiAgICAgICAgICBpc0N1cnJlbnRMaW5lQmxhbmsgPSB0aGlzLmlzQ3VycmVudExpbmVCbGFuaygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub3RFT0YpIHtcbiAgICAgIHRleHQgKz0gXCJcXG5cIjtcbiAgICB9XG4gICAgaWYgKG5vdEVPRikge1xuICAgICAgdGhpcy5tb3ZlVG9QcmV2aW91c0xpbmUoKTtcbiAgICB9XG4gICAgaWYgKCc+JyA9PT0gc2VwYXJhdG9yKSB7XG4gICAgICBuZXdUZXh0ID0gJyc7XG4gICAgICByZWYgPSB0ZXh0LnNwbGl0KFwiXFxuXCIpO1xuICAgICAgZm9yIChqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIGxpbmUgPSByZWZbal07XG4gICAgICAgIGlmIChsaW5lLmxlbmd0aCA9PT0gMCB8fCBsaW5lLmNoYXJBdCgwKSA9PT0gJyAnKSB7XG4gICAgICAgICAgbmV3VGV4dCA9IFV0aWxzLnJ0cmltKG5ld1RleHQsICcgJykgKyBsaW5lICsgXCJcXG5cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXdUZXh0ICs9IGxpbmUgKyAnICc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRleHQgPSBuZXdUZXh0O1xuICAgIH1cbiAgICBpZiAoJysnICE9PSBpbmRpY2F0b3IpIHtcbiAgICAgIHRleHQgPSBVdGlscy5ydHJpbSh0ZXh0KTtcbiAgICB9XG4gICAgaWYgKCcnID09PSBpbmRpY2F0b3IpIHtcbiAgICAgIHRleHQgPSB0aGlzLlBBVFRFUk5fVFJBSUxJTkdfTElORVMucmVwbGFjZSh0ZXh0LCBcIlxcblwiKTtcbiAgICB9IGVsc2UgaWYgKCctJyA9PT0gaW5kaWNhdG9yKSB7XG4gICAgICB0ZXh0ID0gdGhpcy5QQVRURVJOX1RSQUlMSU5HX0xJTkVTLnJlcGxhY2UodGV4dCwgJycpO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbiAgfTtcblxuICBQYXJzZXIucHJvdG90eXBlLmlzTmV4dExpbmVJbmRlbnRlZCA9IGZ1bmN0aW9uKGlnbm9yZUNvbW1lbnRzKSB7XG4gICAgdmFyIEVPRiwgY3VycmVudEluZGVudGF0aW9uLCByZXQ7XG4gICAgaWYgKGlnbm9yZUNvbW1lbnRzID09IG51bGwpIHtcbiAgICAgIGlnbm9yZUNvbW1lbnRzID0gdHJ1ZTtcbiAgICB9XG4gICAgY3VycmVudEluZGVudGF0aW9uID0gdGhpcy5nZXRDdXJyZW50TGluZUluZGVudGF0aW9uKCk7XG4gICAgRU9GID0gIXRoaXMubW92ZVRvTmV4dExpbmUoKTtcbiAgICBpZiAoaWdub3JlQ29tbWVudHMpIHtcbiAgICAgIHdoaWxlICghRU9GICYmIHRoaXMuaXNDdXJyZW50TGluZUVtcHR5KCkpIHtcbiAgICAgICAgRU9GID0gIXRoaXMubW92ZVRvTmV4dExpbmUoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgd2hpbGUgKCFFT0YgJiYgdGhpcy5pc0N1cnJlbnRMaW5lQmxhbmsoKSkge1xuICAgICAgICBFT0YgPSAhdGhpcy5tb3ZlVG9OZXh0TGluZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoRU9GKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldCA9IGZhbHNlO1xuICAgIGlmICh0aGlzLmdldEN1cnJlbnRMaW5lSW5kZW50YXRpb24oKSA+IGN1cnJlbnRJbmRlbnRhdGlvbikge1xuICAgICAgcmV0ID0gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcy5tb3ZlVG9QcmV2aW91c0xpbmUoKTtcbiAgICByZXR1cm4gcmV0O1xuICB9O1xuXG4gIFBhcnNlci5wcm90b3R5cGUuaXNDdXJyZW50TGluZUVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRyaW1tZWRMaW5lO1xuICAgIHRyaW1tZWRMaW5lID0gVXRpbHMudHJpbSh0aGlzLmN1cnJlbnRMaW5lLCAnICcpO1xuICAgIHJldHVybiB0cmltbWVkTGluZS5sZW5ndGggPT09IDAgfHwgdHJpbW1lZExpbmUuY2hhckF0KDApID09PSAnIyc7XG4gIH07XG5cbiAgUGFyc2VyLnByb3RvdHlwZS5pc0N1cnJlbnRMaW5lQmxhbmsgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJycgPT09IFV0aWxzLnRyaW0odGhpcy5jdXJyZW50TGluZSwgJyAnKTtcbiAgfTtcblxuICBQYXJzZXIucHJvdG90eXBlLmlzQ3VycmVudExpbmVDb21tZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGx0cmltbWVkTGluZTtcbiAgICBsdHJpbW1lZExpbmUgPSBVdGlscy5sdHJpbSh0aGlzLmN1cnJlbnRMaW5lLCAnICcpO1xuICAgIHJldHVybiBsdHJpbW1lZExpbmUuY2hhckF0KDApID09PSAnIyc7XG4gIH07XG5cbiAgUGFyc2VyLnByb3RvdHlwZS5jbGVhbnVwID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgY291bnQsIGksIGluZGVudCwgaiwgbCwgbGVuLCBsZW4xLCBsaW5lLCBsaW5lcywgcmVmLCByZWYxLCByZWYyLCBzbWFsbGVzdEluZGVudCwgdHJpbW1lZFZhbHVlO1xuICAgIGlmICh2YWx1ZS5pbmRleE9mKFwiXFxyXCIpICE9PSAtMSkge1xuICAgICAgdmFsdWUgPSB2YWx1ZS5zcGxpdChcIlxcclxcblwiKS5qb2luKFwiXFxuXCIpLnNwbGl0KFwiXFxyXCIpLmpvaW4oXCJcXG5cIik7XG4gICAgfVxuICAgIGNvdW50ID0gMDtcbiAgICByZWYgPSB0aGlzLlBBVFRFUk5fWUFNTF9IRUFERVIucmVwbGFjZUFsbCh2YWx1ZSwgJycpLCB2YWx1ZSA9IHJlZlswXSwgY291bnQgPSByZWZbMV07XG4gICAgdGhpcy5vZmZzZXQgKz0gY291bnQ7XG4gICAgcmVmMSA9IHRoaXMuUEFUVEVSTl9MRUFESU5HX0NPTU1FTlRTLnJlcGxhY2VBbGwodmFsdWUsICcnLCAxKSwgdHJpbW1lZFZhbHVlID0gcmVmMVswXSwgY291bnQgPSByZWYxWzFdO1xuICAgIGlmIChjb3VudCA9PT0gMSkge1xuICAgICAgdGhpcy5vZmZzZXQgKz0gVXRpbHMuc3ViU3RyQ291bnQodmFsdWUsIFwiXFxuXCIpIC0gVXRpbHMuc3ViU3RyQ291bnQodHJpbW1lZFZhbHVlLCBcIlxcblwiKTtcbiAgICAgIHZhbHVlID0gdHJpbW1lZFZhbHVlO1xuICAgIH1cbiAgICByZWYyID0gdGhpcy5QQVRURVJOX0RPQ1VNRU5UX01BUktFUl9TVEFSVC5yZXBsYWNlQWxsKHZhbHVlLCAnJywgMSksIHRyaW1tZWRWYWx1ZSA9IHJlZjJbMF0sIGNvdW50ID0gcmVmMlsxXTtcbiAgICBpZiAoY291bnQgPT09IDEpIHtcbiAgICAgIHRoaXMub2Zmc2V0ICs9IFV0aWxzLnN1YlN0ckNvdW50KHZhbHVlLCBcIlxcblwiKSAtIFV0aWxzLnN1YlN0ckNvdW50KHRyaW1tZWRWYWx1ZSwgXCJcXG5cIik7XG4gICAgICB2YWx1ZSA9IHRyaW1tZWRWYWx1ZTtcbiAgICAgIHZhbHVlID0gdGhpcy5QQVRURVJOX0RPQ1VNRU5UX01BUktFUl9FTkQucmVwbGFjZSh2YWx1ZSwgJycpO1xuICAgIH1cbiAgICBsaW5lcyA9IHZhbHVlLnNwbGl0KFwiXFxuXCIpO1xuICAgIHNtYWxsZXN0SW5kZW50ID0gLTE7XG4gICAgZm9yIChqID0gMCwgbGVuID0gbGluZXMubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgIGxpbmUgPSBsaW5lc1tqXTtcbiAgICAgIGlmIChVdGlscy50cmltKGxpbmUsICcgJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaW5kZW50ID0gbGluZS5sZW5ndGggLSBVdGlscy5sdHJpbShsaW5lKS5sZW5ndGg7XG4gICAgICBpZiAoc21hbGxlc3RJbmRlbnQgPT09IC0xIHx8IGluZGVudCA8IHNtYWxsZXN0SW5kZW50KSB7XG4gICAgICAgIHNtYWxsZXN0SW5kZW50ID0gaW5kZW50O1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc21hbGxlc3RJbmRlbnQgPiAwKSB7XG4gICAgICBmb3IgKGkgPSBsID0gMCwgbGVuMSA9IGxpbmVzLmxlbmd0aDsgbCA8IGxlbjE7IGkgPSArK2wpIHtcbiAgICAgICAgbGluZSA9IGxpbmVzW2ldO1xuICAgICAgICBsaW5lc1tpXSA9IGxpbmUuc2xpY2Uoc21hbGxlc3RJbmRlbnQpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBsaW5lcy5qb2luKFwiXFxuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG4gIH07XG5cbiAgUGFyc2VyLnByb3RvdHlwZS5pc05leHRMaW5lVW5JbmRlbnRlZENvbGxlY3Rpb24gPSBmdW5jdGlvbihjdXJyZW50SW5kZW50YXRpb24pIHtcbiAgICB2YXIgbm90RU9GLCByZXQ7XG4gICAgaWYgKGN1cnJlbnRJbmRlbnRhdGlvbiA9PSBudWxsKSB7XG4gICAgICBjdXJyZW50SW5kZW50YXRpb24gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoY3VycmVudEluZGVudGF0aW9uID09IG51bGwpIHtcbiAgICAgIGN1cnJlbnRJbmRlbnRhdGlvbiA9IHRoaXMuZ2V0Q3VycmVudExpbmVJbmRlbnRhdGlvbigpO1xuICAgIH1cbiAgICBub3RFT0YgPSB0aGlzLm1vdmVUb05leHRMaW5lKCk7XG4gICAgd2hpbGUgKG5vdEVPRiAmJiB0aGlzLmlzQ3VycmVudExpbmVFbXB0eSgpKSB7XG4gICAgICBub3RFT0YgPSB0aGlzLm1vdmVUb05leHRMaW5lKCk7XG4gICAgfVxuICAgIGlmIChmYWxzZSA9PT0gbm90RU9GKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldCA9IGZhbHNlO1xuICAgIGlmICh0aGlzLmdldEN1cnJlbnRMaW5lSW5kZW50YXRpb24oKSA9PT0gY3VycmVudEluZGVudGF0aW9uICYmIHRoaXMuaXNTdHJpbmdVbkluZGVudGVkQ29sbGVjdGlvbkl0ZW0odGhpcy5jdXJyZW50TGluZSkpIHtcbiAgICAgIHJldCA9IHRydWU7XG4gICAgfVxuICAgIHRoaXMubW92ZVRvUHJldmlvdXNMaW5lKCk7XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcblxuICBQYXJzZXIucHJvdG90eXBlLmlzU3RyaW5nVW5JbmRlbnRlZENvbGxlY3Rpb25JdGVtID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudExpbmUgPT09ICctJyB8fCB0aGlzLmN1cnJlbnRMaW5lLnNsaWNlKDAsIDIpID09PSAnLSAnO1xuICB9O1xuXG4gIHJldHVybiBQYXJzZXI7XG5cbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gUGFyc2VyO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbnZhciBQYXR0ZXJuO1xuXG5QYXR0ZXJuID0gKGZ1bmN0aW9uKCkge1xuICBQYXR0ZXJuLnByb3RvdHlwZS5yZWdleCA9IG51bGw7XG5cbiAgUGF0dGVybi5wcm90b3R5cGUucmF3UmVnZXggPSBudWxsO1xuXG4gIFBhdHRlcm4ucHJvdG90eXBlLmNsZWFuZWRSZWdleCA9IG51bGw7XG5cbiAgUGF0dGVybi5wcm90b3R5cGUubWFwcGluZyA9IG51bGw7XG5cbiAgZnVuY3Rpb24gUGF0dGVybihyYXdSZWdleCwgbW9kaWZpZXJzKSB7XG4gICAgdmFyIF9jaGFyLCBjYXB0dXJpbmdCcmFja2V0TnVtYmVyLCBjbGVhbmVkUmVnZXgsIGksIGxlbiwgbWFwcGluZywgbmFtZSwgcGFydCwgc3ViQ2hhcjtcbiAgICBpZiAobW9kaWZpZXJzID09IG51bGwpIHtcbiAgICAgIG1vZGlmaWVycyA9ICcnO1xuICAgIH1cbiAgICBjbGVhbmVkUmVnZXggPSAnJztcbiAgICBsZW4gPSByYXdSZWdleC5sZW5ndGg7XG4gICAgbWFwcGluZyA9IG51bGw7XG4gICAgY2FwdHVyaW5nQnJhY2tldE51bWJlciA9IDA7XG4gICAgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBsZW4pIHtcbiAgICAgIF9jaGFyID0gcmF3UmVnZXguY2hhckF0KGkpO1xuICAgICAgaWYgKF9jaGFyID09PSAnXFxcXCcpIHtcbiAgICAgICAgY2xlYW5lZFJlZ2V4ICs9IHJhd1JlZ2V4LnNsaWNlKGksICsoaSArIDEpICsgMSB8fCA5ZTkpO1xuICAgICAgICBpKys7XG4gICAgICB9IGVsc2UgaWYgKF9jaGFyID09PSAnKCcpIHtcbiAgICAgICAgaWYgKGkgPCBsZW4gLSAyKSB7XG4gICAgICAgICAgcGFydCA9IHJhd1JlZ2V4LnNsaWNlKGksICsoaSArIDIpICsgMSB8fCA5ZTkpO1xuICAgICAgICAgIGlmIChwYXJ0ID09PSAnKD86Jykge1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgY2xlYW5lZFJlZ2V4ICs9IHBhcnQ7XG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJ0ID09PSAnKD88Jykge1xuICAgICAgICAgICAgY2FwdHVyaW5nQnJhY2tldE51bWJlcisrO1xuICAgICAgICAgICAgaSArPSAyO1xuICAgICAgICAgICAgbmFtZSA9ICcnO1xuICAgICAgICAgICAgd2hpbGUgKGkgKyAxIDwgbGVuKSB7XG4gICAgICAgICAgICAgIHN1YkNoYXIgPSByYXdSZWdleC5jaGFyQXQoaSArIDEpO1xuICAgICAgICAgICAgICBpZiAoc3ViQ2hhciA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgICAgY2xlYW5lZFJlZ2V4ICs9ICcoJztcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgaWYgKG1hcHBpbmcgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBtYXBwaW5nID0ge307XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBtYXBwaW5nW25hbWVdID0gY2FwdHVyaW5nQnJhY2tldE51bWJlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbmFtZSArPSBzdWJDaGFyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xlYW5lZFJlZ2V4ICs9IF9jaGFyO1xuICAgICAgICAgICAgY2FwdHVyaW5nQnJhY2tldE51bWJlcisrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGVhbmVkUmVnZXggKz0gX2NoYXI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsZWFuZWRSZWdleCArPSBfY2hhcjtcbiAgICAgIH1cbiAgICAgIGkrKztcbiAgICB9XG4gICAgdGhpcy5yYXdSZWdleCA9IHJhd1JlZ2V4O1xuICAgIHRoaXMuY2xlYW5lZFJlZ2V4ID0gY2xlYW5lZFJlZ2V4O1xuICAgIHRoaXMucmVnZXggPSBuZXcgUmVnRXhwKHRoaXMuY2xlYW5lZFJlZ2V4LCAnZycgKyBtb2RpZmllcnMucmVwbGFjZSgnZycsICcnKSk7XG4gICAgdGhpcy5tYXBwaW5nID0gbWFwcGluZztcbiAgfVxuXG4gIFBhdHRlcm4ucHJvdG90eXBlLmV4ZWMgPSBmdW5jdGlvbihzdHIpIHtcbiAgICB2YXIgaW5kZXgsIG1hdGNoZXMsIG5hbWUsIHJlZjtcbiAgICB0aGlzLnJlZ2V4Lmxhc3RJbmRleCA9IDA7XG4gICAgbWF0Y2hlcyA9IHRoaXMucmVnZXguZXhlYyhzdHIpO1xuICAgIGlmIChtYXRjaGVzID09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAodGhpcy5tYXBwaW5nICE9IG51bGwpIHtcbiAgICAgIHJlZiA9IHRoaXMubWFwcGluZztcbiAgICAgIGZvciAobmFtZSBpbiByZWYpIHtcbiAgICAgICAgaW5kZXggPSByZWZbbmFtZV07XG4gICAgICAgIG1hdGNoZXNbbmFtZV0gPSBtYXRjaGVzW2luZGV4XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoZXM7XG4gIH07XG5cbiAgUGF0dGVybi5wcm90b3R5cGUudGVzdCA9IGZ1bmN0aW9uKHN0cikge1xuICAgIHRoaXMucmVnZXgubGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4gdGhpcy5yZWdleC50ZXN0KHN0cik7XG4gIH07XG5cbiAgUGF0dGVybi5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uKHN0ciwgcmVwbGFjZW1lbnQpIHtcbiAgICB0aGlzLnJlZ2V4Lmxhc3RJbmRleCA9IDA7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKHRoaXMucmVnZXgsIHJlcGxhY2VtZW50KTtcbiAgfTtcblxuICBQYXR0ZXJuLnByb3RvdHlwZS5yZXBsYWNlQWxsID0gZnVuY3Rpb24oc3RyLCByZXBsYWNlbWVudCwgbGltaXQpIHtcbiAgICB2YXIgY291bnQ7XG4gICAgaWYgKGxpbWl0ID09IG51bGwpIHtcbiAgICAgIGxpbWl0ID0gMDtcbiAgICB9XG4gICAgdGhpcy5yZWdleC5sYXN0SW5kZXggPSAwO1xuICAgIGNvdW50ID0gMDtcbiAgICB3aGlsZSAodGhpcy5yZWdleC50ZXN0KHN0cikgJiYgKGxpbWl0ID09PSAwIHx8IGNvdW50IDwgbGltaXQpKSB7XG4gICAgICB0aGlzLnJlZ2V4Lmxhc3RJbmRleCA9IDA7XG4gICAgICBzdHIgPSBzdHIucmVwbGFjZSh0aGlzLnJlZ2V4LCAnJyk7XG4gICAgICBjb3VudCsrO1xuICAgIH1cbiAgICByZXR1cm4gW3N0ciwgY291bnRdO1xuICB9O1xuXG4gIHJldHVybiBQYXR0ZXJuO1xuXG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFBhdHRlcm47XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxudmFyIFBhdHRlcm4sIFVuZXNjYXBlciwgVXRpbHM7XG5cblV0aWxzID0gcmVxdWlyZSgnLi9VdGlscycpO1xuXG5QYXR0ZXJuID0gcmVxdWlyZSgnLi9QYXR0ZXJuJyk7XG5cblVuZXNjYXBlciA9IChmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gVW5lc2NhcGVyKCkge31cblxuICBVbmVzY2FwZXIuUEFUVEVSTl9FU0NBUEVEX0NIQVJBQ1RFUiA9IG5ldyBQYXR0ZXJuKCdcXFxcXFxcXChbMGFidFxcdG52ZnJlIFwiXFxcXC9cXFxcXFxcXE5fTFBdfHhbMC05YS1mQS1GXXsyfXx1WzAtOWEtZkEtRl17NH18VVswLTlhLWZBLUZdezh9KScpO1xuXG4gIFVuZXNjYXBlci51bmVzY2FwZVNpbmdsZVF1b3RlZFN0cmluZyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoL1xcJ1xcJy9nLCAnXFwnJyk7XG4gIH07XG5cbiAgVW5lc2NhcGVyLnVuZXNjYXBlRG91YmxlUXVvdGVkU3RyaW5nID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAodGhpcy5fdW5lc2NhcGVDYWxsYmFjayA9PSBudWxsKSB7XG4gICAgICB0aGlzLl91bmVzY2FwZUNhbGxiYWNrID0gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihzdHIpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMudW5lc2NhcGVDaGFyYWN0ZXIoc3RyKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5QQVRURVJOX0VTQ0FQRURfQ0hBUkFDVEVSLnJlcGxhY2UodmFsdWUsIHRoaXMuX3VuZXNjYXBlQ2FsbGJhY2spO1xuICB9O1xuXG4gIFVuZXNjYXBlci51bmVzY2FwZUNoYXJhY3RlciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIGNoO1xuICAgIGNoID0gU3RyaW5nLmZyb21DaGFyQ29kZTtcbiAgICBzd2l0Y2ggKHZhbHVlLmNoYXJBdCgxKSkge1xuICAgICAgY2FzZSAnMCc6XG4gICAgICAgIHJldHVybiBjaCgwKTtcbiAgICAgIGNhc2UgJ2EnOlxuICAgICAgICByZXR1cm4gY2goNyk7XG4gICAgICBjYXNlICdiJzpcbiAgICAgICAgcmV0dXJuIGNoKDgpO1xuICAgICAgY2FzZSAndCc6XG4gICAgICAgIHJldHVybiBcIlxcdFwiO1xuICAgICAgY2FzZSBcIlxcdFwiOlxuICAgICAgICByZXR1cm4gXCJcXHRcIjtcbiAgICAgIGNhc2UgJ24nOlxuICAgICAgICByZXR1cm4gXCJcXG5cIjtcbiAgICAgIGNhc2UgJ3YnOlxuICAgICAgICByZXR1cm4gY2goMTEpO1xuICAgICAgY2FzZSAnZic6XG4gICAgICAgIHJldHVybiBjaCgxMik7XG4gICAgICBjYXNlICdyJzpcbiAgICAgICAgcmV0dXJuIGNoKDEzKTtcbiAgICAgIGNhc2UgJ2UnOlxuICAgICAgICByZXR1cm4gY2goMjcpO1xuICAgICAgY2FzZSAnICc6XG4gICAgICAgIHJldHVybiAnICc7XG4gICAgICBjYXNlICdcIic6XG4gICAgICAgIHJldHVybiAnXCInO1xuICAgICAgY2FzZSAnLyc6XG4gICAgICAgIHJldHVybiAnLyc7XG4gICAgICBjYXNlICdcXFxcJzpcbiAgICAgICAgcmV0dXJuICdcXFxcJztcbiAgICAgIGNhc2UgJ04nOlxuICAgICAgICByZXR1cm4gY2goMHgwMDg1KTtcbiAgICAgIGNhc2UgJ18nOlxuICAgICAgICByZXR1cm4gY2goMHgwMEEwKTtcbiAgICAgIGNhc2UgJ0wnOlxuICAgICAgICByZXR1cm4gY2goMHgyMDI4KTtcbiAgICAgIGNhc2UgJ1AnOlxuICAgICAgICByZXR1cm4gY2goMHgyMDI5KTtcbiAgICAgIGNhc2UgJ3gnOlxuICAgICAgICByZXR1cm4gVXRpbHMudXRmOGNocihVdGlscy5oZXhEZWModmFsdWUuc3Vic3RyKDIsIDIpKSk7XG4gICAgICBjYXNlICd1JzpcbiAgICAgICAgcmV0dXJuIFV0aWxzLnV0ZjhjaHIoVXRpbHMuaGV4RGVjKHZhbHVlLnN1YnN0cigyLCA0KSkpO1xuICAgICAgY2FzZSAnVSc6XG4gICAgICAgIHJldHVybiBVdGlscy51dGY4Y2hyKFV0aWxzLmhleERlYyh2YWx1ZS5zdWJzdHIoMiwgOCkpKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFVuZXNjYXBlcjtcblxufSkoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBVbmVzY2FwZXI7XG4iLCIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTAuMFxudmFyIFBhdHRlcm4sIFV0aWxzO1xuXG5QYXR0ZXJuID0gcmVxdWlyZSgnLi9QYXR0ZXJuJyk7XG5cblV0aWxzID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBVdGlscygpIHt9XG5cbiAgVXRpbHMuUkVHRVhfTEVGVF9UUklNX0JZX0NIQVIgPSB7fTtcblxuICBVdGlscy5SRUdFWF9SSUdIVF9UUklNX0JZX0NIQVIgPSB7fTtcblxuICBVdGlscy5SRUdFWF9TUEFDRVMgPSAvXFxzKy9nO1xuXG4gIFV0aWxzLlJFR0VYX0RJR0lUUyA9IC9eXFxkKyQvO1xuXG4gIFV0aWxzLlJFR0VYX09DVEFMID0gL1teMC03XS9naTtcblxuICBVdGlscy5SRUdFWF9IRVhBREVDSU1BTCA9IC9bXmEtZjAtOV0vZ2k7XG5cbiAgVXRpbHMuUEFUVEVSTl9EQVRFID0gbmV3IFBhdHRlcm4oJ14nICsgJyg/PHllYXI+WzAtOV1bMC05XVswLTldWzAtOV0pJyArICctKD88bW9udGg+WzAtOV1bMC05XT8pJyArICctKD88ZGF5PlswLTldWzAtOV0/KScgKyAnKD86KD86W1R0XXxbIFxcdF0rKScgKyAnKD88aG91cj5bMC05XVswLTldPyknICsgJzooPzxtaW51dGU+WzAtOV1bMC05XSknICsgJzooPzxzZWNvbmQ+WzAtOV1bMC05XSknICsgJyg/OlxcLig/PGZyYWN0aW9uPlswLTldKikpPycgKyAnKD86WyBcXHRdKig/PHR6Plp8KD88dHpfc2lnbj5bLStdKSg/PHR6X2hvdXI+WzAtOV1bMC05XT8pJyArICcoPzo6KD88dHpfbWludXRlPlswLTldWzAtOV0pKT8pKT8pPycgKyAnJCcsICdpJyk7XG5cbiAgVXRpbHMuTE9DQUxfVElNRVpPTkVfT0ZGU0VUID0gbmV3IERhdGUoKS5nZXRUaW1lem9uZU9mZnNldCgpICogNjAgKiAxMDAwO1xuXG4gIFV0aWxzLnRyaW0gPSBmdW5jdGlvbihzdHIsIF9jaGFyKSB7XG4gICAgdmFyIHJlZ2V4TGVmdCwgcmVnZXhSaWdodDtcbiAgICBpZiAoX2NoYXIgPT0gbnVsbCkge1xuICAgICAgX2NoYXIgPSAnXFxcXHMnO1xuICAgIH1cbiAgICByZXR1cm4gc3RyLnRyaW0oKTtcbiAgICByZWdleExlZnQgPSB0aGlzLlJFR0VYX0xFRlRfVFJJTV9CWV9DSEFSW19jaGFyXTtcbiAgICBpZiAocmVnZXhMZWZ0ID09IG51bGwpIHtcbiAgICAgIHRoaXMuUkVHRVhfTEVGVF9UUklNX0JZX0NIQVJbX2NoYXJdID0gcmVnZXhMZWZ0ID0gbmV3IFJlZ0V4cCgnXicgKyBfY2hhciArICcnICsgX2NoYXIgKyAnKicpO1xuICAgIH1cbiAgICByZWdleExlZnQubGFzdEluZGV4ID0gMDtcbiAgICByZWdleFJpZ2h0ID0gdGhpcy5SRUdFWF9SSUdIVF9UUklNX0JZX0NIQVJbX2NoYXJdO1xuICAgIGlmIChyZWdleFJpZ2h0ID09IG51bGwpIHtcbiAgICAgIHRoaXMuUkVHRVhfUklHSFRfVFJJTV9CWV9DSEFSW19jaGFyXSA9IHJlZ2V4UmlnaHQgPSBuZXcgUmVnRXhwKF9jaGFyICsgJycgKyBfY2hhciArICcqJCcpO1xuICAgIH1cbiAgICByZWdleFJpZ2h0Lmxhc3RJbmRleCA9IDA7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKHJlZ2V4TGVmdCwgJycpLnJlcGxhY2UocmVnZXhSaWdodCwgJycpO1xuICB9O1xuXG4gIFV0aWxzLmx0cmltID0gZnVuY3Rpb24oc3RyLCBfY2hhcikge1xuICAgIHZhciByZWdleExlZnQ7XG4gICAgaWYgKF9jaGFyID09IG51bGwpIHtcbiAgICAgIF9jaGFyID0gJ1xcXFxzJztcbiAgICB9XG4gICAgcmVnZXhMZWZ0ID0gdGhpcy5SRUdFWF9MRUZUX1RSSU1fQllfQ0hBUltfY2hhcl07XG4gICAgaWYgKHJlZ2V4TGVmdCA9PSBudWxsKSB7XG4gICAgICB0aGlzLlJFR0VYX0xFRlRfVFJJTV9CWV9DSEFSW19jaGFyXSA9IHJlZ2V4TGVmdCA9IG5ldyBSZWdFeHAoJ14nICsgX2NoYXIgKyAnJyArIF9jaGFyICsgJyonKTtcbiAgICB9XG4gICAgcmVnZXhMZWZ0Lmxhc3RJbmRleCA9IDA7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKHJlZ2V4TGVmdCwgJycpO1xuICB9O1xuXG4gIFV0aWxzLnJ0cmltID0gZnVuY3Rpb24oc3RyLCBfY2hhcikge1xuICAgIHZhciByZWdleFJpZ2h0O1xuICAgIGlmIChfY2hhciA9PSBudWxsKSB7XG4gICAgICBfY2hhciA9ICdcXFxccyc7XG4gICAgfVxuICAgIHJlZ2V4UmlnaHQgPSB0aGlzLlJFR0VYX1JJR0hUX1RSSU1fQllfQ0hBUltfY2hhcl07XG4gICAgaWYgKHJlZ2V4UmlnaHQgPT0gbnVsbCkge1xuICAgICAgdGhpcy5SRUdFWF9SSUdIVF9UUklNX0JZX0NIQVJbX2NoYXJdID0gcmVnZXhSaWdodCA9IG5ldyBSZWdFeHAoX2NoYXIgKyAnJyArIF9jaGFyICsgJyokJyk7XG4gICAgfVxuICAgIHJlZ2V4UmlnaHQubGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UocmVnZXhSaWdodCwgJycpO1xuICB9O1xuXG4gIFV0aWxzLmlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiAhdmFsdWUgfHwgdmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSAnMCcgfHwgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgJiYgdmFsdWUubGVuZ3RoID09PSAwKTtcbiAgfTtcblxuICBVdGlscy5zdWJTdHJDb3VudCA9IGZ1bmN0aW9uKHN0cmluZywgc3ViU3RyaW5nLCBzdGFydCwgbGVuZ3RoKSB7XG4gICAgdmFyIGMsIGksIGosIGxlbiwgcmVmLCBzdWJsZW47XG4gICAgYyA9IDA7XG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmc7XG4gICAgc3ViU3RyaW5nID0gJycgKyBzdWJTdHJpbmc7XG4gICAgaWYgKHN0YXJ0ICE9IG51bGwpIHtcbiAgICAgIHN0cmluZyA9IHN0cmluZy5zbGljZShzdGFydCk7XG4gICAgfVxuICAgIGlmIChsZW5ndGggIT0gbnVsbCkge1xuICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIGxlbmd0aCk7XG4gICAgfVxuICAgIGxlbiA9IHN0cmluZy5sZW5ndGg7XG4gICAgc3VibGVuID0gc3ViU3RyaW5nLmxlbmd0aDtcbiAgICBmb3IgKGkgPSBqID0gMCwgcmVmID0gbGVuOyAwIDw9IHJlZiA/IGogPCByZWYgOiBqID4gcmVmOyBpID0gMCA8PSByZWYgPyArK2ogOiAtLWopIHtcbiAgICAgIGlmIChzdWJTdHJpbmcgPT09IHN0cmluZy5zbGljZShpLCBzdWJsZW4pKSB7XG4gICAgICAgIGMrKztcbiAgICAgICAgaSArPSBzdWJsZW4gLSAxO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYztcbiAgfTtcblxuICBVdGlscy5pc0RpZ2l0cyA9IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgdGhpcy5SRUdFWF9ESUdJVFMubGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4gdGhpcy5SRUdFWF9ESUdJVFMudGVzdChpbnB1dCk7XG4gIH07XG5cbiAgVXRpbHMub2N0RGVjID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICB0aGlzLlJFR0VYX09DVEFMLmxhc3RJbmRleCA9IDA7XG4gICAgcmV0dXJuIHBhcnNlSW50KChpbnB1dCArICcnKS5yZXBsYWNlKHRoaXMuUkVHRVhfT0NUQUwsICcnKSwgOCk7XG4gIH07XG5cbiAgVXRpbHMuaGV4RGVjID0gZnVuY3Rpb24oaW5wdXQpIHtcbiAgICB0aGlzLlJFR0VYX0hFWEFERUNJTUFMLmxhc3RJbmRleCA9IDA7XG4gICAgaW5wdXQgPSB0aGlzLnRyaW0oaW5wdXQpO1xuICAgIGlmICgoaW5wdXQgKyAnJykuc2xpY2UoMCwgMikgPT09ICcweCcpIHtcbiAgICAgIGlucHV0ID0gKGlucHV0ICsgJycpLnNsaWNlKDIpO1xuICAgIH1cbiAgICByZXR1cm4gcGFyc2VJbnQoKGlucHV0ICsgJycpLnJlcGxhY2UodGhpcy5SRUdFWF9IRVhBREVDSU1BTCwgJycpLCAxNik7XG4gIH07XG5cbiAgVXRpbHMudXRmOGNociA9IGZ1bmN0aW9uKGMpIHtcbiAgICB2YXIgY2g7XG4gICAgY2ggPSBTdHJpbmcuZnJvbUNoYXJDb2RlO1xuICAgIGlmICgweDgwID4gKGMgJT0gMHgyMDAwMDApKSB7XG4gICAgICByZXR1cm4gY2goYyk7XG4gICAgfVxuICAgIGlmICgweDgwMCA+IGMpIHtcbiAgICAgIHJldHVybiBjaCgweEMwIHwgYyA+PiA2KSArIGNoKDB4ODAgfCBjICYgMHgzRik7XG4gICAgfVxuICAgIGlmICgweDEwMDAwID4gYykge1xuICAgICAgcmV0dXJuIGNoKDB4RTAgfCBjID4+IDEyKSArIGNoKDB4ODAgfCBjID4+IDYgJiAweDNGKSArIGNoKDB4ODAgfCBjICYgMHgzRik7XG4gICAgfVxuICAgIHJldHVybiBjaCgweEYwIHwgYyA+PiAxOCkgKyBjaCgweDgwIHwgYyA+PiAxMiAmIDB4M0YpICsgY2goMHg4MCB8IGMgPj4gNiAmIDB4M0YpICsgY2goMHg4MCB8IGMgJiAweDNGKTtcbiAgfTtcblxuICBVdGlscy5wYXJzZUJvb2xlYW4gPSBmdW5jdGlvbihpbnB1dCwgc3RyaWN0KSB7XG4gICAgdmFyIGxvd2VySW5wdXQ7XG4gICAgaWYgKHN0cmljdCA9PSBudWxsKSB7XG4gICAgICBzdHJpY3QgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykge1xuICAgICAgbG93ZXJJbnB1dCA9IGlucHV0LnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoIXN0cmljdCkge1xuICAgICAgICBpZiAobG93ZXJJbnB1dCA9PT0gJ25vJykge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxvd2VySW5wdXQgPT09ICcwJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAobG93ZXJJbnB1dCA9PT0gJ2ZhbHNlJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAobG93ZXJJbnB1dCA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAhIWlucHV0O1xuICB9O1xuXG4gIFV0aWxzLmlzTnVtZXJpYyA9IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgdGhpcy5SRUdFWF9TUEFDRVMubGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnICYmICFpc05hTihpbnB1dCkgJiYgaW5wdXQucmVwbGFjZSh0aGlzLlJFR0VYX1NQQUNFUywgJycpICE9PSAnJztcbiAgfTtcblxuICBVdGlscy5zdHJpbmdUb0RhdGUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICB2YXIgZGF0ZSwgZGF5LCBmcmFjdGlvbiwgaG91ciwgaW5mbywgbWludXRlLCBtb250aCwgc2Vjb25kLCB0el9ob3VyLCB0el9taW51dGUsIHR6X29mZnNldCwgeWVhcjtcbiAgICBpZiAoIShzdHIgIT0gbnVsbCA/IHN0ci5sZW5ndGggOiB2b2lkIDApKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaW5mbyA9IHRoaXMuUEFUVEVSTl9EQVRFLmV4ZWMoc3RyKTtcbiAgICBpZiAoIWluZm8pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB5ZWFyID0gcGFyc2VJbnQoaW5mby55ZWFyLCAxMCk7XG4gICAgbW9udGggPSBwYXJzZUludChpbmZvLm1vbnRoLCAxMCkgLSAxO1xuICAgIGRheSA9IHBhcnNlSW50KGluZm8uZGF5LCAxMCk7XG4gICAgaWYgKGluZm8uaG91ciA9PSBudWxsKSB7XG4gICAgICBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGgsIGRheSkpO1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuICAgIGhvdXIgPSBwYXJzZUludChpbmZvLmhvdXIsIDEwKTtcbiAgICBtaW51dGUgPSBwYXJzZUludChpbmZvLm1pbnV0ZSwgMTApO1xuICAgIHNlY29uZCA9IHBhcnNlSW50KGluZm8uc2Vjb25kLCAxMCk7XG4gICAgaWYgKGluZm8uZnJhY3Rpb24gIT0gbnVsbCkge1xuICAgICAgZnJhY3Rpb24gPSBpbmZvLmZyYWN0aW9uLnNsaWNlKDAsIDMpO1xuICAgICAgd2hpbGUgKGZyYWN0aW9uLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgZnJhY3Rpb24gKz0gJzAnO1xuICAgICAgfVxuICAgICAgZnJhY3Rpb24gPSBwYXJzZUludChmcmFjdGlvbiwgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICBmcmFjdGlvbiA9IDA7XG4gICAgfVxuICAgIGlmIChpbmZvLnR6ICE9IG51bGwpIHtcbiAgICAgIHR6X2hvdXIgPSBwYXJzZUludChpbmZvLnR6X2hvdXIsIDEwKTtcbiAgICAgIGlmIChpbmZvLnR6X21pbnV0ZSAhPSBudWxsKSB7XG4gICAgICAgIHR6X21pbnV0ZSA9IHBhcnNlSW50KGluZm8udHpfbWludXRlLCAxMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0el9taW51dGUgPSAwO1xuICAgICAgfVxuICAgICAgdHpfb2Zmc2V0ID0gKHR6X2hvdXIgKiA2MCArIHR6X21pbnV0ZSkgKiA2MDAwMDtcbiAgICAgIGlmICgnLScgPT09IGluZm8udHpfc2lnbikge1xuICAgICAgICB0el9vZmZzZXQgKj0gLTE7XG4gICAgICB9XG4gICAgfVxuICAgIGRhdGUgPSBuZXcgRGF0ZShEYXRlLlVUQyh5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgZnJhY3Rpb24pKTtcbiAgICBpZiAodHpfb2Zmc2V0KSB7XG4gICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyB0el9vZmZzZXQpO1xuICAgIH1cbiAgICByZXR1cm4gZGF0ZTtcbiAgfTtcblxuICBVdGlscy5zdHJSZXBlYXQgPSBmdW5jdGlvbihzdHIsIG51bWJlcikge1xuICAgIHZhciBpLCByZXM7XG4gICAgcmVzID0gJyc7XG4gICAgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBudW1iZXIpIHtcbiAgICAgIHJlcyArPSBzdHI7XG4gICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG4gIH07XG5cbiAgVXRpbHMuZ2V0U3RyaW5nRnJvbUZpbGUgPSBmdW5jdGlvbihwYXRoLCBjYWxsYmFjaykge1xuICAgIHZhciBkYXRhLCBmcywgaiwgbGVuMSwgbmFtZSwgcmVmLCByZXEsIHhocjtcbiAgICBpZiAoY2FsbGJhY2sgPT0gbnVsbCkge1xuICAgICAgY2FsbGJhY2sgPSBudWxsO1xuICAgIH1cbiAgICB4aHIgPSBudWxsO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdyAhPT0gbnVsbCkge1xuICAgICAgaWYgKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkge1xuICAgICAgICB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgIH0gZWxzZSBpZiAod2luZG93LkFjdGl2ZVhPYmplY3QpIHtcbiAgICAgICAgcmVmID0gW1wiTXN4bWwyLlhNTEhUVFAuNi4wXCIsIFwiTXN4bWwyLlhNTEhUVFAuMy4wXCIsIFwiTXN4bWwyLlhNTEhUVFBcIiwgXCJNaWNyb3NvZnQuWE1MSFRUUFwiXTtcbiAgICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHJlZi5sZW5ndGg7IGogPCBsZW4xOyBqKyspIHtcbiAgICAgICAgICBuYW1lID0gcmVmW2pdO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB4aHIgPSBuZXcgQWN0aXZlWE9iamVjdChuYW1lKTtcbiAgICAgICAgICB9IGNhdGNoICh1bmRlZmluZWQpIHt9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHhociAhPSBudWxsKSB7XG4gICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkge1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwIHx8IHhoci5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHBhdGgsIHRydWUpO1xuICAgICAgICByZXR1cm4geGhyLnNlbmQobnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB4aHIub3BlbignR0VUJywgcGF0aCwgZmFsc2UpO1xuICAgICAgICB4aHIuc2VuZChudWxsKTtcbiAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCB8fCB4aHIuc3RhdHVzID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcSA9IHJlcXVpcmU7XG4gICAgICBmcyA9IHJlcSgnZnMnKTtcbiAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmcy5yZWFkRmlsZShwYXRoLCBmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayhTdHJpbmcoZGF0YSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGgpO1xuICAgICAgICBpZiAoZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyhkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIFV0aWxzO1xuXG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFV0aWxzO1xuIiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEwLjBcbnZhciBEdW1wZXIsIFBhcnNlciwgVXRpbHMsIFlhbWw7XG5cblBhcnNlciA9IHJlcXVpcmUoJy4vUGFyc2VyJyk7XG5cbkR1bXBlciA9IHJlcXVpcmUoJy4vRHVtcGVyJyk7XG5cblV0aWxzID0gcmVxdWlyZSgnLi9VdGlscycpO1xuXG5ZYW1sID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBZYW1sKCkge31cblxuICBZYW1sLnBhcnNlID0gZnVuY3Rpb24oaW5wdXQsIGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsIG9iamVjdERlY29kZXIpIHtcbiAgICBpZiAoZXhjZXB0aW9uT25JbnZhbGlkVHlwZSA9PSBudWxsKSB7XG4gICAgICBleGNlcHRpb25PbkludmFsaWRUeXBlID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChvYmplY3REZWNvZGVyID09IG51bGwpIHtcbiAgICAgIG9iamVjdERlY29kZXIgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFBhcnNlcigpLnBhcnNlKGlucHV0LCBleGNlcHRpb25PbkludmFsaWRUeXBlLCBvYmplY3REZWNvZGVyKTtcbiAgfTtcblxuICBZYW1sLnBhcnNlRmlsZSA9IGZ1bmN0aW9uKHBhdGgsIGNhbGxiYWNrLCBleGNlcHRpb25PbkludmFsaWRUeXBlLCBvYmplY3REZWNvZGVyKSB7XG4gICAgdmFyIGlucHV0O1xuICAgIGlmIChjYWxsYmFjayA9PSBudWxsKSB7XG4gICAgICBjYWxsYmFjayA9IG51bGw7XG4gICAgfVxuICAgIGlmIChleGNlcHRpb25PbkludmFsaWRUeXBlID09IG51bGwpIHtcbiAgICAgIGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKG9iamVjdERlY29kZXIgPT0gbnVsbCkge1xuICAgICAgb2JqZWN0RGVjb2RlciA9IG51bGw7XG4gICAgfVxuICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gVXRpbHMuZ2V0U3RyaW5nRnJvbUZpbGUocGF0aCwgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICBpZiAoaW5wdXQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gX3RoaXMucGFyc2UoaW5wdXQsIGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsIG9iamVjdERlY29kZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dCA9IFV0aWxzLmdldFN0cmluZ0Zyb21GaWxlKHBhdGgpO1xuICAgICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2UoaW5wdXQsIGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsIG9iamVjdERlY29kZXIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIFlhbWwuZHVtcCA9IGZ1bmN0aW9uKGlucHV0LCBpbmxpbmUsIGluZGVudCwgZXhjZXB0aW9uT25JbnZhbGlkVHlwZSwgb2JqZWN0RW5jb2Rlcikge1xuICAgIHZhciB5YW1sO1xuICAgIGlmIChpbmxpbmUgPT0gbnVsbCkge1xuICAgICAgaW5saW5lID0gMjtcbiAgICB9XG4gICAgaWYgKGluZGVudCA9PSBudWxsKSB7XG4gICAgICBpbmRlbnQgPSA0O1xuICAgIH1cbiAgICBpZiAoZXhjZXB0aW9uT25JbnZhbGlkVHlwZSA9PSBudWxsKSB7XG4gICAgICBleGNlcHRpb25PbkludmFsaWRUeXBlID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChvYmplY3RFbmNvZGVyID09IG51bGwpIHtcbiAgICAgIG9iamVjdEVuY29kZXIgPSBudWxsO1xuICAgIH1cbiAgICB5YW1sID0gbmV3IER1bXBlcigpO1xuICAgIHlhbWwuaW5kZW50YXRpb24gPSBpbmRlbnQ7XG4gICAgcmV0dXJuIHlhbWwuZHVtcChpbnB1dCwgaW5saW5lLCAwLCBleGNlcHRpb25PbkludmFsaWRUeXBlLCBvYmplY3RFbmNvZGVyKTtcbiAgfTtcblxuICBZYW1sLnJlZ2lzdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlcXVpcmVfaGFuZGxlcjtcbiAgICByZXF1aXJlX2hhbmRsZXIgPSBmdW5jdGlvbihtb2R1bGUsIGZpbGVuYW1lKSB7XG4gICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHMgPSBZQU1MLnBhcnNlRmlsZShmaWxlbmFtZSk7XG4gICAgfTtcbiAgICBpZiAoKHR5cGVvZiByZXF1aXJlICE9PSBcInVuZGVmaW5lZFwiICYmIHJlcXVpcmUgIT09IG51bGwgPyByZXF1aXJlLmV4dGVuc2lvbnMgOiB2b2lkIDApICE9IG51bGwpIHtcbiAgICAgIHJlcXVpcmUuZXh0ZW5zaW9uc1snLnltbCddID0gcmVxdWlyZV9oYW5kbGVyO1xuICAgICAgcmV0dXJuIHJlcXVpcmUuZXh0ZW5zaW9uc1snLnlhbWwnXSA9IHJlcXVpcmVfaGFuZGxlcjtcbiAgICB9XG4gIH07XG5cbiAgWWFtbC5zdHJpbmdpZnkgPSBmdW5jdGlvbihpbnB1dCwgaW5saW5lLCBpbmRlbnQsIGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsIG9iamVjdEVuY29kZXIpIHtcbiAgICByZXR1cm4gdGhpcy5kdW1wKGlucHV0LCBpbmxpbmUsIGluZGVudCwgZXhjZXB0aW9uT25JbnZhbGlkVHlwZSwgb2JqZWN0RW5jb2Rlcik7XG4gIH07XG5cbiAgWWFtbC5sb2FkID0gZnVuY3Rpb24ocGF0aCwgY2FsbGJhY2ssIGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsIG9iamVjdERlY29kZXIpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJzZUZpbGUocGF0aCwgY2FsbGJhY2ssIGV4Y2VwdGlvbk9uSW52YWxpZFR5cGUsIG9iamVjdERlY29kZXIpO1xuICB9O1xuXG4gIHJldHVybiBZYW1sO1xuXG59KSgpO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cgIT09IG51bGwpIHtcbiAgd2luZG93LllBTUwgPSBZYW1sO1xufVxuXG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIiB8fCB3aW5kb3cgPT09IG51bGwpIHtcbiAgdGhpcy5ZQU1MID0gWWFtbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBZYW1sO1xuIiwiaW1wb3J0IFRDIGZyb20gJy4vdGFuZ3JhbSc7XG5cbm1vZHVsZS5leHBvcnRzID0gVEM7XG4iLCJpbXBvcnQgQ0NTUyBmcm9tICd0YW5ncmFtLWNhcnRvY3NzJztcbmltcG9ydCB5YW1sIGZyb20gJy4veWFtbCc7XG5cbnZhciBTT1VSQ0VTID0ge1xuICAgIG1hcG5pazoge1xuICAgICAgICB0eXBlOiAnTVZUJyxcbiAgICAgICAgdXJsOiBmdW5jdGlvbiggdXJsICkge1xuICAgICAgICAgICAgcmV0dXJuIHVybC5yZXBsYWNlKCd7bGF5ZXJJbmRleGVzfScsICdtYXBuaWsnKS5yZXBsYWNlKCcucG5nJywgJy5tdnQnKTtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBnZW5lcmF0ZVNvdXJjZXMgPSBmdW5jdGlvbiBnZW5lcmF0ZVNvdXJjZXModXJsKSB7XG4gIC8vIFRPRE86IG1ha2UgdGhpcyBkeW5hbWljIGlmIGl0IGlzIG5lY2Nlc3NhcnlcbiAgdmFyIHNvdXJjZSA9IFNPVVJDRVNbJ21hcG5payddO1xuXG4gIHJldHVybiB7XG4gICAgdHlwZTogc291cmNlLnR5cGUsXG4gICAgdXJsOiBzb3VyY2UudXJsKCB1cmwgKVxuICB9O1xufTtcblxudmFyIFRDID0gZnVuY3Rpb24gKG1hcCkge1xuICB0aGlzLnNjZW5lID0gVGFuZ3JhbS5sZWFmbGV0TGF5ZXIoe1xuICAgIHNjZW5lOiB5YW1sLmdldEJhc2VGaWxlKClcbiAgfSkuYWRkVG8obWFwKS5zY2VuZTtcbn07XG5cblRDLnByb3RvdHlwZSA9IHtcbiAgYWRkTGF5ZXI6IGZ1bmN0aW9uIChsYXllcikge1xuICAgIGxldCBseSA9IHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbGF5ZXI6ICdsYXllcicgKyBsYXllci5zb3VyY2UubWF0Y2goL1xcZC9nKVswXSxcbiAgICAgICAgc291cmNlOiAnQ2FydG9EQidcbiAgICAgIH0sXG4gICAgICBkcmF3OiBDQ1NTLmNhcnRvMkRyYXcobGF5ZXIubWV0YS5jYXJ0b2NzcylcbiAgICB9O1xuXG4gICAgdGhpcy5zY2VuZS5jb25maWcubGF5ZXJzW2xheWVyLmxheWVyX25hbWVdID0gbHk7XG4gICAgdGhpcy5zY2VuZS51cGRhdGVDb25maWcoKTtcbiAgfSxcblxuICBhZGREYXRhU291cmNlOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgdGhpcy5zY2VuZS5zZXREYXRhU291cmNlKCdDYXJ0b0RCJywgZ2VuZXJhdGVTb3VyY2VzKHVybCkpO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBUQztcbiIsImxldCB5YW1sanMgPSByZXF1aXJlKCd5YW1sanMnKTtcblxuY29uc3QgU09VUkNFUyA9IHtcbiAgICBtYXBuaWs6IHtcbiAgICAgICAgdHlwZTogJ01WVCcsXG4gICAgICAgIHVybDogZnVuY3Rpb24oIHVybCApIHtcbiAgICAgICAgICAgIHJldHVybiB1cmwucmVwbGFjZSgne2xheWVySW5kZXhlc30nLCAnbWFwbmlrJykucmVwbGFjZSgnLnBuZycsICcubXZ0Jyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5jb25zdCBnZXRCYXNlUHJvcGVydGllcyA9IGZ1bmN0aW9uIGdldEJhc2VQcm9wZXJ0aWVzKCkge1xuICByZXR1cm4ge1xuICAgIGdsb2JhbDoge1xuICAgICAgbGFuZ3VhZ2U6ICdlbidcbiAgICB9LFxuXG4gICAgY2FtZXJhczoge1xuICAgICAgcHJlc3BlY3RpdmU6IHtcbiAgICAgICAgdHlwZTogJ3BlcnNwZWN0aXZlJyxcbiAgICAgICAgdmFuaXNoaW5nX3BvaW50OiBbICcwJywgJy0yNTBweCcgXSxcbiAgICAgICAgYWN0aXZlOiBmYWxzZVxuICAgICAgfSxcblxuICAgICAgaXNvbWV0cmljOiB7XG4gICAgICAgIHR5cGU6ICdpc29tZXRyaWMnLFxuICAgICAgICBheGlzOiBbIDAsIDEgXSxcbiAgICAgICAgYWN0aXZlOiB0cnVlXG4gICAgICB9LFxuICAgICAgZmxhdDoge1xuICAgICAgICB0eXBlOiAnZmxhdCcsXG4gICAgICAgIGFjdGl2ZTogZmFsc2VcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZm9udHM6IHtcbiAgICAgIE1vbnRzZXJyYXQ6IHtcbiAgICAgICAgdXJsOiAnaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbS9zL21vbnRzZXJyYXQvdjcvemhjei1fV2loalNRQzBvSEo5VENZTDNocHczcGd5MmdBaS1JcDdXUE1pMC53b2ZmJ1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBsYXllcnM6IHt9XG4gIH07XG59O1xuXG5jb25zdCBnZW5lcmF0ZVlBTUwgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB5YW1sanMuc3RyaW5naWZ5KCBnZXRCYXNlUHJvcGVydGllcygpLCAzKTtcbn07XG5cbmNvbnN0IGdldEJhc2VGaWxlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gVVJMLmNyZWF0ZU9iamVjdFVSTCggbmV3IEJsb2IoIFsgZ2VuZXJhdGVZQU1MKCkgXSApICk7XG59O1xuXG52YXIgeWFtbDtcbmV4cG9ydCBkZWZhdWx0IHlhbWwgPSB7XG4gIGdldEJhc2VGaWxlXG59O1xuIl19
